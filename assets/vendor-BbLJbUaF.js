function zy(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gc={exports:{}},xs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function WT(){if(Cm)return xs;Cm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(s,a,c){var d=null;if(c!==void 0&&(d=""+c),a.key!==void 0&&(d=""+a.key),"key"in a){c={};for(var m in a)m!=="key"&&(c[m]=a[m])}else c=a;return a=c.ref,{$$typeof:n,type:s,key:d,ref:a!==void 0?a:null,props:c}}return xs.Fragment=e,xs.jsx=o,xs.jsxs=o,xs}var Am;function jT(){return Am||(Am=1,gc.exports=WT()),gc.exports}var S2=jT(),yc={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function eE(){if(Rm)return re;Rm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function C(I){return I===null||typeof I!="object"?null:(I=T&&I[T]||I["@@iterator"],typeof I=="function"?I:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,x={};function G(I,V,J){this.props=I,this.context=V,this.refs=x,this.updater=J||D}G.prototype.isReactComponent={},G.prototype.setState=function(I,V){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,V,"setState")},G.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function z(){}z.prototype=G.prototype;function q(I,V,J){this.props=I,this.context=V,this.refs=x,this.updater=J||D}var K=q.prototype=new z;K.constructor=q,k(K,G.prototype),K.isPureReactComponent=!0;var ee=Array.isArray;function te(){}var F={H:null,A:null,T:null,S:null},ge=Object.prototype.hasOwnProperty;function Z(I,V,J){var X=J.ref;return{$$typeof:n,type:I,key:V,ref:X!==void 0?X:null,props:J}}function he(I,V){return Z(I.type,V,I.props)}function Ae(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function He(I){var V={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(J){return V[J]})}var Se=/\/+/g;function ze(I,V){return typeof I=="object"&&I!==null&&I.key!=null?He(""+I.key):V.toString(36)}function ct(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(te,te):(I.status="pending",I.then(function(V){I.status==="pending"&&(I.status="fulfilled",I.value=V)},function(V){I.status==="pending"&&(I.status="rejected",I.reason=V)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function L(I,V,J,X,ae){var ce=typeof I;(ce==="undefined"||ce==="boolean")&&(I=null);var Ce=!1;if(I===null)Ce=!0;else switch(ce){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(I.$$typeof){case n:case e:Ce=!0;break;case v:return Ce=I._init,L(Ce(I._payload),V,J,X,ae)}}if(Ce)return ae=ae(I),Ce=X===""?"."+ze(I,0):X,ee(ae)?(J="",Ce!=null&&(J=Ce.replace(Se,"$&/")+"/"),L(ae,V,J,"",function(Go){return Go})):ae!=null&&(Ae(ae)&&(ae=he(ae,J+(ae.key==null||I&&I.key===ae.key?"":(""+ae.key).replace(Se,"$&/")+"/")+Ce)),V.push(ae)),1;Ce=0;var st=X===""?".":X+":";if(ee(I))for(var Ge=0;Ge<I.length;Ge++)X=I[Ge],ce=st+ze(X,Ge),Ce+=L(X,V,J,ce,ae);else if(Ge=C(I),typeof Ge=="function")for(I=Ge.call(I),Ge=0;!(X=I.next()).done;)X=X.value,ce=st+ze(X,Ge++),Ce+=L(X,V,J,ce,ae);else if(ce==="object"){if(typeof I.then=="function")return L(ct(I),V,J,X,ae);throw V=String(I),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function B(I,V,J){if(I==null)return I;var X=[],ae=0;return L(I,X,"","",function(ce){return V.call(J,ce,ae++)}),X}function oe(I){if(I._status===-1){var V=I._result;V=V(),V.then(function(J){(I._status===0||I._status===-1)&&(I._status=1,I._result=J)},function(J){(I._status===0||I._status===-1)&&(I._status=2,I._result=J)}),I._status===-1&&(I._status=0,I._result=V)}if(I._status===1)return I._result.default;throw I._result}var Me=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},be={map:B,forEach:function(I,V,J){B(I,function(){V.apply(this,arguments)},J)},count:function(I){var V=0;return B(I,function(){V++}),V},toArray:function(I){return B(I,function(V){return V})||[]},only:function(I){if(!Ae(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return re.Activity=E,re.Children=be,re.Component=G,re.Fragment=o,re.Profiler=a,re.PureComponent=q,re.StrictMode=s,re.Suspense=y,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,re.__COMPILER_RUNTIME={__proto__:null,c:function(I){return F.H.useMemoCache(I)}},re.cache=function(I){return function(){return I.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(I,V,J){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var X=k({},I.props),ae=I.key;if(V!=null)for(ce in V.key!==void 0&&(ae=""+V.key),V)!ge.call(V,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&V.ref===void 0||(X[ce]=V[ce]);var ce=arguments.length-2;if(ce===1)X.children=J;else if(1<ce){for(var Ce=Array(ce),st=0;st<ce;st++)Ce[st]=arguments[st+2];X.children=Ce}return Z(I.type,ae,X)},re.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},re.createElement=function(I,V,J){var X,ae={},ce=null;if(V!=null)for(X in V.key!==void 0&&(ce=""+V.key),V)ge.call(V,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ae[X]=V[X]);var Ce=arguments.length-2;if(Ce===1)ae.children=J;else if(1<Ce){for(var st=Array(Ce),Ge=0;Ge<Ce;Ge++)st[Ge]=arguments[Ge+2];ae.children=st}if(I&&I.defaultProps)for(X in Ce=I.defaultProps,Ce)ae[X]===void 0&&(ae[X]=Ce[X]);return Z(I,ce,ae)},re.createRef=function(){return{current:null}},re.forwardRef=function(I){return{$$typeof:m,render:I}},re.isValidElement=Ae,re.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:oe}},re.memo=function(I,V){return{$$typeof:g,type:I,compare:V===void 0?null:V}},re.startTransition=function(I){var V=F.T,J={};F.T=J;try{var X=I(),ae=F.S;ae!==null&&ae(J,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(te,Me)}catch(ce){Me(ce)}finally{V!==null&&J.types!==null&&(V.types=J.types),F.T=V}},re.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},re.use=function(I){return F.H.use(I)},re.useActionState=function(I,V,J){return F.H.useActionState(I,V,J)},re.useCallback=function(I,V){return F.H.useCallback(I,V)},re.useContext=function(I){return F.H.useContext(I)},re.useDebugValue=function(){},re.useDeferredValue=function(I,V){return F.H.useDeferredValue(I,V)},re.useEffect=function(I,V){return F.H.useEffect(I,V)},re.useEffectEvent=function(I){return F.H.useEffectEvent(I)},re.useId=function(){return F.H.useId()},re.useImperativeHandle=function(I,V,J){return F.H.useImperativeHandle(I,V,J)},re.useInsertionEffect=function(I,V){return F.H.useInsertionEffect(I,V)},re.useLayoutEffect=function(I,V){return F.H.useLayoutEffect(I,V)},re.useMemo=function(I,V){return F.H.useMemo(I,V)},re.useOptimistic=function(I,V){return F.H.useOptimistic(I,V)},re.useReducer=function(I,V,J){return F.H.useReducer(I,V,J)},re.useRef=function(I){return F.H.useRef(I)},re.useState=function(I){return F.H.useState(I)},re.useSyncExternalStore=function(I,V,J){return F.H.useSyncExternalStore(I,V,J)},re.useTransition=function(){return F.H.useTransition()},re.version="19.2.3",re}var Im;function ef(){return Im||(Im=1,yc.exports=eE()),yc.exports}var Io=ef();const C2=zy(Io);var vc={exports:{}},Ls={},_c={exports:{}},Tc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function tE(){return Mm||(Mm=1,(function(n){function e(L,B){var oe=L.length;L.push(B);e:for(;0<oe;){var Me=oe-1>>>1,be=L[Me];if(0<a(be,B))L[Me]=B,L[oe]=be,oe=Me;else break e}}function o(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var B=L[0],oe=L.pop();if(oe!==B){L[0]=oe;e:for(var Me=0,be=L.length,I=be>>>1;Me<I;){var V=2*(Me+1)-1,J=L[V],X=V+1,ae=L[X];if(0>a(J,oe))X<be&&0>a(ae,J)?(L[Me]=ae,L[X]=oe,Me=X):(L[Me]=J,L[V]=oe,Me=V);else if(X<be&&0>a(ae,oe))L[Me]=ae,L[X]=oe,Me=X;else break e}}return B}function a(L,B){var oe=L.sortIndex-B.sortIndex;return oe!==0?oe:L.id-B.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();n.unstable_now=function(){return d.now()-m}}var y=[],g=[],v=1,E=null,T=3,C=!1,D=!1,k=!1,x=!1,G=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function K(L){for(var B=o(g);B!==null;){if(B.callback===null)s(g);else if(B.startTime<=L)s(g),B.sortIndex=B.expirationTime,e(y,B);else break;B=o(g)}}function ee(L){if(k=!1,K(L),!D)if(o(y)!==null)D=!0,te||(te=!0,He());else{var B=o(g);B!==null&&ct(ee,B.startTime-L)}}var te=!1,F=-1,ge=5,Z=-1;function he(){return x?!0:!(n.unstable_now()-Z<ge)}function Ae(){if(x=!1,te){var L=n.unstable_now();Z=L;var B=!0;try{e:{D=!1,k&&(k=!1,z(F),F=-1),C=!0;var oe=T;try{t:{for(K(L),E=o(y);E!==null&&!(E.expirationTime>L&&he());){var Me=E.callback;if(typeof Me=="function"){E.callback=null,T=E.priorityLevel;var be=Me(E.expirationTime<=L);if(L=n.unstable_now(),typeof be=="function"){E.callback=be,K(L),B=!0;break t}E===o(y)&&s(y),K(L)}else s(y);E=o(y)}if(E!==null)B=!0;else{var I=o(g);I!==null&&ct(ee,I.startTime-L),B=!1}}break e}finally{E=null,T=oe,C=!1}B=void 0}}finally{B?He():te=!1}}}var He;if(typeof q=="function")He=function(){q(Ae)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,ze=Se.port2;Se.port1.onmessage=Ae,He=function(){ze.postMessage(null)}}else He=function(){G(Ae,0)};function ct(L,B){F=G(function(){L(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(L){switch(T){case 1:case 2:case 3:var B=3;break;default:B=T}var oe=T;T=B;try{return L()}finally{T=oe}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var oe=T;T=L;try{return B()}finally{T=oe}},n.unstable_scheduleCallback=function(L,B,oe){var Me=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Me+oe:Me):oe=Me,L){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=oe+be,L={id:v++,callback:B,priorityLevel:L,startTime:oe,expirationTime:be,sortIndex:-1},oe>Me?(L.sortIndex=oe,e(g,L),o(y)===null&&L===o(g)&&(k?(z(F),F=-1):k=!0,ct(ee,oe-Me))):(L.sortIndex=be,e(y,L),D||C||(D=!0,te||(te=!0,He()))),L},n.unstable_shouldYield=he,n.unstable_wrapCallback=function(L){var B=T;return function(){var oe=T;T=B;try{return L.apply(this,arguments)}finally{T=oe}}}})(Tc)),Tc}var Nm;function nE(){return Nm||(Nm=1,_c.exports=tE()),_c.exports}var Ec={exports:{}},it={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function iE(){if(wm)return it;wm=1;var n=ef();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(y,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:y,containerInfo:g,implementation:v}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,it.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(y,g,null,v)},it.flushSync=function(y){var g=d.T,v=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=g,s.p=v,s.d.f()}},it.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},it.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},it.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:C}):v==="script"&&s.d.X(y,{crossOrigin:E,integrity:T,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},it.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},it.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=m(v,g.crossOrigin);s.d.L(y,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},it.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},it.requestFormReset=function(y){s.d.r(y)},it.unstable_batchedUpdates=function(y,g){return y(g)},it.useFormState=function(y,g,v){return d.H.useFormState(y,g,v)},it.useFormStatus=function(){return d.H.useHostTransitionStatus()},it.version="19.2.3",it}var Dm;function oE(){if(Dm)return Ec.exports;Dm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ec.exports=iE(),Ec.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function sE(){if(bm)return Ls;bm=1;var n=nE(),e=ef(),o=oE();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var r=t,l=i;;){var h=r.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===r)return y(h),t;if(p===l)return y(h),i;p=p.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=p;else{for(var _=!1,S=h.child;S;){if(S===r){_=!0,r=h,l=p;break}if(S===l){_=!0,l=h,r=p;break}S=S.sibling}if(!_){for(S=p.child;S;){if(S===r){_=!0,r=p,l=h;break}if(S===l){_=!0,l=p,r=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),q=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),Ae=Symbol.iterator;function He(t){return t===null||typeof t!="object"?null:(t=Ae&&t[Ae]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Symbol.for("react.client.reference");function ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Se?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case G:return"Profiler";case x:return"StrictMode";case ee:return"Suspense";case te:return"SuspenseList";case Z:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case q:return t.displayName||"Context";case z:return(t._context.displayName||"Context")+".Consumer";case K:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return i=t.displayName||null,i!==null?i:ze(t.type)||"Memo";case ge:i=t._payload,t=t._init;try{return ze(t(i))}catch{}}return null}var ct=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Me=[],be=-1;function I(t){return{current:t}}function V(t){0>be||(t.current=Me[be],Me[be]=null,be--)}function J(t,i){be++,Me[be]=t.current,t.current=i}var X=I(null),ae=I(null),ce=I(null),Ce=I(null);function st(t,i){switch(J(ce,i),J(ae,t),J(X,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Yp(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Yp(i),t=Kp(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(X),J(X,t)}function Ge(){V(X),V(ae),V(ce)}function Go(t){t.memoizedState!==null&&J(Ce,t);var i=X.current,r=Kp(i,t.type);i!==r&&(J(ae,t),J(X,r))}function Ws(t){ae.current===t&&(V(X),V(ae)),Ce.current===t&&(V(Ce),ws._currentValue=oe)}var Wa,Sf;function di(t){if(Wa===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Wa=i&&i[1]||"",Sf=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wa+t+Sf}var ja=!1;function el(t,i){if(!t||ja)return"";ja=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(U){var b=U}Reflect.construct(t,[],O)}else{try{O.call()}catch(U){b=U}t.call(O.prototype)}}else{try{throw Error()}catch(U){b=U}(O=t())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(U){if(U&&b&&typeof U.stack=="string")return[U.stack,b.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),_=p[0],S=p[1];if(_&&S){var A=_.split(`
`),w=S.split(`
`);for(h=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;h<w.length&&!w[h].includes("DetermineComponentFrameRoot");)h++;if(l===A.length||h===w.length)for(l=A.length-1,h=w.length-1;1<=l&&0<=h&&A[l]!==w[h];)h--;for(;1<=l&&0<=h;l--,h--)if(A[l]!==w[h]){if(l!==1||h!==1)do if(l--,h--,0>h||A[l]!==w[h]){var P=`
`+A[l].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=l&&0<=h);break}}}finally{ja=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?di(r):""}function w0(t,i){switch(t.tag){case 26:case 27:case 5:return di(t.type);case 16:return di("Lazy");case 13:return t.child!==i&&i!==null?di("Suspense Fallback"):di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return el(t.type,!1);case 11:return el(t.type.render,!1);case 1:return el(t.type,!0);case 31:return di("Activity");default:return""}}function Cf(t){try{var i="",r=null;do i+=w0(t,r),r=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var tl=Object.prototype.hasOwnProperty,nl=n.unstable_scheduleCallback,il=n.unstable_cancelCallback,D0=n.unstable_shouldYield,b0=n.unstable_requestPaint,vt=n.unstable_now,U0=n.unstable_getCurrentPriorityLevel,Af=n.unstable_ImmediatePriority,Rf=n.unstable_UserBlockingPriority,js=n.unstable_NormalPriority,x0=n.unstable_LowPriority,If=n.unstable_IdlePriority,L0=n.log,k0=n.unstable_setDisableYieldValue,qo=null,_t=null;function Dn(t){if(typeof L0=="function"&&k0(t),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(qo,t)}catch{}}var Tt=Math.clz32?Math.clz32:O0,P0=Math.log,H0=Math.LN2;function O0(t){return t>>>=0,t===0?32:31-(P0(t)/H0|0)|0}var er=256,tr=262144,nr=4194304;function hi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ir(t,i,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,p=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~p,l!==0?h=hi(l):(_&=S,_!==0?h=hi(_):r||(r=S&~t,r!==0&&(h=hi(r))))):(S=l&~p,S!==0?h=hi(S):_!==0?h=hi(_):r||(r=l&~t,r!==0&&(h=hi(r)))),h===0?0:i!==0&&i!==h&&(i&p)===0&&(p=h&-h,r=i&-i,p>=r||p===32&&(r&4194048)!==0)?i:h}function Bo(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function V0(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mf(){var t=nr;return nr<<=1,(nr&62914560)===0&&(nr=4194304),t}function ol(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function zo(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function G0(t,i,r,l,h,p){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var S=t.entanglements,A=t.expirationTimes,w=t.hiddenUpdates;for(r=_&~r;0<r;){var P=31-Tt(r),O=1<<P;S[P]=0,A[P]=-1;var b=w[P];if(b!==null)for(w[P]=null,P=0;P<b.length;P++){var U=b[P];U!==null&&(U.lane&=-536870913)}r&=~O}l!==0&&Nf(t,l,0),p!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=p&~(_&~i))}function Nf(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Tt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function wf(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var l=31-Tt(r),h=1<<l;h&i|t[l]&i&&(t[l]|=i),r&=~h}}function Df(t,i){var r=i&-i;return r=(r&42)!==0?1:sl(r),(r&(t.suspendedLanes|i))!==0?0:r}function sl(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function rl(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bf(){var t=B.p;return t!==0?t:(t=window.event,t===void 0?32:gm(t.type))}function Uf(t,i){var r=B.p;try{return B.p=t,i()}finally{B.p=r}}var bn=Math.random().toString(36).slice(2),We="__reactFiber$"+bn,ft="__reactProps$"+bn,Hi="__reactContainer$"+bn,al="__reactEvents$"+bn,q0="__reactListeners$"+bn,B0="__reactHandles$"+bn,xf="__reactResources$"+bn,Fo="__reactMarker$"+bn;function ll(t){delete t[We],delete t[ft],delete t[al],delete t[q0],delete t[B0]}function Oi(t){var i=t[We];if(i)return i;for(var r=t.parentNode;r;){if(i=r[Hi]||r[We]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=em(t);t!==null;){if(r=t[We])return r;t=em(t)}return i}t=r,r=t.parentNode}return null}function Vi(t){if(t=t[We]||t[Hi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Jo(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Gi(t){var i=t[xf];return i||(i=t[xf]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Xe(t){t[Fo]=!0}var Lf=new Set,kf={};function pi(t,i){qi(t,i),qi(t+"Capture",i)}function qi(t,i){for(kf[t]=i,t=0;t<i.length;t++)Lf.add(i[t])}var z0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pf={},Hf={};function F0(t){return tl.call(Hf,t)?!0:tl.call(Pf,t)?!1:z0.test(t)?Hf[t]=!0:(Pf[t]=!0,!1)}function or(t,i,r){if(F0(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function sr(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function nn(t,i,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+l)}}function Nt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Of(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function J0(t,i,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,p=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,p.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ul(t){if(!t._valueTracker){var i=Of(t)?"checked":"value";t._valueTracker=J0(t,i,""+t[i])}}function Vf(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),l="";return t&&(l=Of(t)?t.checked?"true":"false":t.value),t=l,t!==r?(i.setValue(t),!0):!1}function rr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Y0=/[\n"\\]/g;function wt(t){return t.replace(Y0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cl(t,i,r,l,h,p,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Nt(i)):t.value!==""+Nt(i)&&(t.value=""+Nt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?fl(t,_,Nt(i)):r!=null?fl(t,_,Nt(r)):l!=null&&t.removeAttribute("value"),h==null&&p!=null&&(t.defaultChecked=!!p),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Nt(S):t.removeAttribute("name")}function Gf(t,i,r,l,h,p,_,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||r!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){ul(t);return}r=r!=null?""+Nt(r):"",i=i!=null?""+Nt(i):r,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),ul(t)}function fl(t,i,r){i==="number"&&rr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Bi(t,i,r,l){if(t=t.options,i){i={};for(var h=0;h<r.length;h++)i["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=i.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Nt(r),i=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function qf(t,i,r){if(i!=null&&(i=""+Nt(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+Nt(r):""}function Bf(t,i,r,l){if(i==null){if(l!=null){if(r!=null)throw Error(s(92));if(ct(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),i=r}r=Nt(i),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),ul(t)}function zi(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var K0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zf(t,i,r){var l=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,r):typeof r!="number"||r===0||K0.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function Ff(t,i,r){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&r[h]!==l&&zf(t,h,l)}else for(var p in i)i.hasOwnProperty(p)&&zf(t,p,i[p])}function dl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),X0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ar(t){return X0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function on(){}var hl=null;function pl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fi=null,Ji=null;function Jf(t){var i=Vi(t);if(i&&(t=i.stateNode)){var r=t[ft]||null;e:switch(t=i.stateNode,i.type){case"input":if(cl(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+wt(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var l=r[i];if(l!==t&&l.form===t.form){var h=l[ft]||null;if(!h)throw Error(s(90));cl(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<r.length;i++)l=r[i],l.form===t.form&&Vf(l)}break e;case"textarea":qf(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Bi(t,!!r.multiple,i,!1)}}}var ml=!1;function Yf(t,i,r){if(ml)return t(i,r);ml=!0;try{var l=t(i);return l}finally{if(ml=!1,(Fi!==null||Ji!==null)&&($r(),Fi&&(i=Fi,t=Ji,Ji=Fi=null,Jf(i),t)))for(i=0;i<t.length;i++)Jf(t[i])}}function Yo(t,i){var r=t.stateNode;if(r===null)return null;var l=r[ft]||null;if(l===null)return null;r=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,i,typeof r));return r}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gl=!1;if(sn)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){gl=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{gl=!1}var Un=null,yl=null,lr=null;function Kf(){if(lr)return lr;var t,i=yl,r=i.length,l,h="value"in Un?Un.value:Un.textContent,p=h.length;for(t=0;t<r&&i[t]===h[t];t++);var _=r-t;for(l=1;l<=_&&i[r-l]===h[p-l];l++);return lr=h.slice(t,1<l?1-l:void 0)}function ur(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function cr(){return!0}function $f(){return!1}function dt(t){function i(r,l,h,p,_){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(r=t[S],this[S]=r?r(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?cr:$f,this.isPropagationStopped=$f,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),i}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fr=dt(mi),$o=E({},mi,{view:0,detail:0}),Q0=dt($o),vl,_l,Xo,dr=E({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:El,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xo&&(Xo&&t.type==="mousemove"?(vl=t.screenX-Xo.screenX,_l=t.screenY-Xo.screenY):_l=vl=0,Xo=t),vl)},movementY:function(t){return"movementY"in t?t.movementY:_l}}),Xf=dt(dr),Z0=E({},dr,{dataTransfer:0}),W0=dt(Z0),j0=E({},$o,{relatedTarget:0}),Tl=dt(j0),e_=E({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),t_=dt(e_),n_=E({},mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),i_=dt(n_),o_=E({},mi,{data:0}),Qf=dt(o_),s_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l_(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=a_[t])?!!i[t]:!1}function El(){return l_}var u_=E({},$o,{key:function(t){if(t.key){var i=s_[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?r_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:El,charCode:function(t){return t.type==="keypress"?ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),c_=dt(u_),f_=E({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zf=dt(f_),d_=E({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:El}),h_=dt(d_),p_=E({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),m_=dt(p_),g_=E({},dr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),y_=dt(g_),v_=E({},mi,{newState:0,oldState:0}),__=dt(v_),T_=[9,13,27,32],Sl=sn&&"CompositionEvent"in window,Qo=null;sn&&"documentMode"in document&&(Qo=document.documentMode);var E_=sn&&"TextEvent"in window&&!Qo,Wf=sn&&(!Sl||Qo&&8<Qo&&11>=Qo),jf=" ",ed=!1;function td(t,i){switch(t){case"keyup":return T_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yi=!1;function S_(t,i){switch(t){case"compositionend":return nd(i);case"keypress":return i.which!==32?null:(ed=!0,jf);case"textInput":return t=i.data,t===jf&&ed?null:t;default:return null}}function C_(t,i){if(Yi)return t==="compositionend"||!Sl&&td(t,i)?(t=Kf(),lr=yl=Un=null,Yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Wf&&i.locale!=="ko"?null:i.data;default:return null}}var A_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function id(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!A_[t.type]:i==="textarea"}function od(t,i,r,l){Fi?Ji?Ji.push(l):Ji=[l]:Fi=l,i=ta(i,"onChange"),0<i.length&&(r=new fr("onChange","change",null,r,l),t.push({event:r,listeners:i}))}var Zo=null,Wo=null;function R_(t){Gp(t,0)}function hr(t){var i=Jo(t);if(Vf(i))return t}function sd(t,i){if(t==="change")return i}var rd=!1;if(sn){var Cl;if(sn){var Al="oninput"in document;if(!Al){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),Al=typeof ad.oninput=="function"}Cl=Al}else Cl=!1;rd=Cl&&(!document.documentMode||9<document.documentMode)}function ld(){Zo&&(Zo.detachEvent("onpropertychange",ud),Wo=Zo=null)}function ud(t){if(t.propertyName==="value"&&hr(Wo)){var i=[];od(i,Wo,t,pl(t)),Yf(R_,i)}}function I_(t,i,r){t==="focusin"?(ld(),Zo=i,Wo=r,Zo.attachEvent("onpropertychange",ud)):t==="focusout"&&ld()}function M_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hr(Wo)}function N_(t,i){if(t==="click")return hr(i)}function w_(t,i){if(t==="input"||t==="change")return hr(i)}function D_(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Et=typeof Object.is=="function"?Object.is:D_;function jo(t,i){if(Et(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),l=Object.keys(i);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!tl.call(i,h)||!Et(t[h],i[h]))return!1}return!0}function cd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fd(t,i){var r=cd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=i&&l>=i)return{node:r,offset:i-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cd(r)}}function dd(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?dd(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function hd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=rr(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=rr(t.document)}return i}function Rl(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var b_=sn&&"documentMode"in document&&11>=document.documentMode,Ki=null,Il=null,es=null,Ml=!1;function pd(t,i,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ml||Ki==null||Ki!==rr(l)||(l=Ki,"selectionStart"in l&&Rl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),es&&jo(es,l)||(es=l,l=ta(Il,"onSelect"),0<l.length&&(i=new fr("onSelect","select",null,i,r),t.push({event:i,listeners:l}),i.target=Ki)))}function gi(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var $i={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionrun:gi("Transition","TransitionRun"),transitionstart:gi("Transition","TransitionStart"),transitioncancel:gi("Transition","TransitionCancel"),transitionend:gi("Transition","TransitionEnd")},Nl={},md={};sn&&(md=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function yi(t){if(Nl[t])return Nl[t];if(!$i[t])return t;var i=$i[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in md)return Nl[t]=i[r];return t}var gd=yi("animationend"),yd=yi("animationiteration"),vd=yi("animationstart"),U_=yi("transitionrun"),x_=yi("transitionstart"),L_=yi("transitioncancel"),_d=yi("transitionend"),Td=new Map,wl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wl.push("scrollEnd");function Gt(t,i){Td.set(t,i),pi(i,[t])}var pr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dt=[],Xi=0,Dl=0;function mr(){for(var t=Xi,i=Dl=Xi=0;i<t;){var r=Dt[i];Dt[i++]=null;var l=Dt[i];Dt[i++]=null;var h=Dt[i];Dt[i++]=null;var p=Dt[i];if(Dt[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}p!==0&&Ed(r,h,p)}}function gr(t,i,r,l){Dt[Xi++]=t,Dt[Xi++]=i,Dt[Xi++]=r,Dt[Xi++]=l,Dl|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function bl(t,i,r,l){return gr(t,i,r,l),yr(t)}function vi(t,i){return gr(t,null,null,i),yr(t)}function Ed(t,i,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,p=t.return;p!==null;)p.childLanes|=r,l=p.alternate,l!==null&&(l.childLanes|=r),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(h=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,h&&i!==null&&(h=31-Tt(r),t=p.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=r|536870912),p):null}function yr(t){if(50<Ss)throw Ss=0,Gu=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Qi={};function k_(t,i,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,i,r,l){return new k_(t,i,r,l)}function Ul(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rn(t,i){var r=t.alternate;return r===null?(r=St(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Sd(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function vr(t,i,r,l,h,p){var _=0;if(l=t,typeof t=="function")Ul(t)&&(_=1);else if(typeof t=="string")_=GT(t,r,X.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Z:return t=St(31,r,i,h),t.elementType=Z,t.lanes=p,t;case k:return _i(r.children,h,p,i);case x:_=8,h|=24;break;case G:return t=St(12,r,i,h|2),t.elementType=G,t.lanes=p,t;case ee:return t=St(13,r,i,h),t.elementType=ee,t.lanes=p,t;case te:return t=St(19,r,i,h),t.elementType=te,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:_=10;break e;case z:_=9;break e;case K:_=11;break e;case F:_=14;break e;case ge:_=16,l=null;break e}_=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=St(_,r,i,h),i.elementType=t,i.type=l,i.lanes=p,i}function _i(t,i,r,l){return t=St(7,t,l,i),t.lanes=r,t}function xl(t,i,r){return t=St(6,t,null,i),t.lanes=r,t}function Cd(t){var i=St(18,null,null,0);return i.stateNode=t,i}function Ll(t,i,r){return i=St(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ad=new WeakMap;function bt(t,i){if(typeof t=="object"&&t!==null){var r=Ad.get(t);return r!==void 0?r:(i={value:t,source:i,stack:Cf(i)},Ad.set(t,i),i)}return{value:t,source:i,stack:Cf(i)}}var Zi=[],Wi=0,_r=null,ts=0,Ut=[],xt=0,xn=null,Xt=1,Qt="";function an(t,i){Zi[Wi++]=ts,Zi[Wi++]=_r,_r=t,ts=i}function Rd(t,i,r){Ut[xt++]=Xt,Ut[xt++]=Qt,Ut[xt++]=xn,xn=t;var l=Xt;t=Qt;var h=32-Tt(l)-1;l&=~(1<<h),r+=1;var p=32-Tt(i)+h;if(30<p){var _=h-h%5;p=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Xt=1<<32-Tt(i)+h|r<<h|l,Qt=p+t}else Xt=1<<p|r<<h|l,Qt=t}function kl(t){t.return!==null&&(an(t,1),Rd(t,1,0))}function Pl(t){for(;t===_r;)_r=Zi[--Wi],Zi[Wi]=null,ts=Zi[--Wi],Zi[Wi]=null;for(;t===xn;)xn=Ut[--xt],Ut[xt]=null,Qt=Ut[--xt],Ut[xt]=null,Xt=Ut[--xt],Ut[xt]=null}function Id(t,i){Ut[xt++]=Xt,Ut[xt++]=Qt,Ut[xt++]=xn,Xt=i.id,Qt=i.overflow,xn=t}var je=null,Le=null,ye=!1,Ln=null,Lt=!1,Hl=Error(s(519));function kn(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ns(bt(i,t)),Hl}function Md(t){var i=t.stateNode,r=t.type,l=t.memoizedProps;switch(i[We]=t,i[ft]=l,r){case"dialog":de("cancel",i),de("close",i);break;case"iframe":case"object":case"embed":de("load",i);break;case"video":case"audio":for(r=0;r<As.length;r++)de(As[r],i);break;case"source":de("error",i);break;case"img":case"image":case"link":de("error",i),de("load",i);break;case"details":de("toggle",i);break;case"input":de("invalid",i),Gf(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":de("invalid",i);break;case"textarea":de("invalid",i),Bf(i,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||l.suppressHydrationWarning===!0||Fp(i.textContent,r)?(l.popover!=null&&(de("beforetoggle",i),de("toggle",i)),l.onScroll!=null&&de("scroll",i),l.onScrollEnd!=null&&de("scrollend",i),l.onClick!=null&&(i.onclick=on),i=!0):i=!1,i||kn(t,!0)}function Nd(t){for(je=t.return;je;)switch(je.tag){case 5:case 31:case 13:Lt=!1;return;case 27:case 3:Lt=!0;return;default:je=je.return}}function ji(t){if(t!==je)return!1;if(!ye)return Nd(t),ye=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||tc(t.type,t.memoizedProps)),r=!r),r&&Le&&kn(t),Nd(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Le=jp(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Le=jp(t)}else i===27?(i=Le,Xn(t.type)?(t=rc,rc=null,Le=t):Le=i):Le=je?Pt(t.stateNode.nextSibling):null;return!0}function Ti(){Le=je=null,ye=!1}function Ol(){var t=Ln;return t!==null&&(gt===null?gt=t:gt.push.apply(gt,t),Ln=null),t}function ns(t){Ln===null?Ln=[t]:Ln.push(t)}var Vl=I(null),Ei=null,ln=null;function Pn(t,i,r){J(Vl,i._currentValue),i._currentValue=r}function un(t){t._currentValue=Vl.current,V(Vl)}function Gl(t,i,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===r)break;t=t.return}}function ql(t,i,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var p=h.dependencies;if(p!==null){var _=h.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=h;for(var A=0;A<i.length;A++)if(S.context===i[A]){p.lanes|=r,S=p.alternate,S!==null&&(S.lanes|=r),Gl(p.return,r,t),l||(_=null);break e}p=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=r,p=_.alternate,p!==null&&(p.lanes|=r),Gl(_,r,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function eo(t,i,r,l){t=null;for(var h=i,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;Et(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Ce.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ws):t=[ws])}h=h.return}t!==null&&ql(i,t,r,l),i.flags|=262144}function Tr(t){for(t=t.firstContext;t!==null;){if(!Et(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Si(t){Ei=t,ln=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function et(t){return wd(Ei,t)}function Er(t,i){return Ei===null&&Si(t),wd(t,i)}function wd(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},ln===null){if(t===null)throw Error(s(308));ln=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ln=ln.next=i;return r}var P_=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},H_=n.unstable_scheduleCallback,O_=n.unstable_NormalPriority,Fe={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bl(){return{controller:new P_,data:new Map,refCount:0}}function is(t){t.refCount--,t.refCount===0&&H_(O_,function(){t.controller.abort()})}var os=null,zl=0,to=0,no=null;function V_(t,i){if(os===null){var r=os=[];zl=0,to=Yu(),no={status:"pending",value:void 0,then:function(l){r.push(l)}}}return zl++,i.then(Dd,Dd),i}function Dd(){if(--zl===0&&os!==null){no!==null&&(no.status="fulfilled");var t=os;os=null,to=0,no=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function G_(t,i){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<r.length;h++)(0,r[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var bd=L.S;L.S=function(t,i){pp=vt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&V_(t,i),bd!==null&&bd(t,i)};var Ci=I(null);function Fl(){var t=Ci.current;return t!==null?t:Ue.pooledCache}function Sr(t,i){i===null?J(Ci,Ci.current):J(Ci,i.pool)}function Ud(){var t=Fl();return t===null?null:{parent:Fe._currentValue,pool:t}}var io=Error(s(460)),Jl=Error(s(474)),Cr=Error(s(542)),Ar={then:function(){}};function xd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ld(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(on,on),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pd(t),t;default:if(typeof i.status=="string")i.then(on,on);else{if(t=Ue,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Pd(t),t}throw Ri=i,io}}function Ai(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ri=r,io):r}}var Ri=null;function kd(){if(Ri===null)throw Error(s(459));var t=Ri;return Ri=null,t}function Pd(t){if(t===io||t===Cr)throw Error(s(483))}var oo=null,ss=0;function Rr(t){var i=ss;return ss+=1,oo===null&&(oo=[]),Ld(oo,t,i)}function rs(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ir(t,i){throw i.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Hd(t){function i(M,R){if(t){var N=M.deletions;N===null?(M.deletions=[R],M.flags|=16):N.push(R)}}function r(M,R){if(!t)return null;for(;R!==null;)i(M,R),R=R.sibling;return null}function l(M){for(var R=new Map;M!==null;)M.key!==null?R.set(M.key,M):R.set(M.index,M),M=M.sibling;return R}function h(M,R){return M=rn(M,R),M.index=0,M.sibling=null,M}function p(M,R,N){return M.index=N,t?(N=M.alternate,N!==null?(N=N.index,N<R?(M.flags|=67108866,R):N):(M.flags|=67108866,R)):(M.flags|=1048576,R)}function _(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function S(M,R,N,H){return R===null||R.tag!==6?(R=xl(N,M.mode,H),R.return=M,R):(R=h(R,N),R.return=M,R)}function A(M,R,N,H){var W=N.type;return W===k?P(M,R,N.props.children,H,N.key):R!==null&&(R.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ge&&Ai(W)===R.type)?(R=h(R,N.props),rs(R,N),R.return=M,R):(R=vr(N.type,N.key,N.props,null,M.mode,H),rs(R,N),R.return=M,R)}function w(M,R,N,H){return R===null||R.tag!==4||R.stateNode.containerInfo!==N.containerInfo||R.stateNode.implementation!==N.implementation?(R=Ll(N,M.mode,H),R.return=M,R):(R=h(R,N.children||[]),R.return=M,R)}function P(M,R,N,H,W){return R===null||R.tag!==7?(R=_i(N,M.mode,H,W),R.return=M,R):(R=h(R,N),R.return=M,R)}function O(M,R,N){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=xl(""+R,M.mode,N),R.return=M,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case C:return N=vr(R.type,R.key,R.props,null,M.mode,N),rs(N,R),N.return=M,N;case D:return R=Ll(R,M.mode,N),R.return=M,R;case ge:return R=Ai(R),O(M,R,N)}if(ct(R)||He(R))return R=_i(R,M.mode,N,null),R.return=M,R;if(typeof R.then=="function")return O(M,Rr(R),N);if(R.$$typeof===q)return O(M,Er(M,R),N);Ir(M,R)}return null}function b(M,R,N,H){var W=R!==null?R.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return W!==null?null:S(M,R,""+N,H);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return N.key===W?A(M,R,N,H):null;case D:return N.key===W?w(M,R,N,H):null;case ge:return N=Ai(N),b(M,R,N,H)}if(ct(N)||He(N))return W!==null?null:P(M,R,N,H,null);if(typeof N.then=="function")return b(M,R,Rr(N),H);if(N.$$typeof===q)return b(M,R,Er(M,N),H);Ir(M,N)}return null}function U(M,R,N,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return M=M.get(N)||null,S(R,M,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case C:return M=M.get(H.key===null?N:H.key)||null,A(R,M,H,W);case D:return M=M.get(H.key===null?N:H.key)||null,w(R,M,H,W);case ge:return H=Ai(H),U(M,R,N,H,W)}if(ct(H)||He(H))return M=M.get(N)||null,P(R,M,H,W,null);if(typeof H.then=="function")return U(M,R,N,Rr(H),W);if(H.$$typeof===q)return U(M,R,N,Er(R,H),W);Ir(R,H)}return null}function $(M,R,N,H){for(var W=null,ve=null,Q=R,ue=R=0,me=null;Q!==null&&ue<N.length;ue++){Q.index>ue?(me=Q,Q=null):me=Q.sibling;var _e=b(M,Q,N[ue],H);if(_e===null){Q===null&&(Q=me);break}t&&Q&&_e.alternate===null&&i(M,Q),R=p(_e,R,ue),ve===null?W=_e:ve.sibling=_e,ve=_e,Q=me}if(ue===N.length)return r(M,Q),ye&&an(M,ue),W;if(Q===null){for(;ue<N.length;ue++)Q=O(M,N[ue],H),Q!==null&&(R=p(Q,R,ue),ve===null?W=Q:ve.sibling=Q,ve=Q);return ye&&an(M,ue),W}for(Q=l(Q);ue<N.length;ue++)me=U(Q,M,ue,N[ue],H),me!==null&&(t&&me.alternate!==null&&Q.delete(me.key===null?ue:me.key),R=p(me,R,ue),ve===null?W=me:ve.sibling=me,ve=me);return t&&Q.forEach(function(ei){return i(M,ei)}),ye&&an(M,ue),W}function ne(M,R,N,H){if(N==null)throw Error(s(151));for(var W=null,ve=null,Q=R,ue=R=0,me=null,_e=N.next();Q!==null&&!_e.done;ue++,_e=N.next()){Q.index>ue?(me=Q,Q=null):me=Q.sibling;var ei=b(M,Q,_e.value,H);if(ei===null){Q===null&&(Q=me);break}t&&Q&&ei.alternate===null&&i(M,Q),R=p(ei,R,ue),ve===null?W=ei:ve.sibling=ei,ve=ei,Q=me}if(_e.done)return r(M,Q),ye&&an(M,ue),W;if(Q===null){for(;!_e.done;ue++,_e=N.next())_e=O(M,_e.value,H),_e!==null&&(R=p(_e,R,ue),ve===null?W=_e:ve.sibling=_e,ve=_e);return ye&&an(M,ue),W}for(Q=l(Q);!_e.done;ue++,_e=N.next())_e=U(Q,M,ue,_e.value,H),_e!==null&&(t&&_e.alternate!==null&&Q.delete(_e.key===null?ue:_e.key),R=p(_e,R,ue),ve===null?W=_e:ve.sibling=_e,ve=_e);return t&&Q.forEach(function(ZT){return i(M,ZT)}),ye&&an(M,ue),W}function De(M,R,N,H){if(typeof N=="object"&&N!==null&&N.type===k&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case C:e:{for(var W=N.key;R!==null;){if(R.key===W){if(W=N.type,W===k){if(R.tag===7){r(M,R.sibling),H=h(R,N.props.children),H.return=M,M=H;break e}}else if(R.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===ge&&Ai(W)===R.type){r(M,R.sibling),H=h(R,N.props),rs(H,N),H.return=M,M=H;break e}r(M,R);break}else i(M,R);R=R.sibling}N.type===k?(H=_i(N.props.children,M.mode,H,N.key),H.return=M,M=H):(H=vr(N.type,N.key,N.props,null,M.mode,H),rs(H,N),H.return=M,M=H)}return _(M);case D:e:{for(W=N.key;R!==null;){if(R.key===W)if(R.tag===4&&R.stateNode.containerInfo===N.containerInfo&&R.stateNode.implementation===N.implementation){r(M,R.sibling),H=h(R,N.children||[]),H.return=M,M=H;break e}else{r(M,R);break}else i(M,R);R=R.sibling}H=Ll(N,M.mode,H),H.return=M,M=H}return _(M);case ge:return N=Ai(N),De(M,R,N,H)}if(ct(N))return $(M,R,N,H);if(He(N)){if(W=He(N),typeof W!="function")throw Error(s(150));return N=W.call(N),ne(M,R,N,H)}if(typeof N.then=="function")return De(M,R,Rr(N),H);if(N.$$typeof===q)return De(M,R,Er(M,N),H);Ir(M,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,R!==null&&R.tag===6?(r(M,R.sibling),H=h(R,N),H.return=M,M=H):(r(M,R),H=xl(N,M.mode,H),H.return=M,M=H),_(M)):r(M,R)}return function(M,R,N,H){try{ss=0;var W=De(M,R,N,H);return oo=null,W}catch(Q){if(Q===io||Q===Cr)throw Q;var ve=St(29,Q,null,M.mode);return ve.lanes=H,ve.return=M,ve}finally{}}}var Ii=Hd(!0),Od=Hd(!1),Hn=!1;function Yl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kl(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function On(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vn(t,i,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ee&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=yr(t),Ed(t,null,r),i}return gr(t,l,i,r),yr(t)}function as(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,wf(t,r)}}function $l(t,i){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,p=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};p===null?h=p=_:p=p.next=_,r=r.next}while(r!==null);p===null?h=p=i:p=p.next=i}else h=p=i;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var Xl=!1;function ls(){if(Xl){var t=no;if(t!==null)throw t}}function us(t,i,r,l){Xl=!1;var h=t.updateQueue;Hn=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var A=S,w=A.next;A.next=null,_===null?p=w:_.next=w,_=A;var P=t.alternate;P!==null&&(P=P.updateQueue,S=P.lastBaseUpdate,S!==_&&(S===null?P.firstBaseUpdate=w:S.next=w,P.lastBaseUpdate=A))}if(p!==null){var O=h.baseState;_=0,P=w=A=null,S=p;do{var b=S.lane&-536870913,U=b!==S.lane;if(U?(pe&b)===b:(l&b)===b){b!==0&&b===to&&(Xl=!0),P!==null&&(P=P.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var $=t,ne=S;b=i;var De=r;switch(ne.tag){case 1:if($=ne.payload,typeof $=="function"){O=$.call(De,O,b);break e}O=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=ne.payload,b=typeof $=="function"?$.call(De,O,b):$,b==null)break e;O=E({},O,b);break e;case 2:Hn=!0}}b=S.callback,b!==null&&(t.flags|=64,U&&(t.flags|=8192),U=h.callbacks,U===null?h.callbacks=[b]:U.push(b))}else U={lane:b,tag:S.tag,payload:S.payload,callback:S.callback,next:null},P===null?(w=P=U,A=O):P=P.next=U,_|=b;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;U=S,S=U.next,U.next=null,h.lastBaseUpdate=U,h.shared.pending=null}}while(!0);P===null&&(A=O),h.baseState=A,h.firstBaseUpdate=w,h.lastBaseUpdate=P,p===null&&(h.shared.lanes=0),Fn|=_,t.lanes=_,t.memoizedState=O}}function Vd(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Gd(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Vd(r[t],i)}var so=I(null),Mr=I(0);function qd(t,i){t=vn,J(Mr,t),J(so,i),vn=t|i.baseLanes}function Ql(){J(Mr,vn),J(so,so.current)}function Zl(){vn=Mr.current,V(so),V(Mr)}var Ct=I(null),kt=null;function Gn(t){var i=t.alternate;J(qe,qe.current&1),J(Ct,t),kt===null&&(i===null||so.current!==null||i.memoizedState!==null)&&(kt=t)}function Wl(t){J(qe,qe.current),J(Ct,t),kt===null&&(kt=t)}function Bd(t){t.tag===22?(J(qe,qe.current),J(Ct,t),kt===null&&(kt=t)):qn()}function qn(){J(qe,qe.current),J(Ct,Ct.current)}function At(t){V(Ct),kt===t&&(kt=null),V(qe)}var qe=I(0);function Nr(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||oc(r)||sc(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var cn=0,le=null,Ne=null,Je=null,wr=!1,ro=!1,Mi=!1,Dr=0,cs=0,ao=null,q_=0;function Oe(){throw Error(s(321))}function jl(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!Et(t[r],i[r]))return!1;return!0}function eu(t,i,r,l,h,p){return cn=p,le=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=t===null||t.memoizedState===null?Rh:mu,Mi=!1,p=r(l,h),Mi=!1,ro&&(p=Fd(i,r,l,h)),zd(t),p}function zd(t){L.H=hs;var i=Ne!==null&&Ne.next!==null;if(cn=0,Je=Ne=le=null,wr=!1,cs=0,ao=null,i)throw Error(s(300));t===null||Ye||(t=t.dependencies,t!==null&&Tr(t)&&(Ye=!0))}function Fd(t,i,r,l){le=t;var h=0;do{if(ro&&(ao=null),cs=0,ro=!1,25<=h)throw Error(s(301));if(h+=1,Je=Ne=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}L.H=Ih,p=i(r,l)}while(ro);return p}function B_(){var t=L.H,i=t.useState()[0];return i=typeof i.then=="function"?fs(i):i,t=t.useState()[0],(Ne!==null?Ne.memoizedState:null)!==t&&(le.flags|=1024),i}function tu(){var t=Dr!==0;return Dr=0,t}function nu(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function iu(t){if(wr){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}wr=!1}cn=0,Je=Ne=le=null,ro=!1,cs=Dr=0,ao=null}function rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?le.memoizedState=Je=t:Je=Je.next=t,Je}function Be(){if(Ne===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var i=Je===null?le.memoizedState:Je.next;if(i!==null)Je=i,Ne=t;else{if(t===null)throw le.alternate===null?Error(s(467)):Error(s(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Je===null?le.memoizedState=Je=t:Je=Je.next=t}return Je}function br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fs(t){var i=cs;return cs+=1,ao===null&&(ao=[]),t=Ld(ao,t,i),i=le,(Je===null?i.memoizedState:Je.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?Rh:mu),t}function Ur(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fs(t);if(t.$$typeof===q)return et(t)}throw Error(s(438,String(t)))}function ou(t){var i=null,r=le.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var l=le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=br(),le.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),l=0;l<t;l++)r[l]=he;return i.index++,r}function fn(t,i){return typeof i=="function"?i(t):i}function xr(t){var i=Be();return su(i,Ne,t)}function su(t,i,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,p=l.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}i.baseQueue=h=p,l.pending=null}if(p=t.baseState,h===null)t.memoizedState=p;else{i=h.next;var S=_=null,A=null,w=i,P=!1;do{var O=w.lane&-536870913;if(O!==w.lane?(pe&O)===O:(cn&O)===O){var b=w.revertLane;if(b===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),O===to&&(P=!0);else if((cn&b)===b){w=w.next,b===to&&(P=!0);continue}else O={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},A===null?(S=A=O,_=p):A=A.next=O,le.lanes|=b,Fn|=b;O=w.action,Mi&&r(p,O),p=w.hasEagerState?w.eagerState:r(p,O)}else b={lane:O,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},A===null?(S=A=b,_=p):A=A.next=b,le.lanes|=O,Fn|=O;w=w.next}while(w!==null&&w!==i);if(A===null?_=p:A.next=S,!Et(p,t.memoizedState)&&(Ye=!0,P&&(r=no,r!==null)))throw r;t.memoizedState=p,t.baseState=_,t.baseQueue=A,l.lastRenderedState=p}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ru(t){var i=Be(),r=i.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,p=i.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do p=t(p,_.action),_=_.next;while(_!==h);Et(p,i.memoizedState)||(Ye=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),r.lastRenderedState=p}return[p,l]}function Jd(t,i,r){var l=le,h=Be(),p=ye;if(p){if(r===void 0)throw Error(s(407));r=r()}else r=i();var _=!Et((Ne||h).memoizedState,r);if(_&&(h.memoizedState=r,Ye=!0),h=h.queue,uu($d.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Je!==null&&Je.memoizedState.tag&1){if(l.flags|=2048,lo(9,{destroy:void 0},Kd.bind(null,l,h,r,i),null),Ue===null)throw Error(s(349));p||(cn&127)!==0||Yd(l,i,r)}return r}function Yd(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=le.updateQueue,i===null?(i=br(),le.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function Kd(t,i,r,l){i.value=r,i.getSnapshot=l,Xd(i)&&Qd(t)}function $d(t,i,r){return r(function(){Xd(i)&&Qd(t)})}function Xd(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!Et(t,r)}catch{return!0}}function Qd(t){var i=vi(t,2);i!==null&&yt(i,t,2)}function au(t){var i=rt();if(typeof t=="function"){var r=t;if(t=r(),Mi){Dn(!0);try{r()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:t},i}function Zd(t,i,r,l){return t.baseState=r,su(t,Ne,typeof l=="function"?l:fn)}function z_(t,i,r,l,h){if(Pr(t))throw Error(s(485));if(t=i.action,t!==null){var p={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};L.T!==null?r(!0):p.isTransition=!1,l(p),r=i.pending,r===null?(p.next=i.pending=p,Wd(i,p)):(p.next=r.next,i.pending=r.next=p)}}function Wd(t,i){var r=i.action,l=i.payload,h=t.state;if(i.isTransition){var p=L.T,_={};L.T=_;try{var S=r(h,l),A=L.S;A!==null&&A(_,S),jd(t,i,S)}catch(w){lu(t,i,w)}finally{p!==null&&_.types!==null&&(p.types=_.types),L.T=p}}else try{p=r(h,l),jd(t,i,p)}catch(w){lu(t,i,w)}}function jd(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){eh(t,i,l)},function(l){return lu(t,i,l)}):eh(t,i,r)}function eh(t,i,r){i.status="fulfilled",i.value=r,th(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,Wd(t,r)))}function lu(t,i,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=r,th(i),i=i.next;while(i!==l)}t.action=null}function th(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function nh(t,i){return i}function ih(t,i){if(ye){var r=Ue.formState;if(r!==null){e:{var l=le;if(ye){if(Le){t:{for(var h=Le,p=Lt;h.nodeType!==8;){if(!p){h=null;break t}if(h=Pt(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Le=Pt(h.nextSibling),l=h.data==="F!";break e}}kn(l)}l=!1}l&&(i=r[0])}}return r=rt(),r.memoizedState=r.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nh,lastRenderedState:i},r.queue=l,r=Sh.bind(null,le,l),l.dispatch=r,l=au(!1),p=pu.bind(null,le,!1,l.queue),l=rt(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,r=z_.bind(null,le,h,p,r),h.dispatch=r,l.memoizedState=t,[i,r,!1]}function oh(t){var i=Be();return sh(i,Ne,t)}function sh(t,i,r){if(i=su(t,i,nh)[0],t=xr(fn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=fs(i)}catch(_){throw _===io?Cr:_}else l=i;i=Be();var h=i.queue,p=h.dispatch;return r!==i.memoizedState&&(le.flags|=2048,lo(9,{destroy:void 0},F_.bind(null,h,r),null)),[l,p,t]}function F_(t,i){t.action=i}function rh(t){var i=Be(),r=Ne;if(r!==null)return sh(i,r,t);Be(),i=i.memoizedState,r=Be();var l=r.queue.dispatch;return r.memoizedState=t,[i,l,!1]}function lo(t,i,r,l){return t={tag:t,create:r,deps:l,inst:i,next:null},i=le.updateQueue,i===null&&(i=br(),le.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,i.lastEffect=t),t}function ah(){return Be().memoizedState}function Lr(t,i,r,l){var h=rt();le.flags|=t,h.memoizedState=lo(1|i,{destroy:void 0},r,l===void 0?null:l)}function kr(t,i,r,l){var h=Be();l=l===void 0?null:l;var p=h.memoizedState.inst;Ne!==null&&l!==null&&jl(l,Ne.memoizedState.deps)?h.memoizedState=lo(i,p,r,l):(le.flags|=t,h.memoizedState=lo(1|i,p,r,l))}function lh(t,i){Lr(8390656,8,t,i)}function uu(t,i){kr(2048,8,t,i)}function J_(t){le.flags|=4;var i=le.updateQueue;if(i===null)i=br(),le.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function uh(t){var i=Be().memoizedState;return J_({ref:i,nextImpl:t}),function(){if((Ee&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ch(t,i){return kr(4,2,t,i)}function fh(t,i){return kr(4,4,t,i)}function dh(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function hh(t,i,r){r=r!=null?r.concat([t]):null,kr(4,4,dh.bind(null,i,t),r)}function cu(){}function ph(t,i){var r=Be();i=i===void 0?null:i;var l=r.memoizedState;return i!==null&&jl(i,l[1])?l[0]:(r.memoizedState=[t,i],t)}function mh(t,i){var r=Be();i=i===void 0?null:i;var l=r.memoizedState;if(i!==null&&jl(i,l[1]))return l[0];if(l=t(),Mi){Dn(!0);try{t()}finally{Dn(!1)}}return r.memoizedState=[l,i],l}function fu(t,i,r){return r===void 0||(cn&1073741824)!==0&&(pe&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=gp(),le.lanes|=t,Fn|=t,r)}function gh(t,i,r,l){return Et(r,i)?r:so.current!==null?(t=fu(t,r,l),Et(t,i)||(Ye=!0),t):(cn&42)===0||(cn&1073741824)!==0&&(pe&261930)===0?(Ye=!0,t.memoizedState=r):(t=gp(),le.lanes|=t,Fn|=t,i)}function yh(t,i,r,l,h){var p=B.p;B.p=p!==0&&8>p?p:8;var _=L.T,S={};L.T=S,pu(t,!1,i,r);try{var A=h(),w=L.S;if(w!==null&&w(S,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var P=G_(A,l);ds(t,i,P,Mt(t))}else ds(t,i,l,Mt(t))}catch(O){ds(t,i,{then:function(){},status:"rejected",reason:O},Mt())}finally{B.p=p,_!==null&&S.types!==null&&(_.types=S.types),L.T=_}}function Y_(){}function du(t,i,r,l){if(t.tag!==5)throw Error(s(476));var h=vh(t).queue;yh(t,h,i,oe,r===null?Y_:function(){return _h(t),r(l)})}function vh(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:oe},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function _h(t){var i=vh(t);i.next===null&&(i=t.alternate.memoizedState),ds(t,i.next.queue,{},Mt())}function hu(){return et(ws)}function Th(){return Be().memoizedState}function Eh(){return Be().memoizedState}function K_(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=Mt();t=On(r);var l=Vn(i,t,r);l!==null&&(yt(l,i,r),as(l,i,r)),i={cache:Bl()},t.payload=i;return}i=i.return}}function $_(t,i,r){var l=Mt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Pr(t)?Ch(i,r):(r=bl(t,i,r,l),r!==null&&(yt(r,t,l),Ah(r,i,l)))}function Sh(t,i,r){var l=Mt();ds(t,i,r,l)}function ds(t,i,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pr(t))Ch(i,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var _=i.lastRenderedState,S=p(_,r);if(h.hasEagerState=!0,h.eagerState=S,Et(S,_))return gr(t,i,h,0),Ue===null&&mr(),!1}catch{}finally{}if(r=bl(t,i,h,l),r!==null)return yt(r,t,l),Ah(r,i,l),!0}return!1}function pu(t,i,r,l){if(l={lane:2,revertLane:Yu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Pr(t)){if(i)throw Error(s(479))}else i=bl(t,r,l,2),i!==null&&yt(i,t,2)}function Pr(t){var i=t.alternate;return t===le||i!==null&&i===le}function Ch(t,i){ro=wr=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Ah(t,i,r){if((r&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,wf(t,r)}}var hs={readContext:et,use:Ur,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe};hs.useEffectEvent=Oe;var Rh={readContext:et,use:Ur,useCallback:function(t,i){return rt().memoizedState=[t,i===void 0?null:i],t},useContext:et,useEffect:lh,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,Lr(4194308,4,dh.bind(null,i,t),r)},useLayoutEffect:function(t,i){return Lr(4194308,4,t,i)},useInsertionEffect:function(t,i){Lr(4,2,t,i)},useMemo:function(t,i){var r=rt();i=i===void 0?null:i;var l=t();if(Mi){Dn(!0);try{t()}finally{Dn(!1)}}return r.memoizedState=[l,i],l},useReducer:function(t,i,r){var l=rt();if(r!==void 0){var h=r(i);if(Mi){Dn(!0);try{r(i)}finally{Dn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=$_.bind(null,le,t),[l.memoizedState,t]},useRef:function(t){var i=rt();return t={current:t},i.memoizedState=t},useState:function(t){t=au(t);var i=t.queue,r=Sh.bind(null,le,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:cu,useDeferredValue:function(t,i){var r=rt();return fu(r,t,i)},useTransition:function(){var t=au(!1);return t=yh.bind(null,le,t.queue,!0,!1),rt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var l=le,h=rt();if(ye){if(r===void 0)throw Error(s(407));r=r()}else{if(r=i(),Ue===null)throw Error(s(349));(pe&127)!==0||Yd(l,i,r)}h.memoizedState=r;var p={value:r,getSnapshot:i};return h.queue=p,lh($d.bind(null,l,p,t),[t]),l.flags|=2048,lo(9,{destroy:void 0},Kd.bind(null,l,p,r,i),null),r},useId:function(){var t=rt(),i=Ue.identifierPrefix;if(ye){var r=Qt,l=Xt;r=(l&~(1<<32-Tt(l)-1)).toString(32)+r,i="_"+i+"R_"+r,r=Dr++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=q_++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:hu,useFormState:ih,useActionState:ih,useOptimistic:function(t){var i=rt();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=pu.bind(null,le,!0,r),r.dispatch=i,[t,i]},useMemoCache:ou,useCacheRefresh:function(){return rt().memoizedState=K_.bind(null,le)},useEffectEvent:function(t){var i=rt(),r={impl:t};return i.memoizedState=r,function(){if((Ee&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},mu={readContext:et,use:Ur,useCallback:ph,useContext:et,useEffect:uu,useImperativeHandle:hh,useInsertionEffect:ch,useLayoutEffect:fh,useMemo:mh,useReducer:xr,useRef:ah,useState:function(){return xr(fn)},useDebugValue:cu,useDeferredValue:function(t,i){var r=Be();return gh(r,Ne.memoizedState,t,i)},useTransition:function(){var t=xr(fn)[0],i=Be().memoizedState;return[typeof t=="boolean"?t:fs(t),i]},useSyncExternalStore:Jd,useId:Th,useHostTransitionStatus:hu,useFormState:oh,useActionState:oh,useOptimistic:function(t,i){var r=Be();return Zd(r,Ne,t,i)},useMemoCache:ou,useCacheRefresh:Eh};mu.useEffectEvent=uh;var Ih={readContext:et,use:Ur,useCallback:ph,useContext:et,useEffect:uu,useImperativeHandle:hh,useInsertionEffect:ch,useLayoutEffect:fh,useMemo:mh,useReducer:ru,useRef:ah,useState:function(){return ru(fn)},useDebugValue:cu,useDeferredValue:function(t,i){var r=Be();return Ne===null?fu(r,t,i):gh(r,Ne.memoizedState,t,i)},useTransition:function(){var t=ru(fn)[0],i=Be().memoizedState;return[typeof t=="boolean"?t:fs(t),i]},useSyncExternalStore:Jd,useId:Th,useHostTransitionStatus:hu,useFormState:rh,useActionState:rh,useOptimistic:function(t,i){var r=Be();return Ne!==null?Zd(r,Ne,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:ou,useCacheRefresh:Eh};Ih.useEffectEvent=uh;function gu(t,i,r,l){i=t.memoizedState,r=r(l,i),r=r==null?i:E({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var yu={enqueueSetState:function(t,i,r){t=t._reactInternals;var l=Mt(),h=On(l);h.payload=i,r!=null&&(h.callback=r),i=Vn(t,h,l),i!==null&&(yt(i,t,l),as(i,t,l))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var l=Mt(),h=On(l);h.tag=1,h.payload=i,r!=null&&(h.callback=r),i=Vn(t,h,l),i!==null&&(yt(i,t,l),as(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=Mt(),l=On(r);l.tag=2,i!=null&&(l.callback=i),i=Vn(t,l,r),i!==null&&(yt(i,t,r),as(i,t,r))}};function Mh(t,i,r,l,h,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,_):i.prototype&&i.prototype.isPureReactComponent?!jo(r,l)||!jo(h,p):!0}function Nh(t,i,r,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,l),i.state!==t&&yu.enqueueReplaceState(i,i.state,null)}function Ni(t,i){var r=i;if("ref"in i){r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}if(t=t.defaultProps){r===i&&(r=E({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function wh(t){pr(t)}function Dh(t){console.error(t)}function bh(t){pr(t)}function Hr(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Uh(t,i,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function vu(t,i,r){return r=On(r),r.tag=3,r.payload={element:null},r.callback=function(){Hr(t,i)},r}function xh(t){return t=On(t),t.tag=3,t}function Lh(t,i,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=l.value;t.payload=function(){return h(p)},t.callback=function(){Uh(i,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Uh(i,r,l),typeof h!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function X_(t,i,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=r.alternate,i!==null&&eo(i,r,h,!0),r=Ct.current,r!==null){switch(r.tag){case 31:case 13:return kt===null?Xr():r.alternate===null&&Ve===0&&(Ve=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Ar?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([l]):i.add(l),zu(t,l,h)),!1;case 22:return r.flags|=65536,l===Ar?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([l]):r.add(l)),zu(t,l,h)),!1}throw Error(s(435,r.tag))}return zu(t,l,h),Xr(),!1}if(ye)return i=Ct.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Hl&&(t=Error(s(422),{cause:l}),ns(bt(t,r)))):(l!==Hl&&(i=Error(s(423),{cause:l}),ns(bt(i,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=bt(l,r),h=vu(t.stateNode,l,h),$l(t,h),Ve!==4&&(Ve=2)),!1;var p=Error(s(520),{cause:l});if(p=bt(p,r),Es===null?Es=[p]:Es.push(p),Ve!==4&&(Ve=2),i===null)return!0;l=bt(l,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=vu(r.stateNode,l,t),$l(r,t),!1;case 1:if(i=r.type,p=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Jn===null||!Jn.has(p))))return r.flags|=65536,h&=-h,r.lanes|=h,h=xh(h),Lh(h,t,r,l),$l(r,h),!1}r=r.return}while(r!==null);return!1}var _u=Error(s(461)),Ye=!1;function tt(t,i,r,l){i.child=t===null?Od(i,null,r,l):Ii(i,t.child,r,l)}function kh(t,i,r,l,h){r=r.render;var p=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Si(i),l=eu(t,i,r,_,p,h),S=tu(),t!==null&&!Ye?(nu(t,i,h),dn(t,i,h)):(ye&&S&&kl(i),i.flags|=1,tt(t,i,l,h),i.child)}function Ph(t,i,r,l,h){if(t===null){var p=r.type;return typeof p=="function"&&!Ul(p)&&p.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=p,Hh(t,i,p,l,h)):(t=vr(r.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!Mu(t,h)){var _=p.memoizedProps;if(r=r.compare,r=r!==null?r:jo,r(_,l)&&t.ref===i.ref)return dn(t,i,h)}return i.flags|=1,t=rn(p,l),t.ref=i.ref,t.return=i,i.child=t}function Hh(t,i,r,l,h){if(t!==null){var p=t.memoizedProps;if(jo(p,l)&&t.ref===i.ref)if(Ye=!1,i.pendingProps=l=p,Mu(t,h))(t.flags&131072)!==0&&(Ye=!0);else return i.lanes=t.lanes,dn(t,i,h)}return Tu(t,i,r,l,h)}function Oh(t,i,r,l){var h=l.children,p=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|r:r,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~p}else l=0,i.child=null;return Vh(t,i,p,r,l)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Sr(i,p!==null?p.cachePool:null),p!==null?qd(i,p):Ql(),Bd(i);else return l=i.lanes=536870912,Vh(t,i,p!==null?p.baseLanes|r:r,r,l)}else p!==null?(Sr(i,p.cachePool),qd(i,p),qn(),i.memoizedState=null):(t!==null&&Sr(i,null),Ql(),qn());return tt(t,i,h,r),i.child}function ps(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Vh(t,i,r,l,h){var p=Fl();return p=p===null?null:{parent:Fe._currentValue,pool:p},i.memoizedState={baseLanes:r,cachePool:p},t!==null&&Sr(i,null),Ql(),Bd(i),t!==null&&eo(t,i,l,!0),i.childLanes=h,null}function Or(t,i){return i=Gr({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Gh(t,i,r){return Ii(i,t.child,null,r),t=Or(i,i.pendingProps),t.flags|=2,At(i),i.memoizedState=null,t}function Q_(t,i,r){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ye){if(l.mode==="hidden")return t=Or(i,l),i.lanes=536870912,ps(null,t);if(Wl(i),(t=Le)?(t=Wp(t,Lt),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:xn!==null?{id:Xt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},r=Cd(t),r.return=i,i.child=r,je=i,Le=null)):t=null,t===null)throw kn(i);return i.lanes=536870912,null}return Or(i,l)}var p=t.memoizedState;if(p!==null){var _=p.dehydrated;if(Wl(i),h)if(i.flags&256)i.flags&=-257,i=Gh(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ye||eo(t,i,r,!1),h=(r&t.childLanes)!==0,Ye||h){if(l=Ue,l!==null&&(_=Df(l,r),_!==0&&_!==p.retryLane))throw p.retryLane=_,vi(t,_),yt(l,t,_),_u;Xr(),i=Gh(t,i,r)}else t=p.treeContext,Le=Pt(_.nextSibling),je=i,ye=!0,Ln=null,Lt=!1,t!==null&&Id(i,t),i=Or(i,l),i.flags|=4096;return i}return t=rn(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Vr(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function Tu(t,i,r,l,h){return Si(i),r=eu(t,i,r,l,void 0,h),l=tu(),t!==null&&!Ye?(nu(t,i,h),dn(t,i,h)):(ye&&l&&kl(i),i.flags|=1,tt(t,i,r,h),i.child)}function qh(t,i,r,l,h,p){return Si(i),i.updateQueue=null,r=Fd(i,l,r,h),zd(t),l=tu(),t!==null&&!Ye?(nu(t,i,p),dn(t,i,p)):(ye&&l&&kl(i),i.flags|=1,tt(t,i,r,p),i.child)}function Bh(t,i,r,l,h){if(Si(i),i.stateNode===null){var p=Qi,_=r.contextType;typeof _=="object"&&_!==null&&(p=et(_)),p=new r(l,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=yu,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=l,p.state=i.memoizedState,p.refs={},Yl(i),_=r.contextType,p.context=typeof _=="object"&&_!==null?et(_):Qi,p.state=i.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(gu(i,r,_,l),p.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&yu.enqueueReplaceState(p,p.state,null),us(i,l,p,h),ls(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){p=i.stateNode;var S=i.memoizedProps,A=Ni(r,S);p.props=A;var w=p.context,P=r.contextType;_=Qi,typeof P=="object"&&P!==null&&(_=et(P));var O=r.getDerivedStateFromProps;P=typeof O=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,P||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||w!==_)&&Nh(i,p,l,_),Hn=!1;var b=i.memoizedState;p.state=b,us(i,l,p,h),ls(),w=i.memoizedState,S||b!==w||Hn?(typeof O=="function"&&(gu(i,r,O,l),w=i.memoizedState),(A=Hn||Mh(i,r,A,l,b,w,_))?(P||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=w),p.props=l,p.state=w,p.context=_,l=A):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,Kl(t,i),_=i.memoizedProps,P=Ni(r,_),p.props=P,O=i.pendingProps,b=p.context,w=r.contextType,A=Qi,typeof w=="object"&&w!==null&&(A=et(w)),S=r.getDerivedStateFromProps,(w=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==O||b!==A)&&Nh(i,p,l,A),Hn=!1,b=i.memoizedState,p.state=b,us(i,l,p,h),ls();var U=i.memoizedState;_!==O||b!==U||Hn||t!==null&&t.dependencies!==null&&Tr(t.dependencies)?(typeof S=="function"&&(gu(i,r,S,l),U=i.memoizedState),(P=Hn||Mh(i,r,P,l,b,U,A)||t!==null&&t.dependencies!==null&&Tr(t.dependencies))?(w||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,U,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,U,A)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===t.memoizedProps&&b===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&b===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=U),p.props=l,p.state=U,p.context=A,l=P):(typeof p.componentDidUpdate!="function"||_===t.memoizedProps&&b===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&b===t.memoizedState||(i.flags|=1024),l=!1)}return p=l,Vr(t,i),l=(i.flags&128)!==0,p||l?(p=i.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&l?(i.child=Ii(i,t.child,null,h),i.child=Ii(i,null,r,h)):tt(t,i,r,h),i.memoizedState=p.state,t=i.child):t=dn(t,i,h),t}function zh(t,i,r,l){return Ti(),i.flags|=256,tt(t,i,r,l),i.child}var Eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Su(t){return{baseLanes:t,cachePool:Ud()}}function Cu(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=It),t}function Fh(t,i,r){var l=i.pendingProps,h=!1,p=(i.flags&128)!==0,_;if((_=p)||(_=t!==null&&t.memoizedState===null?!1:(qe.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ye){if(h?Gn(i):qn(),(t=Le)?(t=Wp(t,Lt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:xn!==null?{id:Xt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},r=Cd(t),r.return=i,i.child=r,je=i,Le=null)):t=null,t===null)throw kn(i);return sc(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(qn(),h=i.mode,S=Gr({mode:"hidden",children:S},h),l=_i(l,h,r,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Su(r),l.childLanes=Cu(t,_,r),i.memoizedState=Eu,ps(null,l)):(Gn(i),Au(i,S))}var A=t.memoizedState;if(A!==null&&(S=A.dehydrated,S!==null)){if(p)i.flags&256?(Gn(i),i.flags&=-257,i=Ru(t,i,r)):i.memoizedState!==null?(qn(),i.child=t.child,i.flags|=128,i=null):(qn(),S=l.fallback,h=i.mode,l=Gr({mode:"visible",children:l.children},h),S=_i(S,h,r,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Ii(i,t.child,null,r),l=i.child,l.memoizedState=Su(r),l.childLanes=Cu(t,_,r),i.memoizedState=Eu,i=ps(null,l));else if(Gn(i),sc(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var w=_.dgst;_=w,l=Error(s(419)),l.stack="",l.digest=_,ns({value:l,source:null,stack:null}),i=Ru(t,i,r)}else if(Ye||eo(t,i,r,!1),_=(r&t.childLanes)!==0,Ye||_){if(_=Ue,_!==null&&(l=Df(_,r),l!==0&&l!==A.retryLane))throw A.retryLane=l,vi(t,l),yt(_,t,l),_u;oc(S)||Xr(),i=Ru(t,i,r)}else oc(S)?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,Le=Pt(S.nextSibling),je=i,ye=!0,Ln=null,Lt=!1,t!==null&&Id(i,t),i=Au(i,l.children),i.flags|=4096);return i}return h?(qn(),S=l.fallback,h=i.mode,A=t.child,w=A.sibling,l=rn(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,w!==null?S=rn(w,S):(S=_i(S,h,r,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,ps(null,l),l=i.child,S=t.child.memoizedState,S===null?S=Su(r):(h=S.cachePool,h!==null?(A=Fe._currentValue,h=h.parent!==A?{parent:A,pool:A}:h):h=Ud(),S={baseLanes:S.baseLanes|r,cachePool:h}),l.memoizedState=S,l.childLanes=Cu(t,_,r),i.memoizedState=Eu,ps(t.child,l)):(Gn(i),r=t.child,t=r.sibling,r=rn(r,{mode:"visible",children:l.children}),r.return=i,r.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=r,i.memoizedState=null,r)}function Au(t,i){return i=Gr({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Gr(t,i){return t=St(22,t,null,i),t.lanes=0,t}function Ru(t,i,r){return Ii(i,t.child,null,r),t=Au(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Jh(t,i,r){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Gl(t.return,i,r)}function Iu(t,i,r,l,h,p){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:p}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=r,_.tailMode=h,_.treeForkCount=p)}function Yh(t,i,r){var l=i.pendingProps,h=l.revealOrder,p=l.tail;l=l.children;var _=qe.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,J(qe,_),tt(t,i,l,r),l=ye?ts:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jh(t,r,i);else if(t.tag===19)Jh(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=i.child,h=null;r!==null;)t=r.alternate,t!==null&&Nr(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=i.child,i.child=null):(h=r.sibling,r.sibling=null),Iu(i,!1,h,r,p,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Nr(t)===null){i.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Iu(i,!0,r,null,p,l);break;case"together":Iu(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function dn(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Fn|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(eo(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,r=rn(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=rn(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Mu(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Tr(t)))}function Z_(t,i,r){switch(i.tag){case 3:st(i,i.stateNode.containerInfo),Pn(i,Fe,t.memoizedState.cache),Ti();break;case 27:case 5:Go(i);break;case 4:st(i,i.stateNode.containerInfo);break;case 10:Pn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Wl(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Gn(i),i.flags|=128,null):(r&i.child.childLanes)!==0?Fh(t,i,r):(Gn(i),t=dn(t,i,r),t!==null?t.sibling:null);Gn(i);break;case 19:var h=(t.flags&128)!==0;if(l=(r&i.childLanes)!==0,l||(eo(t,i,r,!1),l=(r&i.childLanes)!==0),h){if(l)return Yh(t,i,r);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(qe,qe.current),l)break;return null;case 22:return i.lanes=0,Oh(t,i,r,i.pendingProps);case 24:Pn(i,Fe,t.memoizedState.cache)}return dn(t,i,r)}function Kh(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ye=!0;else{if(!Mu(t,r)&&(i.flags&128)===0)return Ye=!1,Z_(t,i,r);Ye=(t.flags&131072)!==0}else Ye=!1,ye&&(i.flags&1048576)!==0&&Rd(i,ts,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ai(i.elementType),i.type=t,typeof t=="function")Ul(t)?(l=Ni(t,l),i.tag=1,i=Bh(null,i,t,l,r)):(i.tag=0,i=Tu(null,i,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===K){i.tag=11,i=kh(null,i,t,l,r);break e}else if(h===F){i.tag=14,i=Ph(null,i,t,l,r);break e}}throw i=ze(t)||t,Error(s(306,i,""))}}return i;case 0:return Tu(t,i,i.type,i.pendingProps,r);case 1:return l=i.type,h=Ni(l,i.pendingProps),Bh(t,i,l,h,r);case 3:e:{if(st(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var p=i.memoizedState;h=p.element,Kl(t,i),us(i,l,null,r);var _=i.memoizedState;if(l=_.cache,Pn(i,Fe,l),l!==p.cache&&ql(i,[Fe],r,!0),ls(),l=_.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=zh(t,i,l,r);break e}else if(l!==h){h=bt(Error(s(424)),i),ns(h),i=zh(t,i,l,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Le=Pt(t.firstChild),je=i,ye=!0,Ln=null,Lt=!0,r=Od(i,null,l,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ti(),l===h){i=dn(t,i,r);break e}tt(t,i,l,r)}i=i.child}return i;case 26:return Vr(t,i),t===null?(r=om(i.type,null,i.pendingProps,null))?i.memoizedState=r:ye||(r=i.type,t=i.pendingProps,l=na(ce.current).createElement(r),l[We]=i,l[ft]=t,nt(l,r,t),Xe(l),i.stateNode=l):i.memoizedState=om(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Go(i),t===null&&ye&&(l=i.stateNode=tm(i.type,i.pendingProps,ce.current),je=i,Lt=!0,h=Le,Xn(i.type)?(rc=h,Le=Pt(l.firstChild)):Le=h),tt(t,i,i.pendingProps.children,r),Vr(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ye&&((h=l=Le)&&(l=MT(l,i.type,i.pendingProps,Lt),l!==null?(i.stateNode=l,je=i,Le=Pt(l.firstChild),Lt=!1,h=!0):h=!1),h||kn(i)),Go(i),h=i.type,p=i.pendingProps,_=t!==null?t.memoizedProps:null,l=p.children,tc(h,p)?l=null:_!==null&&tc(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=eu(t,i,B_,null,null,r),ws._currentValue=h),Vr(t,i),tt(t,i,l,r),i.child;case 6:return t===null&&ye&&((t=r=Le)&&(r=NT(r,i.pendingProps,Lt),r!==null?(i.stateNode=r,je=i,Le=null,t=!0):t=!1),t||kn(i)),null;case 13:return Fh(t,i,r);case 4:return st(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ii(i,null,l,r):tt(t,i,l,r),i.child;case 11:return kh(t,i,i.type,i.pendingProps,r);case 7:return tt(t,i,i.pendingProps,r),i.child;case 8:return tt(t,i,i.pendingProps.children,r),i.child;case 12:return tt(t,i,i.pendingProps.children,r),i.child;case 10:return l=i.pendingProps,Pn(i,i.type,l.value),tt(t,i,l.children,r),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Si(i),h=et(h),l=l(h),i.flags|=1,tt(t,i,l,r),i.child;case 14:return Ph(t,i,i.type,i.pendingProps,r);case 15:return Hh(t,i,i.type,i.pendingProps,r);case 19:return Yh(t,i,r);case 31:return Q_(t,i,r);case 22:return Oh(t,i,r,i.pendingProps);case 24:return Si(i),l=et(Fe),t===null?(h=Fl(),h===null&&(h=Ue,p=Bl(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=r),h=p),i.memoizedState={parent:l,cache:h},Yl(i),Pn(i,Fe,h)):((t.lanes&r)!==0&&(Kl(t,i),us(i,null,null,r),ls()),h=t.memoizedState,p=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Pn(i,Fe,l)):(l=p.cache,Pn(i,Fe,l),l!==h.cache&&ql(i,[Fe],r,!0))),tt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function hn(t){t.flags|=4}function Nu(t,i,r,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Tp())t.flags|=8192;else throw Ri=Ar,Jl}else t.flags&=-16777217}function $h(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!um(i))if(Tp())t.flags|=8192;else throw Ri=Ar,Jl}function qr(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Mf():536870912,t.lanes|=i,ho|=i)}function ms(t,i){if(!ye)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ke(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(i)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,i}function W_(t,i,r){var l=i.pendingProps;switch(Pl(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(i),null;case 1:return ke(i),null;case 3:return r=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),un(Fe),Ge(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ji(i)?hn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ol())),ke(i),null;case 26:var h=i.type,p=i.memoizedState;return t===null?(hn(i),p!==null?(ke(i),$h(i,p)):(ke(i),Nu(i,h,null,l,r))):p?p!==t.memoizedState?(hn(i),ke(i),$h(i,p)):(ke(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&hn(i),ke(i),Nu(i,h,t,l,r)),null;case 27:if(Ws(i),r=ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&hn(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ke(i),null}t=X.current,ji(i)?Md(i):(t=tm(h,l,r),i.stateNode=t,hn(i))}return ke(i),null;case 5:if(Ws(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&hn(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ke(i),null}if(p=X.current,ji(i))Md(i);else{var _=na(ce.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?p.multiple=!0:l.size&&(p.size=l.size);break;default:p=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}p[We]=i,p[ft]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=p;e:switch(nt(p,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&hn(i)}}return ke(i),Nu(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&hn(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ce.current,ji(i)){if(t=i.stateNode,r=i.memoizedProps,l=null,h=je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[We]=i,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Fp(t.nodeValue,r)),t||kn(i,!0)}else t=na(t).createTextNode(l),t[We]=i,i.stateNode=t}return ke(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(l=ji(i),r!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[We]=i}else Ti(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ke(i),t=!1}else r=Ol(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(At(i),i):(At(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ke(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ji(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[We]=i}else Ti(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ke(i),h=!1}else h=Ol(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(At(i),i):(At(i),null)}return At(i),(i.flags&128)!==0?(i.lanes=r,i):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),qr(i,i.updateQueue),ke(i),null);case 4:return Ge(),t===null&&Qu(i.stateNode.containerInfo),ke(i),null;case 10:return un(i.type),ke(i),null;case 19:if(V(qe),l=i.memoizedState,l===null)return ke(i),null;if(h=(i.flags&128)!==0,p=l.rendering,p===null)if(h)ms(l,!1);else{if(Ve!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=Nr(t),p!==null){for(i.flags|=128,ms(l,!1),t=p.updateQueue,i.updateQueue=t,qr(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Sd(r,t),r=r.sibling;return J(qe,qe.current&1|2),ye&&an(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&vt()>Yr&&(i.flags|=128,h=!0,ms(l,!1),i.lanes=4194304)}else{if(!h)if(t=Nr(p),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,qr(i,t),ms(l,!0),l.tail===null&&l.tailMode==="hidden"&&!p.alternate&&!ye)return ke(i),null}else 2*vt()-l.renderingStartTime>Yr&&r!==536870912&&(i.flags|=128,h=!0,ms(l,!1),i.lanes=4194304);l.isBackwards?(p.sibling=i.child,i.child=p):(t=l.last,t!==null?t.sibling=p:i.child=p,l.last=p)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=vt(),t.sibling=null,r=qe.current,J(qe,h?r&1|2:r&1),ye&&an(i,l.treeForkCount),t):(ke(i),null);case 22:case 23:return At(i),Zl(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(r&536870912)!==0&&(i.flags&128)===0&&(ke(i),i.subtreeFlags&6&&(i.flags|=8192)):ke(i),r=i.updateQueue,r!==null&&qr(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==r&&(i.flags|=2048),t!==null&&V(Ci),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),un(Fe),ke(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function j_(t,i){switch(Pl(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return un(Fe),Ge(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ws(i),null;case 31:if(i.memoizedState!==null){if(At(i),i.alternate===null)throw Error(s(340));Ti()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(At(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ti()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return V(qe),null;case 4:return Ge(),null;case 10:return un(i.type),null;case 22:case 23:return At(i),Zl(),t!==null&&V(Ci),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return un(Fe),null;case 25:return null;default:return null}}function Xh(t,i){switch(Pl(i),i.tag){case 3:un(Fe),Ge();break;case 26:case 27:case 5:Ws(i);break;case 4:Ge();break;case 31:i.memoizedState!==null&&At(i);break;case 13:At(i);break;case 19:V(qe);break;case 10:un(i.type);break;case 22:case 23:At(i),Zl(),t!==null&&V(Ci);break;case 24:un(Fe)}}function gs(t,i){try{var r=i.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var p=r.create,_=r.inst;l=p(),_.destroy=l}r=r.next}while(r!==h)}}catch(S){Ie(i,i.return,S)}}function Bn(t,i,r){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var A=r,w=S;try{w()}catch(P){Ie(h,A,P)}}}l=l.next}while(l!==p)}}catch(P){Ie(i,i.return,P)}}function Qh(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{Gd(i,r)}catch(l){Ie(t,t.return,l)}}}function Zh(t,i,r){r.props=Ni(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ie(t,i,l)}}function ys(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Ie(t,i,h)}}function Zt(t,i){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Ie(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ie(t,i,h)}else r.current=null}function Wh(t){var i=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Ie(t,t.return,h)}}function wu(t,i,r){try{var l=t.stateNode;ET(l,t.type,r,i),l[ft]=i}catch(h){Ie(t,t.return,h)}}function jh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xn(t.type)||t.tag===4}function Du(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bu(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=on));else if(l!==4&&(l===27&&Xn(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(bu(t,i,r),t=t.sibling;t!==null;)bu(t,i,r),t=t.sibling}function Br(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(l!==4&&(l===27&&Xn(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Br(t,i,r),t=t.sibling;t!==null;)Br(t,i,r),t=t.sibling}function ep(t){var i=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);nt(i,l,r),i[We]=t,i[ft]=r}catch(p){Ie(t,t.return,p)}}var pn=!1,Ke=!1,Uu=!1,tp=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function eT(t,i){if(t=t.containerInfo,ju=ua,t=hd(t),Rl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{r.nodeType,p.nodeType}catch{r=null;break e}var _=0,S=-1,A=-1,w=0,P=0,O=t,b=null;t:for(;;){for(var U;O!==r||h!==0&&O.nodeType!==3||(S=_+h),O!==p||l!==0&&O.nodeType!==3||(A=_+l),O.nodeType===3&&(_+=O.nodeValue.length),(U=O.firstChild)!==null;)b=O,O=U;for(;;){if(O===t)break t;if(b===r&&++w===h&&(S=_),b===p&&++P===l&&(A=_),(U=O.nextSibling)!==null)break;O=b,b=O.parentNode}O=U}r=S===-1||A===-1?null:{start:S,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(ec={focusedElem:t,selectionRange:r},ua=!1,Qe=i;Qe!==null;)if(i=Qe,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Qe=t;else for(;Qe!==null;){switch(i=Qe,p=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,r=i,h=p.memoizedProps,p=p.memoizedState,l=r.stateNode;try{var $=Ni(r.type,h);t=l.getSnapshotBeforeUpdate($,p),l.__reactInternalSnapshotBeforeUpdate=t}catch(ne){Ie(r,r.return,ne)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)ic(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ic(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Qe=t;break}Qe=i.return}}function np(t,i,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:gn(t,r),l&4&&gs(5,r);break;case 1:if(gn(t,r),l&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(_){Ie(r,r.return,_)}else{var h=Ni(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ie(r,r.return,_)}}l&64&&Qh(r),l&512&&ys(r,r.return);break;case 3:if(gn(t,r),l&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Gd(t,i)}catch(_){Ie(r,r.return,_)}}break;case 27:i===null&&l&4&&ep(r);case 26:case 5:gn(t,r),i===null&&l&4&&Wh(r),l&512&&ys(r,r.return);break;case 12:gn(t,r);break;case 31:gn(t,r),l&4&&sp(t,r);break;case 13:gn(t,r),l&4&&rp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=uT.bind(null,r),wT(t,r))));break;case 22:if(l=r.memoizedState!==null||pn,!l){i=i!==null&&i.memoizedState!==null||Ke,h=pn;var p=Ke;pn=l,(Ke=i)&&!p?yn(t,r,(r.subtreeFlags&8772)!==0):gn(t,r),pn=h,Ke=p}break;case 30:break;default:gn(t,r)}}function ip(t){var i=t.alternate;i!==null&&(t.alternate=null,ip(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ll(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Pe=null,ht=!1;function mn(t,i,r){for(r=r.child;r!==null;)op(t,i,r),r=r.sibling}function op(t,i,r){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(qo,r)}catch{}switch(r.tag){case 26:Ke||Zt(r,i),mn(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ke||Zt(r,i);var l=Pe,h=ht;Xn(r.type)&&(Pe=r.stateNode,ht=!1),mn(t,i,r),Is(r.stateNode),Pe=l,ht=h;break;case 5:Ke||Zt(r,i);case 6:if(l=Pe,h=ht,Pe=null,mn(t,i,r),Pe=l,ht=h,Pe!==null)if(ht)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(r.stateNode)}catch(p){Ie(r,i,p)}else try{Pe.removeChild(r.stateNode)}catch(p){Ie(r,i,p)}break;case 18:Pe!==null&&(ht?(t=Pe,Qp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Eo(t)):Qp(Pe,r.stateNode));break;case 4:l=Pe,h=ht,Pe=r.stateNode.containerInfo,ht=!0,mn(t,i,r),Pe=l,ht=h;break;case 0:case 11:case 14:case 15:Bn(2,r,i),Ke||Bn(4,r,i),mn(t,i,r);break;case 1:Ke||(Zt(r,i),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Zh(r,i,l)),mn(t,i,r);break;case 21:mn(t,i,r);break;case 22:Ke=(l=Ke)||r.memoizedState!==null,mn(t,i,r),Ke=l;break;default:mn(t,i,r)}}function sp(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Eo(t)}catch(r){Ie(i,i.return,r)}}}function rp(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Eo(t)}catch(r){Ie(i,i.return,r)}}function tT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new tp),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new tp),i;default:throw Error(s(435,t.tag))}}function zr(t,i){var r=tT(t);i.forEach(function(l){if(!r.has(l)){r.add(l);var h=cT.bind(null,t,l);l.then(h,h)}})}function pt(t,i){var r=i.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],p=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Xn(S.type)){Pe=S.stateNode,ht=!1;break e}break;case 5:Pe=S.stateNode,ht=!1;break e;case 3:case 4:Pe=S.stateNode.containerInfo,ht=!0;break e}S=S.return}if(Pe===null)throw Error(s(160));op(p,_,h),Pe=null,ht=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)ap(i,t),i=i.sibling}var qt=null;function ap(t,i){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pt(i,t),mt(t),l&4&&(Bn(3,t,t.return),gs(3,t),Bn(5,t,t.return));break;case 1:pt(i,t),mt(t),l&512&&(Ke||r===null||Zt(r,r.return)),l&64&&pn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=qt;if(pt(i,t),mt(t),l&512&&(Ke||r===null||Zt(r,r.return)),l&4){var p=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Fo]||p[We]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(l),h.head.insertBefore(p,h.querySelector("head > title"))),nt(p,l,r),p[We]=t,Xe(p),l=p;break e;case"link":var _=am("link","href",h).get(l+(r.href||""));if(_){for(var S=0;S<_.length;S++)if(p=_[S],p.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&p.getAttribute("rel")===(r.rel==null?null:r.rel)&&p.getAttribute("title")===(r.title==null?null:r.title)&&p.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(S,1);break t}}p=h.createElement(l),nt(p,l,r),h.head.appendChild(p);break;case"meta":if(_=am("meta","content",h).get(l+(r.content||""))){for(S=0;S<_.length;S++)if(p=_[S],p.getAttribute("content")===(r.content==null?null:""+r.content)&&p.getAttribute("name")===(r.name==null?null:r.name)&&p.getAttribute("property")===(r.property==null?null:r.property)&&p.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&p.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(S,1);break t}}p=h.createElement(l),nt(p,l,r),h.head.appendChild(p);break;default:throw Error(s(468,l))}p[We]=t,Xe(p),l=p}t.stateNode=l}else lm(h,t.type,t.stateNode);else t.stateNode=rm(h,l,t.memoizedProps);else p!==l?(p===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):p.count--,l===null?lm(h,t.type,t.stateNode):rm(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wu(t,t.memoizedProps,r.memoizedProps)}break;case 27:pt(i,t),mt(t),l&512&&(Ke||r===null||Zt(r,r.return)),r!==null&&l&4&&wu(t,t.memoizedProps,r.memoizedProps);break;case 5:if(pt(i,t),mt(t),l&512&&(Ke||r===null||Zt(r,r.return)),t.flags&32){h=t.stateNode;try{zi(h,"")}catch($){Ie(t,t.return,$)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,wu(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Uu=!0);break;case 6:if(pt(i,t),mt(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch($){Ie(t,t.return,$)}}break;case 3:if(sa=null,h=qt,qt=ia(i.containerInfo),pt(i,t),qt=h,mt(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Eo(i.containerInfo)}catch($){Ie(t,t.return,$)}Uu&&(Uu=!1,lp(t));break;case 4:l=qt,qt=ia(t.stateNode.containerInfo),pt(i,t),mt(t),qt=l;break;case 12:pt(i,t),mt(t);break;case 31:pt(i,t),mt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zr(t,l)));break;case 13:pt(i,t),mt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Jr=vt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zr(t,l)));break;case 22:h=t.memoizedState!==null;var A=r!==null&&r.memoizedState!==null,w=pn,P=Ke;if(pn=w||h,Ke=P||A,pt(i,t),Ke=P,pn=w,mt(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(r===null||A||pn||Ke||wi(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){A=r=i;try{if(p=A.stateNode,h)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=A.stateNode;var O=A.memoizedProps.style,b=O!=null&&O.hasOwnProperty("display")?O.display:null;S.style.display=b==null||typeof b=="boolean"?"":(""+b).trim()}}catch($){Ie(A,A.return,$)}}}else if(i.tag===6){if(r===null){A=i;try{A.stateNode.nodeValue=h?"":A.memoizedProps}catch($){Ie(A,A.return,$)}}}else if(i.tag===18){if(r===null){A=i;try{var U=A.stateNode;h?Zp(U,!0):Zp(A.stateNode,!1)}catch($){Ie(A,A.return,$)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,zr(t,r))));break;case 19:pt(i,t),mt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zr(t,l)));break;case 30:break;case 21:break;default:pt(i,t),mt(t)}}function mt(t){var i=t.flags;if(i&2){try{for(var r,l=t.return;l!==null;){if(jh(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,p=Du(t);Br(t,p,h);break;case 5:var _=r.stateNode;r.flags&32&&(zi(_,""),r.flags&=-33);var S=Du(t);Br(t,S,_);break;case 3:case 4:var A=r.stateNode.containerInfo,w=Du(t);bu(t,w,A);break;default:throw Error(s(161))}}catch(P){Ie(t,t.return,P)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function lp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;lp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function gn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)np(t,i.alternate,i),i=i.sibling}function wi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Bn(4,i,i.return),wi(i);break;case 1:Zt(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&Zh(i,i.return,r),wi(i);break;case 27:Is(i.stateNode);case 26:case 5:Zt(i,i.return),wi(i);break;case 22:i.memoizedState===null&&wi(i);break;case 30:wi(i);break;default:wi(i)}t=t.sibling}}function yn(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,p=i,_=p.flags;switch(p.tag){case 0:case 11:case 15:yn(h,p,r),gs(4,p);break;case 1:if(yn(h,p,r),l=p,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(w){Ie(l,l.return,w)}if(l=p,h=l.updateQueue,h!==null){var S=l.stateNode;try{var A=h.shared.hiddenCallbacks;if(A!==null)for(h.shared.hiddenCallbacks=null,h=0;h<A.length;h++)Vd(A[h],S)}catch(w){Ie(l,l.return,w)}}r&&_&64&&Qh(p),ys(p,p.return);break;case 27:ep(p);case 26:case 5:yn(h,p,r),r&&l===null&&_&4&&Wh(p),ys(p,p.return);break;case 12:yn(h,p,r);break;case 31:yn(h,p,r),r&&_&4&&sp(h,p);break;case 13:yn(h,p,r),r&&_&4&&rp(h,p);break;case 22:p.memoizedState===null&&yn(h,p,r),ys(p,p.return);break;case 30:break;default:yn(h,p,r)}i=i.sibling}}function xu(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&is(r))}function Lu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&is(t))}function Bt(t,i,r,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)up(t,i,r,l),i=i.sibling}function up(t,i,r,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Bt(t,i,r,l),h&2048&&gs(9,i);break;case 1:Bt(t,i,r,l);break;case 3:Bt(t,i,r,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&is(t)));break;case 12:if(h&2048){Bt(t,i,r,l),t=i.stateNode;try{var p=i.memoizedProps,_=p.id,S=p.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Ie(i,i.return,A)}}else Bt(t,i,r,l);break;case 31:Bt(t,i,r,l);break;case 13:Bt(t,i,r,l);break;case 23:break;case 22:p=i.stateNode,_=i.alternate,i.memoizedState!==null?p._visibility&2?Bt(t,i,r,l):vs(t,i):p._visibility&2?Bt(t,i,r,l):(p._visibility|=2,uo(t,i,r,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&xu(_,i);break;case 24:Bt(t,i,r,l),h&2048&&Lu(i.alternate,i);break;default:Bt(t,i,r,l)}}function uo(t,i,r,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=t,_=i,S=r,A=l,w=_.flags;switch(_.tag){case 0:case 11:case 15:uo(p,_,S,A,h),gs(8,_);break;case 23:break;case 22:var P=_.stateNode;_.memoizedState!==null?P._visibility&2?uo(p,_,S,A,h):vs(p,_):(P._visibility|=2,uo(p,_,S,A,h)),h&&w&2048&&xu(_.alternate,_);break;case 24:uo(p,_,S,A,h),h&&w&2048&&Lu(_.alternate,_);break;default:uo(p,_,S,A,h)}i=i.sibling}}function vs(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,l=i,h=l.flags;switch(l.tag){case 22:vs(r,l),h&2048&&xu(l.alternate,l);break;case 24:vs(r,l),h&2048&&Lu(l.alternate,l);break;default:vs(r,l)}i=i.sibling}}var _s=8192;function co(t,i,r){if(t.subtreeFlags&_s)for(t=t.child;t!==null;)cp(t,i,r),t=t.sibling}function cp(t,i,r){switch(t.tag){case 26:co(t,i,r),t.flags&_s&&t.memoizedState!==null&&qT(r,qt,t.memoizedState,t.memoizedProps);break;case 5:co(t,i,r);break;case 3:case 4:var l=qt;qt=ia(t.stateNode.containerInfo),co(t,i,r),qt=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=_s,_s=16777216,co(t,i,r),_s=l):co(t,i,r));break;default:co(t,i,r)}}function fp(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ts(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];Qe=l,hp(l,t)}fp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dp(t),t=t.sibling}function dp(t){switch(t.tag){case 0:case 11:case 15:Ts(t),t.flags&2048&&Bn(9,t,t.return);break;case 3:Ts(t);break;case 12:Ts(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Fr(t)):Ts(t);break;default:Ts(t)}}function Fr(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];Qe=l,hp(l,t)}fp(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Bn(8,i,i.return),Fr(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,Fr(i));break;default:Fr(i)}t=t.sibling}}function hp(t,i){for(;Qe!==null;){var r=Qe;switch(r.tag){case 0:case 11:case 15:Bn(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:is(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Qe=l;else e:for(r=t;Qe!==null;){l=Qe;var h=l.sibling,p=l.return;if(ip(l),l===r){Qe=null;break e}if(h!==null){h.return=p,Qe=h;break e}Qe=p}}}var nT={getCacheForType:function(t){var i=et(Fe),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return et(Fe).controller.signal}},iT=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Ue=null,fe=null,pe=0,Re=0,Rt=null,zn=!1,fo=!1,ku=!1,vn=0,Ve=0,Fn=0,Di=0,Pu=0,It=0,ho=0,Es=null,gt=null,Hu=!1,Jr=0,pp=0,Yr=1/0,Kr=null,Jn=null,$e=0,Yn=null,po=null,_n=0,Ou=0,Vu=null,mp=null,Ss=0,Gu=null;function Mt(){return(Ee&2)!==0&&pe!==0?pe&-pe:L.T!==null?Yu():bf()}function gp(){if(It===0)if((pe&536870912)===0||ye){var t=tr;tr<<=1,(tr&3932160)===0&&(tr=262144),It=t}else It=536870912;return t=Ct.current,t!==null&&(t.flags|=32),It}function yt(t,i,r){(t===Ue&&(Re===2||Re===9)||t.cancelPendingCommit!==null)&&(mo(t,0),Kn(t,pe,It,!1)),zo(t,r),((Ee&2)===0||t!==Ue)&&(t===Ue&&((Ee&2)===0&&(Di|=r),Ve===4&&Kn(t,pe,It,!1)),Wt(t))}function yp(t,i,r){if((Ee&6)!==0)throw Error(s(327));var l=!r&&(i&127)===0&&(i&t.expiredLanes)===0||Bo(t,i),h=l?rT(t,i):Bu(t,i,!0),p=l;do{if(h===0){fo&&!l&&Kn(t,i,0,!1);break}else{if(r=t.current.alternate,p&&!oT(r)){h=Bu(t,i,!1),p=!1;continue}if(h===2){if(p=i,t.errorRecoveryDisabledLanes&p)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=Es;var A=S.current.memoizedState.isDehydrated;if(A&&(mo(S,_).flags|=256),_=Bu(S,_,!1),_!==2){if(ku&&!A){S.errorRecoveryDisabledLanes|=p,Di|=p,h=4;break e}p=gt,gt=h,p!==null&&(gt===null?gt=p:gt.push.apply(gt,p))}h=_}if(p=!1,h!==2)continue}}if(h===1){mo(t,0),Kn(t,i,0,!0);break}e:{switch(l=t,p=h,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Kn(l,i,It,!zn);break e;case 2:gt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Jr+300-vt(),10<h)){if(Kn(l,i,It,!zn),ir(l,0,!0)!==0)break e;_n=i,l.timeoutHandle=$p(vp.bind(null,l,r,gt,Kr,Hu,i,It,Di,ho,zn,p,"Throttled",-0,0),h);break e}vp(l,r,gt,Kr,Hu,i,It,Di,ho,zn,p,null,-0,0)}}break}while(!0);Wt(t)}function vp(t,i,r,l,h,p,_,S,A,w,P,O,b,U){if(t.timeoutHandle=-1,O=i.subtreeFlags,O&8192||(O&16785408)===16785408){O={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},cp(i,p,O);var $=(p&62914560)===p?Jr-vt():(p&4194048)===p?pp-vt():0;if($=BT(O,$),$!==null){_n=p,t.cancelPendingCommit=$(Ip.bind(null,t,i,p,r,l,h,_,S,A,P,O,null,b,U)),Kn(t,p,_,!w);return}}Ip(t,i,p,r,l,h,_,S,A)}function oT(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],p=h.getSnapshot;h=h.value;try{if(!Et(p(),h))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Kn(t,i,r,l){i&=~Pu,i&=~Di,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var p=31-Tt(h),_=1<<p;l[p]=-1,h&=~_}r!==0&&Nf(t,r,i)}function $r(){return(Ee&6)===0?(Cs(0),!1):!0}function qu(){if(fe!==null){if(Re===0)var t=fe.return;else t=fe,ln=Ei=null,iu(t),oo=null,ss=0,t=fe;for(;t!==null;)Xh(t.alternate,t),t=t.return;fe=null}}function mo(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,AT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),_n=0,qu(),Ue=t,fe=r=rn(t.current,null),pe=i,Re=0,Rt=null,zn=!1,fo=Bo(t,i),ku=!1,ho=It=Pu=Di=Fn=Ve=0,gt=Es=null,Hu=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Tt(l),p=1<<h;i|=t[h],l&=~p}return vn=i,mr(),r}function _p(t,i){le=null,L.H=hs,i===io||i===Cr?(i=kd(),Re=3):i===Jl?(i=kd(),Re=4):Re=i===_u?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rt=i,fe===null&&(Ve=1,Hr(t,bt(i,t.current)))}function Tp(){var t=Ct.current;return t===null?!0:(pe&4194048)===pe?kt===null:(pe&62914560)===pe||(pe&536870912)!==0?t===kt:!1}function Ep(){var t=L.H;return L.H=hs,t===null?hs:t}function Sp(){var t=L.A;return L.A=nT,t}function Xr(){Ve=4,zn||(pe&4194048)!==pe&&Ct.current!==null||(fo=!0),(Fn&134217727)===0&&(Di&134217727)===0||Ue===null||Kn(Ue,pe,It,!1)}function Bu(t,i,r){var l=Ee;Ee|=2;var h=Ep(),p=Sp();(Ue!==t||pe!==i)&&(Kr=null,mo(t,i)),i=!1;var _=Ve;e:do try{if(Re!==0&&fe!==null){var S=fe,A=Rt;switch(Re){case 8:qu(),_=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(i=!0);var w=Re;if(Re=0,Rt=null,go(t,S,A,w),r&&fo){_=0;break e}break;default:w=Re,Re=0,Rt=null,go(t,S,A,w)}}sT(),_=Ve;break}catch(P){_p(t,P)}while(!0);return i&&t.shellSuspendCounter++,ln=Ei=null,Ee=l,L.H=h,L.A=p,fe===null&&(Ue=null,pe=0,mr()),_}function sT(){for(;fe!==null;)Cp(fe)}function rT(t,i){var r=Ee;Ee|=2;var l=Ep(),h=Sp();Ue!==t||pe!==i?(Kr=null,Yr=vt()+500,mo(t,i)):fo=Bo(t,i);e:do try{if(Re!==0&&fe!==null){i=fe;var p=Rt;t:switch(Re){case 1:Re=0,Rt=null,go(t,i,p,1);break;case 2:case 9:if(xd(p)){Re=0,Rt=null,Ap(i);break}i=function(){Re!==2&&Re!==9||Ue!==t||(Re=7),Wt(t)},p.then(i,i);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:xd(p)?(Re=0,Rt=null,Ap(i)):(Re=0,Rt=null,go(t,i,p,7));break;case 5:var _=null;switch(fe.tag){case 26:_=fe.memoizedState;case 5:case 27:var S=fe;if(_?um(_):S.stateNode.complete){Re=0,Rt=null;var A=S.sibling;if(A!==null)fe=A;else{var w=S.return;w!==null?(fe=w,Qr(w)):fe=null}break t}}Re=0,Rt=null,go(t,i,p,5);break;case 6:Re=0,Rt=null,go(t,i,p,6);break;case 8:qu(),Ve=6;break e;default:throw Error(s(462))}}aT();break}catch(P){_p(t,P)}while(!0);return ln=Ei=null,L.H=l,L.A=h,Ee=r,fe!==null?0:(Ue=null,pe=0,mr(),Ve)}function aT(){for(;fe!==null&&!D0();)Cp(fe)}function Cp(t){var i=Kh(t.alternate,t,vn);t.memoizedProps=t.pendingProps,i===null?Qr(t):fe=i}function Ap(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=qh(r,i,i.pendingProps,i.type,void 0,pe);break;case 11:i=qh(r,i,i.pendingProps,i.type.render,i.ref,pe);break;case 5:iu(i);default:Xh(r,i),i=fe=Sd(i,vn),i=Kh(r,i,vn)}t.memoizedProps=t.pendingProps,i===null?Qr(t):fe=i}function go(t,i,r,l){ln=Ei=null,iu(i),oo=null,ss=0;var h=i.return;try{if(X_(t,h,i,r,pe)){Ve=1,Hr(t,bt(r,t.current)),fe=null;return}}catch(p){if(h!==null)throw fe=h,p;Ve=1,Hr(t,bt(r,t.current)),fe=null;return}i.flags&32768?(ye||l===1?t=!0:fo||(pe&536870912)!==0?t=!1:(zn=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ct.current,l!==null&&l.tag===13&&(l.flags|=16384))),Rp(i,t)):Qr(i)}function Qr(t){var i=t;do{if((i.flags&32768)!==0){Rp(i,zn);return}t=i.return;var r=W_(i.alternate,i,vn);if(r!==null){fe=r;return}if(i=i.sibling,i!==null){fe=i;return}fe=i=t}while(i!==null);Ve===0&&(Ve=5)}function Rp(t,i){do{var r=j_(t.alternate,t);if(r!==null){r.flags&=32767,fe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){fe=t;return}fe=t=r}while(t!==null);Ve=6,fe=null}function Ip(t,i,r,l,h,p,_,S,A){t.cancelPendingCommit=null;do Zr();while($e!==0);if((Ee&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=Dl,G0(t,r,p,_,S,A),t===Ue&&(fe=Ue=null,pe=0),po=i,Yn=t,_n=r,Ou=p,Vu=h,mp=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,fT(js,function(){return bp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,h=B.p,B.p=2,_=Ee,Ee|=4;try{eT(t,i,r)}finally{Ee=_,B.p=h,L.T=l}}$e=1,Mp(),Np(),wp()}}function Mp(){if($e===1){$e=0;var t=Yn,i=po,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=L.T,L.T=null;var l=B.p;B.p=2;var h=Ee;Ee|=4;try{ap(i,t);var p=ec,_=hd(t.containerInfo),S=p.focusedElem,A=p.selectionRange;if(_!==S&&S&&S.ownerDocument&&dd(S.ownerDocument.documentElement,S)){if(A!==null&&Rl(S)){var w=A.start,P=A.end;if(P===void 0&&(P=w),"selectionStart"in S)S.selectionStart=w,S.selectionEnd=Math.min(P,S.value.length);else{var O=S.ownerDocument||document,b=O&&O.defaultView||window;if(b.getSelection){var U=b.getSelection(),$=S.textContent.length,ne=Math.min(A.start,$),De=A.end===void 0?ne:Math.min(A.end,$);!U.extend&&ne>De&&(_=De,De=ne,ne=_);var M=fd(S,ne),R=fd(S,De);if(M&&R&&(U.rangeCount!==1||U.anchorNode!==M.node||U.anchorOffset!==M.offset||U.focusNode!==R.node||U.focusOffset!==R.offset)){var N=O.createRange();N.setStart(M.node,M.offset),U.removeAllRanges(),ne>De?(U.addRange(N),U.extend(R.node,R.offset)):(N.setEnd(R.node,R.offset),U.addRange(N))}}}}for(O=[],U=S;U=U.parentNode;)U.nodeType===1&&O.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<O.length;S++){var H=O[S];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}ua=!!ju,ec=ju=null}finally{Ee=h,B.p=l,L.T=r}}t.current=i,$e=2}}function Np(){if($e===2){$e=0;var t=Yn,i=po,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=L.T,L.T=null;var l=B.p;B.p=2;var h=Ee;Ee|=4;try{np(t,i.alternate,i)}finally{Ee=h,B.p=l,L.T=r}}$e=3}}function wp(){if($e===4||$e===3){$e=0,b0();var t=Yn,i=po,r=_n,l=mp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$e=5:($e=0,po=Yn=null,Dp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Jn=null),rl(r),i=i.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(qo,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=L.T,h=B.p,B.p=2,L.T=null;try{for(var p=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];p(S.value,{componentStack:S.stack})}}finally{L.T=i,B.p=h}}(_n&3)!==0&&Zr(),Wt(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Gu?Ss++:(Ss=0,Gu=t):Ss=0,Cs(0)}}function Dp(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,is(i)))}function Zr(){return Mp(),Np(),wp(),bp()}function bp(){if($e!==5)return!1;var t=Yn,i=Ou;Ou=0;var r=rl(_n),l=L.T,h=B.p;try{B.p=32>r?32:r,L.T=null,r=Vu,Vu=null;var p=Yn,_=_n;if($e=0,po=Yn=null,_n=0,(Ee&6)!==0)throw Error(s(331));var S=Ee;if(Ee|=4,dp(p.current),up(p,p.current,_,r),Ee=S,Cs(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(qo,p)}catch{}return!0}finally{B.p=h,L.T=l,Dp(t,i)}}function Up(t,i,r){i=bt(r,i),i=vu(t.stateNode,i,2),t=Vn(t,i,2),t!==null&&(zo(t,2),Wt(t))}function Ie(t,i,r){if(t.tag===3)Up(t,t,r);else for(;i!==null;){if(i.tag===3){Up(i,t,r);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Jn===null||!Jn.has(l))){t=bt(r,t),r=xh(2),l=Vn(i,r,2),l!==null&&(Lh(r,l,i,t),zo(l,2),Wt(l));break}}i=i.return}}function zu(t,i,r){var l=t.pingCache;if(l===null){l=t.pingCache=new iT;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(r)||(ku=!0,h.add(r),t=lT.bind(null,t,i,r),i.then(t,t))}function lT(t,i,r){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Ue===t&&(pe&r)===r&&(Ve===4||Ve===3&&(pe&62914560)===pe&&300>vt()-Jr?(Ee&2)===0&&mo(t,0):Pu|=r,ho===pe&&(ho=0)),Wt(t)}function xp(t,i){i===0&&(i=Mf()),t=vi(t,i),t!==null&&(zo(t,i),Wt(t))}function uT(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),xp(t,r)}function cT(t,i){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),xp(t,r)}function fT(t,i){return nl(t,i)}var Wr=null,yo=null,Fu=!1,jr=!1,Ju=!1,$n=0;function Wt(t){t!==yo&&t.next===null&&(yo===null?Wr=yo=t:yo=yo.next=t),jr=!0,Fu||(Fu=!0,hT())}function Cs(t,i){if(!Ju&&jr){Ju=!0;do for(var r=!1,l=Wr;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var p=0;else{var _=l.suspendedLanes,S=l.pingedLanes;p=(1<<31-Tt(42|t)+1)-1,p&=h&~(_&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(r=!0,Hp(l,p))}else p=pe,p=ir(l,l===Ue?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Bo(l,p)||(r=!0,Hp(l,p));l=l.next}while(r);Ju=!1}}function dT(){Lp()}function Lp(){jr=Fu=!1;var t=0;$n!==0&&CT()&&(t=$n);for(var i=vt(),r=null,l=Wr;l!==null;){var h=l.next,p=kp(l,i);p===0?(l.next=null,r===null?Wr=h:r.next=h,h===null&&(yo=r)):(r=l,(t!==0||(p&3)!==0)&&(jr=!0)),l=h}$e!==0&&$e!==5||Cs(t),$n!==0&&($n=0)}function kp(t,i){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var _=31-Tt(p),S=1<<_,A=h[_];A===-1?((S&r)===0||(S&l)!==0)&&(h[_]=V0(S,i)):A<=i&&(t.expiredLanes|=S),p&=~S}if(i=Ue,r=pe,r=ir(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===i&&(Re===2||Re===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&il(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bo(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(l!==null&&il(l),rl(r)){case 2:case 8:r=Rf;break;case 32:r=js;break;case 268435456:r=If;break;default:r=js}return l=Pp.bind(null,t),r=nl(r,l),t.callbackPriority=i,t.callbackNode=r,i}return l!==null&&l!==null&&il(l),t.callbackPriority=2,t.callbackNode=null,2}function Pp(t,i){if($e!==0&&$e!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Zr()&&t.callbackNode!==r)return null;var l=pe;return l=ir(t,t===Ue?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(yp(t,l,i),kp(t,vt()),t.callbackNode!=null&&t.callbackNode===r?Pp.bind(null,t):null)}function Hp(t,i){if(Zr())return null;yp(t,i,!0)}function hT(){RT(function(){(Ee&6)!==0?nl(Af,dT):Lp()})}function Yu(){if($n===0){var t=to;t===0&&(t=er,er<<=1,(er&261888)===0&&(er=256)),$n=t}return $n}function Op(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ar(""+t)}function Vp(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function pT(t,i,r,l,h){if(i==="submit"&&r&&r.stateNode===h){var p=Op((h[ft]||null).action),_=l.submitter;_&&(i=(i=_[ft]||null)?Op(i.formAction):_.getAttribute("formAction"),i!==null&&(p=i,_=null));var S=new fr("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($n!==0){var A=_?Vp(h,_):new FormData(h);du(r,{pending:!0,data:A,method:h.method,action:p},null,A)}}else typeof p=="function"&&(S.preventDefault(),A=_?Vp(h,_):new FormData(h),du(r,{pending:!0,data:A,method:h.method,action:p},p,A))},currentTarget:h}]})}}for(var Ku=0;Ku<wl.length;Ku++){var $u=wl[Ku],mT=$u.toLowerCase(),gT=$u[0].toUpperCase()+$u.slice(1);Gt(mT,"on"+gT)}Gt(gd,"onAnimationEnd"),Gt(yd,"onAnimationIteration"),Gt(vd,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(U_,"onTransitionRun"),Gt(x_,"onTransitionStart"),Gt(L_,"onTransitionCancel"),Gt(_d,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(As));function Gp(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var p=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],A=S.instance,w=S.currentTarget;if(S=S.listener,A!==p&&h.isPropagationStopped())break e;p=S,h.currentTarget=w;try{p(h)}catch(P){pr(P)}h.currentTarget=null,p=A}else for(_=0;_<l.length;_++){if(S=l[_],A=S.instance,w=S.currentTarget,S=S.listener,A!==p&&h.isPropagationStopped())break e;p=S,h.currentTarget=w;try{p(h)}catch(P){pr(P)}h.currentTarget=null,p=A}}}}function de(t,i){var r=i[al];r===void 0&&(r=i[al]=new Set);var l=t+"__bubble";r.has(l)||(qp(i,t,2,!1),r.add(l))}function Xu(t,i,r){var l=0;i&&(l|=4),qp(r,t,l,i)}var ea="_reactListening"+Math.random().toString(36).slice(2);function Qu(t){if(!t[ea]){t[ea]=!0,Lf.forEach(function(r){r!=="selectionchange"&&(yT.has(r)||Xu(r,!1,t),Xu(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ea]||(i[ea]=!0,Xu("selectionchange",!1,i))}}function qp(t,i,r,l){switch(gm(i)){case 2:var h=JT;break;case 8:h=YT;break;default:h=fc}r=h.bind(null,i,r,t),h=void 0,!gl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,r,{capture:!0,passive:h}):t.addEventListener(i,r,!0):h!==void 0?t.addEventListener(i,r,{passive:h}):t.addEventListener(i,r,!1)}function Zu(t,i,r,l,h){var p=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var A=_.tag;if((A===3||A===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=Oi(S),_===null)return;if(A=_.tag,A===5||A===6||A===26||A===27){l=p=_;continue e}S=S.parentNode}}l=l.return}Yf(function(){var w=p,P=pl(r),O=[];e:{var b=Td.get(t);if(b!==void 0){var U=fr,$=t;switch(t){case"keypress":if(ur(r)===0)break e;case"keydown":case"keyup":U=c_;break;case"focusin":$="focus",U=Tl;break;case"focusout":$="blur",U=Tl;break;case"beforeblur":case"afterblur":U=Tl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=W0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=h_;break;case gd:case yd:case vd:U=t_;break;case _d:U=m_;break;case"scroll":case"scrollend":U=Q0;break;case"wheel":U=y_;break;case"copy":case"cut":case"paste":U=i_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Zf;break;case"toggle":case"beforetoggle":U=__}var ne=(i&4)!==0,De=!ne&&(t==="scroll"||t==="scrollend"),M=ne?b!==null?b+"Capture":null:b;ne=[];for(var R=w,N;R!==null;){var H=R;if(N=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||N===null||M===null||(H=Yo(R,M),H!=null&&ne.push(Rs(R,H,N))),De)break;R=R.return}0<ne.length&&(b=new U(b,$,null,r,P),O.push({event:b,listeners:ne}))}}if((i&7)===0){e:{if(b=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",b&&r!==hl&&($=r.relatedTarget||r.fromElement)&&(Oi($)||$[Hi]))break e;if((U||b)&&(b=P.window===P?P:(b=P.ownerDocument)?b.defaultView||b.parentWindow:window,U?($=r.relatedTarget||r.toElement,U=w,$=$?Oi($):null,$!==null&&(De=c($),ne=$.tag,$!==De||ne!==5&&ne!==27&&ne!==6)&&($=null)):(U=null,$=w),U!==$)){if(ne=Xf,H="onMouseLeave",M="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(ne=Zf,H="onPointerLeave",M="onPointerEnter",R="pointer"),De=U==null?b:Jo(U),N=$==null?b:Jo($),b=new ne(H,R+"leave",U,r,P),b.target=De,b.relatedTarget=N,H=null,Oi(P)===w&&(ne=new ne(M,R+"enter",$,r,P),ne.target=N,ne.relatedTarget=De,H=ne),De=H,U&&$)t:{for(ne=vT,M=U,R=$,N=0,H=M;H;H=ne(H))N++;H=0;for(var W=R;W;W=ne(W))H++;for(;0<N-H;)M=ne(M),N--;for(;0<H-N;)R=ne(R),H--;for(;N--;){if(M===R||R!==null&&M===R.alternate){ne=M;break t}M=ne(M),R=ne(R)}ne=null}else ne=null;U!==null&&Bp(O,b,U,ne,!1),$!==null&&De!==null&&Bp(O,De,$,ne,!0)}}e:{if(b=w?Jo(w):window,U=b.nodeName&&b.nodeName.toLowerCase(),U==="select"||U==="input"&&b.type==="file")var ve=sd;else if(id(b))if(rd)ve=w_;else{ve=M_;var Q=I_}else U=b.nodeName,!U||U.toLowerCase()!=="input"||b.type!=="checkbox"&&b.type!=="radio"?w&&dl(w.elementType)&&(ve=sd):ve=N_;if(ve&&(ve=ve(t,w))){od(O,ve,r,P);break e}Q&&Q(t,b,w),t==="focusout"&&w&&b.type==="number"&&w.memoizedProps.value!=null&&fl(b,"number",b.value)}switch(Q=w?Jo(w):window,t){case"focusin":(id(Q)||Q.contentEditable==="true")&&(Ki=Q,Il=w,es=null);break;case"focusout":es=Il=Ki=null;break;case"mousedown":Ml=!0;break;case"contextmenu":case"mouseup":case"dragend":Ml=!1,pd(O,r,P);break;case"selectionchange":if(b_)break;case"keydown":case"keyup":pd(O,r,P)}var ue;if(Sl)e:{switch(t){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Yi?td(t,r)&&(me="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(me="onCompositionStart");me&&(Wf&&r.locale!=="ko"&&(Yi||me!=="onCompositionStart"?me==="onCompositionEnd"&&Yi&&(ue=Kf()):(Un=P,yl="value"in Un?Un.value:Un.textContent,Yi=!0)),Q=ta(w,me),0<Q.length&&(me=new Qf(me,t,null,r,P),O.push({event:me,listeners:Q}),ue?me.data=ue:(ue=nd(r),ue!==null&&(me.data=ue)))),(ue=E_?S_(t,r):C_(t,r))&&(me=ta(w,"onBeforeInput"),0<me.length&&(Q=new Qf("onBeforeInput","beforeinput",null,r,P),O.push({event:Q,listeners:me}),Q.data=ue)),pT(O,t,w,r,P)}Gp(O,i)})}function Rs(t,i,r){return{instance:t,listener:i,currentTarget:r}}function ta(t,i){for(var r=i+"Capture",l=[];t!==null;){var h=t,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Yo(t,r),h!=null&&l.unshift(Rs(t,h,p)),h=Yo(t,i),h!=null&&l.push(Rs(t,h,p))),t.tag===3)return l;t=t.return}return[]}function vT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Bp(t,i,r,l,h){for(var p=i._reactName,_=[];r!==null&&r!==l;){var S=r,A=S.alternate,w=S.stateNode;if(S=S.tag,A!==null&&A===l)break;S!==5&&S!==26&&S!==27||w===null||(A=w,h?(w=Yo(r,p),w!=null&&_.unshift(Rs(r,w,A))):h||(w=Yo(r,p),w!=null&&_.push(Rs(r,w,A)))),r=r.return}_.length!==0&&t.push({event:i,listeners:_})}var _T=/\r\n?/g,TT=/\u0000|\uFFFD/g;function zp(t){return(typeof t=="string"?t:""+t).replace(_T,`
`).replace(TT,"")}function Fp(t,i){return i=zp(i),zp(t)===i}function we(t,i,r,l,h,p){switch(r){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||zi(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&zi(t,""+l);break;case"className":sr(t,"class",l);break;case"tabIndex":sr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(t,r,l);break;case"style":Ff(t,l,p);break;case"data":if(i!=="object"){sr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ar(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(r==="formAction"?(i!=="input"&&we(t,i,"name",h.name,h,null),we(t,i,"formEncType",h.formEncType,h,null),we(t,i,"formMethod",h.formMethod,h,null),we(t,i,"formTarget",h.formTarget,h,null)):(we(t,i,"encType",h.encType,h,null),we(t,i,"method",h.method,h,null),we(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ar(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=on);break;case"onScroll":l!=null&&de("scroll",t);break;case"onScrollEnd":l!=null&&de("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ar(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":de("beforetoggle",t),de("toggle",t),or(t,"popover",l);break;case"xlinkActuate":nn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":nn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":nn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":nn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":nn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":nn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":nn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":nn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":nn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":or(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=$0.get(r)||r,or(t,r,l))}}function Wu(t,i,r,l,h,p){switch(r){case"style":Ff(t,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?zi(t,l):(typeof l=="number"||typeof l=="bigint")&&zi(t,""+l);break;case"onScroll":l!=null&&de("scroll",t);break;case"onScrollEnd":l!=null&&de("scrollend",t);break;case"onClick":l!=null&&(t.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),i=r.slice(2,h?r.length-7:void 0),p=t[ft]||null,p=p!=null?p[r]:null,typeof p=="function"&&t.removeEventListener(i,p,h),typeof l=="function")){typeof p!="function"&&p!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):or(t,r,l)}}}function nt(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",t),de("load",t);var l=!1,h=!1,p;for(p in r)if(r.hasOwnProperty(p)){var _=r[p];if(_!=null)switch(p){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:we(t,i,p,_,r,null)}}h&&we(t,i,"srcSet",r.srcSet,r,null),l&&we(t,i,"src",r.src,r,null);return;case"input":de("invalid",t);var S=p=_=h=null,A=null,w=null;for(l in r)if(r.hasOwnProperty(l)){var P=r[l];if(P!=null)switch(l){case"name":h=P;break;case"type":_=P;break;case"checked":A=P;break;case"defaultChecked":w=P;break;case"value":p=P;break;case"defaultValue":S=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,i));break;default:we(t,i,l,P,r,null)}}Gf(t,p,S,A,w,_,h,!1);return;case"select":de("invalid",t),l=_=p=null;for(h in r)if(r.hasOwnProperty(h)&&(S=r[h],S!=null))switch(h){case"value":p=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:we(t,i,h,S,r,null)}i=p,r=_,t.multiple=!!l,i!=null?Bi(t,!!l,i,!1):r!=null&&Bi(t,!!l,r,!0);return;case"textarea":de("invalid",t),p=h=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(S=r[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:we(t,i,_,S,r,null)}Bf(t,l,h,p);return;case"option":for(A in r)if(r.hasOwnProperty(A)&&(l=r[A],l!=null))switch(A){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:we(t,i,A,l,r,null)}return;case"dialog":de("beforetoggle",t),de("toggle",t),de("cancel",t),de("close",t);break;case"iframe":case"object":de("load",t);break;case"video":case"audio":for(l=0;l<As.length;l++)de(As[l],t);break;case"image":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"embed":case"source":case"link":de("error",t),de("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:we(t,i,w,l,r,null)}return;default:if(dl(i)){for(P in r)r.hasOwnProperty(P)&&(l=r[P],l!==void 0&&Wu(t,i,P,l,r,void 0));return}}for(S in r)r.hasOwnProperty(S)&&(l=r[S],l!=null&&we(t,i,S,l,r,null))}function ET(t,i,r,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,_=null,S=null,A=null,w=null,P=null;for(U in r){var O=r[U];if(r.hasOwnProperty(U)&&O!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":A=O;default:l.hasOwnProperty(U)||we(t,i,U,null,l,O)}}for(var b in l){var U=l[b];if(O=r[b],l.hasOwnProperty(b)&&(U!=null||O!=null))switch(b){case"type":p=U;break;case"name":h=U;break;case"checked":w=U;break;case"defaultChecked":P=U;break;case"value":_=U;break;case"defaultValue":S=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,i));break;default:U!==O&&we(t,i,b,U,l,O)}}cl(t,_,S,A,w,P,p,h);return;case"select":U=_=S=b=null;for(p in r)if(A=r[p],r.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":U=A;default:l.hasOwnProperty(p)||we(t,i,p,null,l,A)}for(h in l)if(p=l[h],A=r[h],l.hasOwnProperty(h)&&(p!=null||A!=null))switch(h){case"value":b=p;break;case"defaultValue":S=p;break;case"multiple":_=p;default:p!==A&&we(t,i,h,p,l,A)}i=S,r=_,l=U,b!=null?Bi(t,!!r,b,!1):!!l!=!!r&&(i!=null?Bi(t,!!r,i,!0):Bi(t,!!r,r?[]:"",!1));return;case"textarea":U=b=null;for(S in r)if(h=r[S],r.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:we(t,i,S,null,l,h)}for(_ in l)if(h=l[_],p=r[_],l.hasOwnProperty(_)&&(h!=null||p!=null))switch(_){case"value":b=h;break;case"defaultValue":U=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==p&&we(t,i,_,h,l,p)}qf(t,b,U);return;case"option":for(var $ in r)if(b=r[$],r.hasOwnProperty($)&&b!=null&&!l.hasOwnProperty($))switch($){case"selected":t.selected=!1;break;default:we(t,i,$,null,l,b)}for(A in l)if(b=l[A],U=r[A],l.hasOwnProperty(A)&&b!==U&&(b!=null||U!=null))switch(A){case"selected":t.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:we(t,i,A,b,l,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in r)b=r[ne],r.hasOwnProperty(ne)&&b!=null&&!l.hasOwnProperty(ne)&&we(t,i,ne,null,l,b);for(w in l)if(b=l[w],U=r[w],l.hasOwnProperty(w)&&b!==U&&(b!=null||U!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(137,i));break;default:we(t,i,w,b,l,U)}return;default:if(dl(i)){for(var De in r)b=r[De],r.hasOwnProperty(De)&&b!==void 0&&!l.hasOwnProperty(De)&&Wu(t,i,De,void 0,l,b);for(P in l)b=l[P],U=r[P],!l.hasOwnProperty(P)||b===U||b===void 0&&U===void 0||Wu(t,i,P,b,l,U);return}}for(var M in r)b=r[M],r.hasOwnProperty(M)&&b!=null&&!l.hasOwnProperty(M)&&we(t,i,M,null,l,b);for(O in l)b=l[O],U=r[O],!l.hasOwnProperty(O)||b===U||b==null&&U==null||we(t,i,O,b,l,U)}function Jp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ST(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],p=h.transferSize,_=h.initiatorType,S=h.duration;if(p&&S&&Jp(_)){for(_=0,S=h.responseEnd,l+=1;l<r.length;l++){var A=r[l],w=A.startTime;if(w>S)break;var P=A.transferSize,O=A.initiatorType;P&&Jp(O)&&(A=A.responseEnd,_+=P*(A<S?1:(S-w)/(A-w)))}if(--l,i+=8*(p+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ju=null,ec=null;function na(t){return t.nodeType===9?t:t.ownerDocument}function Yp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kp(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function tc(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nc=null;function CT(){var t=window.event;return t&&t.type==="popstate"?t===nc?!1:(nc=t,!0):(nc=null,!1)}var $p=typeof setTimeout=="function"?setTimeout:void 0,AT=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(t){return Xp.resolve(null).then(t).catch(IT)}:$p;function IT(t){setTimeout(function(){throw t})}function Xn(t){return t==="head"}function Qp(t,i){var r=i,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Eo(i);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Is(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Is(r);for(var p=r.firstChild;p;){var _=p.nextSibling,S=p.nodeName;p[Fo]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||r.removeChild(p),p=_}}else r==="body"&&Is(t.ownerDocument.body);r=h}while(r);Eo(i)}function Zp(t,i){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function ic(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ic(r),ll(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function MT(t,i,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Fo])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Pt(t.nextSibling),t===null)break}return null}function NT(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Pt(t.nextSibling),t===null))return null;return t}function Wp(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pt(t.nextSibling),t===null))return null;return t}function oc(t){return t.data==="$?"||t.data==="$~"}function sc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wT(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var l=function(){i(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var rc=null;function jp(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return Pt(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function em(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function tm(t,i,r){switch(i=na(r),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Is(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ll(t)}var Ht=new Map,nm=new Set;function ia(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Tn=B.d;B.d={f:DT,r:bT,D:UT,C:xT,L:LT,m:kT,X:HT,S:PT,M:OT};function DT(){var t=Tn.f(),i=$r();return t||i}function bT(t){var i=Vi(t);i!==null&&i.tag===5&&i.type==="form"?_h(i):Tn.r(t)}var vo=typeof document>"u"?null:document;function im(t,i,r){var l=vo;if(l&&typeof i=="string"&&i){var h=wt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),nm.has(h)||(nm.add(h),t={rel:t,crossOrigin:r,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),nt(i,"link",t),Xe(i),l.head.appendChild(i)))}}function UT(t){Tn.D(t),im("dns-prefetch",t,null)}function xT(t,i){Tn.C(t,i),im("preconnect",t,i)}function LT(t,i,r){Tn.L(t,i,r);var l=vo;if(l&&t&&i){var h='link[rel="preload"][as="'+wt(i)+'"]';i==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+wt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+wt(r.imageSizes)+'"]')):h+='[href="'+wt(t)+'"]';var p=h;switch(i){case"style":p=_o(t);break;case"script":p=To(t)}Ht.has(p)||(t=E({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Ht.set(p,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ms(p))||i==="script"&&l.querySelector(Ns(p))||(i=l.createElement("link"),nt(i,"link",t),Xe(i),l.head.appendChild(i)))}}function kT(t,i){Tn.m(t,i);var r=vo;if(r&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+wt(l)+'"][href="'+wt(t)+'"]',p=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=To(t)}if(!Ht.has(p)&&(t=E({rel:"modulepreload",href:t},i),Ht.set(p,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ns(p)))return}l=r.createElement("link"),nt(l,"link",t),Xe(l),r.head.appendChild(l)}}}function PT(t,i,r){Tn.S(t,i,r);var l=vo;if(l&&t){var h=Gi(l).hoistableStyles,p=_o(t);i=i||"default";var _=h.get(p);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Ms(p)))S.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Ht.get(p))&&ac(t,r);var A=_=l.createElement("link");Xe(A),nt(A,"link",t),A._p=new Promise(function(w,P){A.onload=w,A.onerror=P}),A.addEventListener("load",function(){S.loading|=1}),A.addEventListener("error",function(){S.loading|=2}),S.loading|=4,oa(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(p,_)}}}function HT(t,i){Tn.X(t,i);var r=vo;if(r&&t){var l=Gi(r).hoistableScripts,h=To(t),p=l.get(h);p||(p=r.querySelector(Ns(h)),p||(t=E({src:t,async:!0},i),(i=Ht.get(h))&&lc(t,i),p=r.createElement("script"),Xe(p),nt(p,"link",t),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function OT(t,i){Tn.M(t,i);var r=vo;if(r&&t){var l=Gi(r).hoistableScripts,h=To(t),p=l.get(h);p||(p=r.querySelector(Ns(h)),p||(t=E({src:t,async:!0,type:"module"},i),(i=Ht.get(h))&&lc(t,i),p=r.createElement("script"),Xe(p),nt(p,"link",t),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function om(t,i,r,l){var h=(h=ce.current)?ia(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=_o(r.href),r=Gi(h).hoistableStyles,l=r.get(i),l||(l={type:"style",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=_o(r.href);var p=Gi(h).hoistableStyles,_=p.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,_),(p=h.querySelector(Ms(t)))&&!p._p&&(_.instance=p,_.state.loading=5),Ht.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Ht.set(t,r),p||VT(h,t,r,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=To(r),r=Gi(h).hoistableScripts,l=r.get(i),l||(l={type:"script",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function _o(t){return'href="'+wt(t)+'"'}function Ms(t){return'link[rel="stylesheet"]['+t+"]"}function sm(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function VT(t,i,r,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),nt(i,"link",r),Xe(i),t.head.appendChild(i))}function To(t){return'[src="'+wt(t)+'"]'}function Ns(t){return"script[async]"+t}function rm(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+wt(r.href)+'"]');if(l)return i.instance=l,Xe(l),l;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Xe(l),nt(l,"style",h),oa(l,r.precedence,t),i.instance=l;case"stylesheet":h=_o(r.href);var p=t.querySelector(Ms(h));if(p)return i.state.loading|=4,i.instance=p,Xe(p),p;l=sm(r),(h=Ht.get(h))&&ac(l,h),p=(t.ownerDocument||t).createElement("link"),Xe(p);var _=p;return _._p=new Promise(function(S,A){_.onload=S,_.onerror=A}),nt(p,"link",l),i.state.loading|=4,oa(p,r.precedence,t),i.instance=p;case"script":return p=To(r.src),(h=t.querySelector(Ns(p)))?(i.instance=h,Xe(h),h):(l=r,(h=Ht.get(p))&&(l=E({},r),lc(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Xe(h),nt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,oa(l,r.precedence,t));return i.instance}function oa(t,i,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,p=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)p=S;else if(p!==h)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function ac(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function lc(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var sa=null;function am(t,i,r){if(sa===null){var l=new Map,h=sa=new Map;h.set(r,l)}else h=sa,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var p=r[h];if(!(p[Fo]||p[We]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(p):l.set(_,[p])}}return l}function lm(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function GT(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function um(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function qT(t,i,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=_o(l.href),p=i.querySelector(Ms(h));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=ra.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=p,Xe(p);return}p=i.ownerDocument||i,l=sm(l),(h=Ht.get(h))&&ac(l,h),p=p.createElement("link"),Xe(p);var _=p;_._p=new Promise(function(S,A){_.onload=S,_.onerror=A}),nt(p,"link",l),r.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=ra.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var uc=0;function BT(t,i){return t.stylesheets&&t.count===0&&la(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&la(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+i);0<t.imgBytes&&uc===0&&(uc=62500*ST());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&la(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>uc?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function ra(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)la(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var aa=null;function la(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,aa=new Map,i.forEach(zT,t),aa=null,ra.call(t))}function zT(t,i){if(!(i.state.loading&4)){var r=aa.get(t);if(r)var l=r.get(null);else{r=new Map,aa.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var _=h[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),p=r.get(_)||l,p===l&&r.set(null,h),r.set(_,h),this.count++,l=ra.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),p?p.parentNode.insertBefore(h,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ws={$$typeof:q,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function FT(t,i,r,l,h,p,_,S,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ol(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.hiddenUpdates=ol(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function cm(t,i,r,l,h,p,_,S,A,w,P,O){return t=new FT(t,i,r,_,A,w,P,O,S),i=1,p===!0&&(i|=24),p=St(3,null,null,i),t.current=p,p.stateNode=t,i=Bl(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:l,isDehydrated:r,cache:i},Yl(p),t}function fm(t){return t?(t=Qi,t):Qi}function dm(t,i,r,l,h,p){h=fm(h),l.context===null?l.context=h:l.pendingContext=h,l=On(i),l.payload={element:r},p=p===void 0?null:p,p!==null&&(l.callback=p),r=Vn(t,l,i),r!==null&&(yt(r,t,i),as(r,t,i))}function hm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function cc(t,i){hm(t,i),(t=t.alternate)&&hm(t,i)}function pm(t){if(t.tag===13||t.tag===31){var i=vi(t,67108864);i!==null&&yt(i,t,67108864),cc(t,67108864)}}function mm(t){if(t.tag===13||t.tag===31){var i=Mt();i=sl(i);var r=vi(t,i);r!==null&&yt(r,t,i),cc(t,i)}}var ua=!0;function JT(t,i,r,l){var h=L.T;L.T=null;var p=B.p;try{B.p=2,fc(t,i,r,l)}finally{B.p=p,L.T=h}}function YT(t,i,r,l){var h=L.T;L.T=null;var p=B.p;try{B.p=8,fc(t,i,r,l)}finally{B.p=p,L.T=h}}function fc(t,i,r,l){if(ua){var h=dc(l);if(h===null)Zu(t,i,l,ca,r),ym(t,l);else if($T(h,t,i,r,l))l.stopPropagation();else if(ym(t,l),i&4&&-1<KT.indexOf(t)){for(;h!==null;){var p=Vi(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=hi(p.pendingLanes);if(_!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var A=1<<31-Tt(_);S.entanglements[1]|=A,_&=~A}Wt(p),(Ee&6)===0&&(Yr=vt()+500,Cs(0))}}break;case 31:case 13:S=vi(p,2),S!==null&&yt(S,p,2),$r(),cc(p,2)}if(p=dc(l),p===null&&Zu(t,i,l,ca,r),p===h)break;h=p}h!==null&&l.stopPropagation()}else Zu(t,i,l,null,r)}}function dc(t){return t=pl(t),hc(t)}var ca=null;function hc(t){if(ca=null,t=Oi(t),t!==null){var i=c(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=d(i),t!==null)return t;t=null}else if(r===31){if(t=m(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ca=t,null}function gm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(U0()){case Af:return 2;case Rf:return 8;case js:case x0:return 32;case If:return 268435456;default:return 32}default:return 32}}var pc=!1,Qn=null,Zn=null,Wn=null,Ds=new Map,bs=new Map,jn=[],KT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(t,i){switch(t){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Ds.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(i.pointerId)}}function Us(t,i,r,l,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:r,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},i!==null&&(i=Vi(i),i!==null&&pm(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function $T(t,i,r,l,h){switch(i){case"focusin":return Qn=Us(Qn,t,i,r,l,h),!0;case"dragenter":return Zn=Us(Zn,t,i,r,l,h),!0;case"mouseover":return Wn=Us(Wn,t,i,r,l,h),!0;case"pointerover":var p=h.pointerId;return Ds.set(p,Us(Ds.get(p)||null,t,i,r,l,h)),!0;case"gotpointercapture":return p=h.pointerId,bs.set(p,Us(bs.get(p)||null,t,i,r,l,h)),!0}return!1}function vm(t){var i=Oi(t.target);if(i!==null){var r=c(i);if(r!==null){if(i=r.tag,i===13){if(i=d(r),i!==null){t.blockedOn=i,Uf(t.priority,function(){mm(r)});return}}else if(i===31){if(i=m(r),i!==null){t.blockedOn=i,Uf(t.priority,function(){mm(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fa(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=dc(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);hl=l,r.target.dispatchEvent(l),hl=null}else return i=Vi(r),i!==null&&pm(i),t.blockedOn=r,!1;i.shift()}return!0}function _m(t,i,r){fa(t)&&r.delete(i)}function XT(){pc=!1,Qn!==null&&fa(Qn)&&(Qn=null),Zn!==null&&fa(Zn)&&(Zn=null),Wn!==null&&fa(Wn)&&(Wn=null),Ds.forEach(_m),bs.forEach(_m)}function da(t,i){t.blockedOn===i&&(t.blockedOn=null,pc||(pc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,XT)))}var ha=null;function Tm(t){ha!==t&&(ha=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ha===t&&(ha=null);for(var i=0;i<t.length;i+=3){var r=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(hc(l||r)===null)continue;break}var p=Vi(r);p!==null&&(t.splice(i,3),i-=3,du(p,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Eo(t){function i(A){return da(A,t)}Qn!==null&&da(Qn,t),Zn!==null&&da(Zn,t),Wn!==null&&da(Wn,t),Ds.forEach(i),bs.forEach(i);for(var r=0;r<jn.length;r++){var l=jn[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<jn.length&&(r=jn[0],r.blockedOn===null);)vm(r),r.blockedOn===null&&jn.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],p=r[l+1],_=h[ft]||null;if(typeof p=="function")_||Tm(r);else if(_){var S=null;if(p&&p.hasAttribute("formAction")){if(h=p,_=p[ft]||null)S=_.formAction;else if(hc(h)!==null)continue}else S=_.action;typeof S=="function"?r[l+1]=S:(r.splice(l,3),l-=3),Tm(r)}}}function Em(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function mc(t){this._internalRoot=t}pa.prototype.render=mc.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var r=i.current,l=Mt();dm(r,l,t,i,null,null)},pa.prototype.unmount=mc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;dm(t.current,2,null,t,null,null),$r(),i[Hi]=null}};function pa(t){this._internalRoot=t}pa.prototype.unstable_scheduleHydration=function(t){if(t){var i=bf();t={blockedOn:null,target:t,priority:i};for(var r=0;r<jn.length&&i!==0&&i<jn[r].priority;r++);jn.splice(r,0,t),r===0&&vm(t)}};var Sm=e.version;if(Sm!=="19.2.3")throw Error(s(527,Sm,"19.2.3"));B.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var QT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ma.isDisabled&&ma.supportsFiber)try{qo=ma.inject(QT),_t=ma}catch{}}return Ls.createRoot=function(t,i){if(!a(t))throw Error(s(299));var r=!1,l="",h=wh,p=Dh,_=bh;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=cm(t,1,!1,null,null,r,l,null,h,p,_,Em),t[Hi]=i.current,Qu(t),new mc(i)},Ls.hydrateRoot=function(t,i,r){if(!a(t))throw Error(s(299));var l=!1,h="",p=wh,_=Dh,S=bh,A=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.formState!==void 0&&(A=r.formState)),i=cm(t,1,!0,i,r??null,l,h,A,p,_,S,Em),i.context=fm(null),r=i.current,l=Mt(),l=sl(l),h=On(l),h.callback=null,Vn(r,h,l),r=l,i.current.lanes=r,zo(i,r),Wt(i),t[Hi]=i.current,Qu(t),new pa(i)},Ls.version="19.2.3",Ls}var Um;function rE(){if(Um)return vc.exports;Um=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vc.exports=sE(),vc.exports}var aE=rE();const A2=zy(aE),lE=()=>{};var xm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=function(n){const e=[];let o=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[o++]=a:a<2048?(e[o++]=a>>6|192,e[o++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[o++]=a>>18|240,e[o++]=a>>12&63|128,e[o++]=a>>6&63|128,e[o++]=a&63|128):(e[o++]=a>>12|224,e[o++]=a>>6&63|128,e[o++]=a&63|128)}return e},uE=function(n){const e=[];let o=0,s=0;for(;o<n.length;){const a=n[o++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=n[o++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=n[o++],d=n[o++],m=n[o++],y=((a&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=n[o++],d=n[o++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Jy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const o=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const c=n[a],d=a+1<n.length,m=d?n[a+1]:0,y=a+2<n.length,g=y?n[a+2]:0,v=c>>2,E=(c&3)<<4|m>>4;let T=(m&15)<<2|g>>6,C=g&63;y||(C=64,d||(T=64)),s.push(o[v],o[E],o[T],o[C])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Fy(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uE(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const o=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const c=o[n.charAt(a++)],m=a<n.length?o[n.charAt(a)]:0;++a;const g=a<n.length?o[n.charAt(a)]:64;++a;const E=a<n.length?o[n.charAt(a)]:64;if(++a,c==null||m==null||g==null||E==null)throw new cE;const T=c<<2|m>>4;if(s.push(T),g!==64){const C=m<<4&240|g>>2;if(s.push(C),E!==64){const D=g<<6&192|E;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fE=function(n){const e=Fy(n);return Jy.encodeByteArray(e,!0)},Yy=function(n){return fE(n).replace(/\./g,"")},Ky=function(n){try{return Jy.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=()=>dE().__FIREBASE_DEFAULTS__,pE=()=>{if(typeof process>"u"||typeof xm>"u")return;const n=xm.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mE=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ky(n[1]);return e&&JSON.parse(e)},tf=()=>{try{return lE()||hE()||pE()||mE()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gE=n=>{var e,o;return(o=(e=tf())==null?void 0:e.emulatorHosts)==null?void 0:o[n]},$y=()=>{var n;return(n=tf())==null?void 0:n.config},Xy=n=>{var e;return(e=tf())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,o)=>{this.resolve=e,this.reject=o})}wrapCallback(e){return(o,s)=>{o?this.reject(o):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(o):e(o,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vE(n){return(await fetch(n,{credentials:"include"})).ok}const Gs={};function _E(){const n={prod:[],emulator:[]};for(const e of Object.keys(Gs))Gs[e]?n.emulator.push(e):n.prod.push(e);return n}function TE(n){let e=document.getElementById(n),o=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),o=!0),{created:o,element:e}}let Lm=!1;function EE(n,e){if(typeof window>"u"||typeof document>"u"||!qa(window.location.host)||Gs[n]===e||Gs[n]||Lm)return;Gs[n]=e;function o(T){return`__firebase__banner__${T}`}const s="__firebase__banner",c=_E().prod.length>0;function d(){const T=document.getElementById(s);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function y(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Lm=!0,d()},T}function v(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=TE(s),C=o("text"),D=document.getElementById(C)||document.createElement("span"),k=o("learnmore"),x=document.getElementById(k)||document.createElement("a"),G=o("preprendIcon"),z=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const q=T.element;m(q),v(x,k);const K=g();y(z,G),q.append(z,D,x,K),document.body.appendChild(q)}c?(D.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function CE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function RE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IE(){const n=lt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ME(){try{return typeof indexedDB=="object"}catch{return!1}}function NE(){return new Promise((n,e)=>{try{let o=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),o||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{o=!1},a.onerror=()=>{var c;e(((c=a.error)==null?void 0:c.message)||"")}}catch(o){e(o)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="FirebaseError";class ui extends Error{constructor(e,o,s){super(o),this.code=e,this.customData=s,this.name=wE,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Js.prototype.create)}}class Js{constructor(e,o,s){this.service=e,this.serviceName=o,this.errors=s}create(e,...o){const s=o[0]||{},a=`${this.service}/${e}`,c=this.errors[e],d=c?DE(c,s):"Error",m=`${this.serviceName}: ${d} (${a}).`;return new ui(a,m,s)}}function DE(n,e){return n.replace(bE,(o,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const bE=/\{\$([^}]+)}/g;function UE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xo(n,e){if(n===e)return!0;const o=Object.keys(n),s=Object.keys(e);for(const a of o){if(!s.includes(a))return!1;const c=n[a],d=e[a];if(km(c)&&km(d)){if(!xo(c,d))return!1}else if(c!==d)return!1}for(const a of s)if(!o.includes(a))return!1;return!0}function km(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(n){const e=[];for(const[o,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(o)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(o)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Hs(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,c]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(c)}}),e}function Os(n){const e=n.indexOf("?");if(!e)return"";const o=n.indexOf("#",e);return n.substring(e,o>0?o:void 0)}function xE(n,e){const o=new LE(n,e);return o.subscribe.bind(o)}class LE{constructor(e,o){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=o,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(o=>{o.next(e)})}error(e){this.forEachObserver(o=>{o.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,o,s){let a;if(e===void 0&&o===void 0&&s===void 0)throw new Error("Missing Observer.");kE(e,["next","error","complete"])?a=e:a={next:e,error:o,complete:s},a.next===void 0&&(a.next=Sc),a.error===void 0&&(a.error=Sc),a.complete===void 0&&(a.complete=Sc);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let o=0;o<this.observers.length;o++)this.sendOne(o,e)}sendOne(e,o){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{o(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kE(n,e){if(typeof n!="object"||n===null)return!1;for(const o of e)if(o in n&&typeof n[o]=="function")return!0;return!1}function Sc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n){return n&&n._delegate?n._delegate:n}class Lo{constructor(e,o,s){this.name=e,this.instanceFactory=o,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,o){this.name=e,this.container=o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const o=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(o)){const s=new yE;if(this.instancesDeferred.set(o,s),this.isInitialized(o)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:o});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(o).promise}getImmediate(e){const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OE(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(o=>"INTERNAL"in o).map(o=>o.INTERNAL.delete()),...e.filter(o=>"_delete"in o).map(o=>o._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:o={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:o});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(a)}return a}onInit(e,o){const s=this.normalizeInstanceIdentifier(o),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&e(c,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,o){const s=this.onInitCallbacks.get(o);if(s)for(const a of s)try{a(e,o)}catch{}}getOrInitializeService({instanceIdentifier:e,options:o={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HE(e),options:o}),this.instances.set(e,s),this.instancesOptions.set(e,o),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HE(n){return n===bi?void 0:n}function OE(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const o=this.getProvider(e.name);if(o.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);o.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const o=new PE(e,this);return this.providers.set(e,o),o}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(xe||(xe={}));const GE={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},qE=xe.INFO,BE={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},zE=(n,e,...o)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=BE[e];if(a)console[a](`[${s}]  ${n.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qy{constructor(e){this.name=e,this._logLevel=qE,this._logHandler=zE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const FE=(n,e)=>e.some(o=>n instanceof o);let Pm,Hm;function JE(){return Pm||(Pm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YE(){return Hm||(Hm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zy=new WeakMap,bc=new WeakMap,Wy=new WeakMap,Cc=new WeakMap,nf=new WeakMap;function KE(n){const e=new Promise((o,s)=>{const a=()=>{n.removeEventListener("success",c),n.removeEventListener("error",d)},c=()=>{o(ai(n.result)),a()},d=()=>{s(n.error),a()};n.addEventListener("success",c),n.addEventListener("error",d)});return e.then(o=>{o instanceof IDBCursor&&Zy.set(o,n)}).catch(()=>{}),nf.set(e,n),e}function $E(n){if(bc.has(n))return;const e=new Promise((o,s)=>{const a=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",d),n.removeEventListener("abort",d)},c=()=>{o(),a()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",c),n.addEventListener("error",d),n.addEventListener("abort",d)});bc.set(n,e)}let Uc={get(n,e,o){if(n instanceof IDBTransaction){if(e==="done")return bc.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Wy.get(n);if(e==="store")return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return ai(n[e])},set(n,e,o){return n[e]=o,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function XE(n){Uc=n(Uc)}function QE(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...o){const s=n.call(Ac(this),e,...o);return Wy.set(s,e.sort?e.sort():[e]),ai(s)}:YE().includes(n)?function(...e){return n.apply(Ac(this),e),ai(Zy.get(this))}:function(...e){return ai(n.apply(Ac(this),e))}}function ZE(n){return typeof n=="function"?QE(n):(n instanceof IDBTransaction&&$E(n),FE(n,JE())?new Proxy(n,Uc):n)}function ai(n){if(n instanceof IDBRequest)return KE(n);if(Cc.has(n))return Cc.get(n);const e=ZE(n);return e!==n&&(Cc.set(n,e),nf.set(e,n)),e}const Ac=n=>nf.get(n);function WE(n,e,{blocked:o,upgrade:s,blocking:a,terminated:c}={}){const d=indexedDB.open(n,e),m=ai(d);return s&&d.addEventListener("upgradeneeded",y=>{s(ai(d.result),y.oldVersion,y.newVersion,ai(d.transaction),y)}),o&&d.addEventListener("blocked",y=>o(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const jE=["get","getKey","getAll","getAllKeys","count"],eS=["put","add","delete","clear"],Rc=new Map;function Om(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rc.get(e))return Rc.get(e);const o=e.replace(/FromIndex$/,""),s=e!==o,a=eS.includes(o);if(!(o in(s?IDBIndex:IDBObjectStore).prototype)||!(a||jE.includes(o)))return;const c=async function(d,...m){const y=this.transaction(d,a?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[o](...m),a&&y.done]))[0]};return Rc.set(e,c),c}XE(n=>({...n,get:(e,o,s)=>Om(e,o)||n.get(e,o,s),has:(e,o)=>!!Om(e,o)||n.has(e,o)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(nS(o)){const s=o.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(o=>o).join(" ")}}function nS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xc="@firebase/app",Vm="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new Qy("@firebase/app"),iS="@firebase/app-compat",oS="@firebase/analytics-compat",sS="@firebase/analytics",rS="@firebase/app-check-compat",aS="@firebase/app-check",lS="@firebase/auth",uS="@firebase/auth-compat",cS="@firebase/database",fS="@firebase/data-connect",dS="@firebase/database-compat",hS="@firebase/functions",pS="@firebase/functions-compat",mS="@firebase/installations",gS="@firebase/installations-compat",yS="@firebase/messaging",vS="@firebase/messaging-compat",_S="@firebase/performance",TS="@firebase/performance-compat",ES="@firebase/remote-config",SS="@firebase/remote-config-compat",CS="@firebase/storage",AS="@firebase/storage-compat",RS="@firebase/firestore",IS="@firebase/ai",MS="@firebase/firestore-compat",NS="firebase",wS="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="[DEFAULT]",DS={[xc]:"fire-core",[iS]:"fire-core-compat",[sS]:"fire-analytics",[oS]:"fire-analytics-compat",[aS]:"fire-app-check",[rS]:"fire-app-check-compat",[lS]:"fire-auth",[uS]:"fire-auth-compat",[cS]:"fire-rtdb",[fS]:"fire-data-connect",[dS]:"fire-rtdb-compat",[hS]:"fire-fn",[pS]:"fire-fn-compat",[mS]:"fire-iid",[gS]:"fire-iid-compat",[yS]:"fire-fcm",[vS]:"fire-fcm-compat",[_S]:"fire-perf",[TS]:"fire-perf-compat",[ES]:"fire-rc",[SS]:"fire-rc-compat",[CS]:"fire-gcs",[AS]:"fire-gcs-compat",[RS]:"fire-fst",[MS]:"fire-fst-compat",[IS]:"fire-vertex","fire-js":"fire-js",[NS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Map,bS=new Map,kc=new Map;function Gm(n,e){try{n.container.addComponent(e)}catch(o){An.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,o)}}function Bs(n){const e=n.name;if(kc.has(e))return An.debug(`There were multiple attempts to register component ${e}.`),!1;kc.set(e,n);for(const o of Na.values())Gm(o,n);for(const o of bS.values())Gm(o,n);return!0}function jy(n,e){const o=n.container.getProvider("heartbeat").getImmediate({optional:!0});return o&&o.triggerHeartbeat(),n.container.getProvider(e)}function zt(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new Js("app","Firebase",US);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,o,s){this._isDeleted=!1,this._options={...e},this._config={...o},this._name=o.name,this._automaticDataCollectionEnabled=o.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=wS;function LS(n,e={}){let o=n;typeof e!="object"&&(e={name:e});const s={name:Lc,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw li.create("bad-app-name",{appName:String(a)});if(o||(o=$y()),!o)throw li.create("no-options");const c=Na.get(a);if(c){if(xo(o,c.options)&&xo(s,c.config))return c;throw li.create("duplicate-app",{appName:a})}const d=new VE(a);for(const y of kc.values())d.addComponent(y);const m=new xS(o,s,d);return Na.set(a,m),m}function kS(n=Lc){const e=Na.get(n);if(!e&&n===Lc&&$y())return LS();if(!e)throw li.create("no-app",{appName:n});return e}function Mo(n,e,o){let s=DS[n]??n;o&&(s+=`-${o}`);const a=s.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),An.warn(d.join(" "));return}Bs(new Lo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firebase-heartbeat-database",HS=1,zs="firebase-heartbeat-store";let Ic=null;function ev(){return Ic||(Ic=WE(PS,HS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zs)}catch(o){console.warn(o)}}}}).catch(n=>{throw li.create("idb-open",{originalErrorMessage:n.message})})),Ic}async function OS(n){try{const o=(await ev()).transaction(zs),s=await o.objectStore(zs).get(tv(n));return await o.done,s}catch(e){if(e instanceof ui)An.warn(e.message);else{const o=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});An.warn(o.message)}}}async function qm(n,e){try{const s=(await ev()).transaction(zs,"readwrite");await s.objectStore(zs).put(e,tv(n)),await s.done}catch(o){if(o instanceof ui)An.warn(o.message);else{const s=li.create("idb-set",{originalErrorMessage:o==null?void 0:o.message});An.warn(s.message)}}}function tv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=1024,GS=30;class qS{constructor(e){this.container=e,this._heartbeatsCache=null;const o=this.container.getProvider("app").getImmediate();this._storage=new zS(o),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,o;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Bm();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((o=this._heartbeatsCache)==null?void 0:o.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats.length>GS){const d=FS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){An.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const o=Bm(),{heartbeatsToSend:s,unsentEntries:a}=BS(this._heartbeatsCache.heartbeats),c=Yy(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=o,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(o){return An.warn(o),""}}}function Bm(){return new Date().toISOString().substring(0,10)}function BS(n,e=VS){const o=[];let s=n.slice();for(const a of n){const c=o.find(d=>d.agent===a.agent);if(c){if(c.dates.push(a.date),zm(o)>e){c.dates.pop();break}}else if(o.push({agent:a.agent,dates:[a.date]}),zm(o)>e){o.pop();break}s=s.slice(1)}return{heartbeatsToSend:o,unsentEntries:s}}class zS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ME()?NE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const o=await OS(this.app);return o!=null&&o.heartbeats?o:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zm(n){return Yy(JSON.stringify({version:2,heartbeats:n})).length}function FS(n){if(n.length===0)return-1;let e=0,o=n[0].date;for(let s=1;s<n.length;s++)n[s].date<o&&(o=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(n){Bs(new Lo("platform-logger",e=>new tS(e),"PRIVATE")),Bs(new Lo("heartbeat",e=>new qS(e),"PRIVATE")),Mo(xc,Vm,n),Mo(xc,Vm,"esm2020"),Mo("fire-js","")}JS("");var YS="firebase",KS="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mo(YS,KS,"app");function nv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $S=nv,iv=new Js("auth","Firebase",nv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new Qy("@firebase/auth");function XS(n,...e){wa.logLevel<=xe.WARN&&wa.warn(`Auth (${Ks}): ${n}`,...e)}function Sa(n,...e){wa.logLevel<=xe.ERROR&&wa.error(`Auth (${Ks}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(n,...e){throw of(n,...e)}function jt(n,...e){return of(n,...e)}function ov(n,e,o){const s={...$S(),[e]:o};return new Js("auth","Firebase",s).create(e,{appName:n.name})}function Cn(n){return ov(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function of(n,...e){if(typeof n!="string"){const o=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(o,...s)}return iv.create(n,...e)}function ie(n,e,...o){if(!n)throw of(e,...o)}function En(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Sa(e),new Error(e)}function Rn(n,e){n||En(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function QS(){return Fm()==="http:"||Fm()==="https:"}function Fm(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QS()||AE()||"connection"in navigator)?navigator.onLine:!0}function WS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,o){this.shortDelay=e,this.longDelay=o,Rn(o>e,"Short delay should be less than long delay!"),this.isMobile=SE()||RE()}get(){return ZS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(n,e){Rn(n.emulator,"Emulator should always be set here");const{url:o}=n.emulator;return e?`${o}${e.startsWith("/")?e.slice(1):e}`:o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{static initialize(e,o,s){this.fetchImpl=e,o&&(this.headersImpl=o),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;En("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;En("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;En("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tC=new $s(3e4,6e4);function ci(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Mn(n,e,o,s,a={}){return rv(n,a,async()=>{let c={},d={};s&&(e==="GET"?d=s:c={body:JSON.stringify(s)});const m=Ys({key:n.config.apiKey,...d}).slice(1),y=await n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:y,...c};return CE()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&qa(n.emulatorConfig.host)&&(g.credentials="include"),sv.fetch()(await av(n,n.config.apiHost,o,m),g)})}async function rv(n,e,o){n._canInitEmulator=!1;const s={...jS,...e};try{const a=new iC(n),c=await Promise.race([o(),a.promise]);a.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw ga(n,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw ga(n,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw ga(n,"email-already-in-use",d);if(y==="USER_DISABLED")throw ga(n,"user-disabled",d);const v=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ov(n,v,g);Kt(n,v)}}catch(a){if(a instanceof ui)throw a;Kt(n,"network-request-failed",{message:String(a)})}}async function Xs(n,e,o,s,a={}){const c=await Mn(n,e,o,s,a);return"mfaPendingCredential"in c&&Kt(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function av(n,e,o,s){const a=`${e}${o}?${s}`,c=n,d=c.config.emulator?sf(n.config,a):`${n.config.apiScheme}://${a}`;return eC.includes(o)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function nC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((o,s)=>{this.timer=setTimeout(()=>s(jt(this.auth,"network-request-failed")),tC.get())})}}function ga(n,e,o){const s={appName:n.name};o.email&&(s.email=o.email),o.phoneNumber&&(s.phoneNumber=o.phoneNumber);const a=jt(n,e,s);return a.customData._tokenResponse=o,a}function Jm(n){return n!==void 0&&n.enterprise!==void 0}class oC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const o of this.recaptchaEnforcementState)if(o.provider&&o.provider===e)return nC(o.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sC(n,e){return Mn(n,"GET","/v2/recaptchaConfig",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(n,e){return Mn(n,"POST","/v1/accounts:delete",e)}async function Da(n,e){return Mn(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aC(n,e=!1){const o=tn(n),s=await o.getIdToken(e),a=rf(s);ie(a&&a.exp&&a.auth_time&&a.iat,o.auth,"internal-error");const c=typeof a.firebase=="object"?a.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:a,token:s,authTime:qs(Mc(a.auth_time)),issuedAtTime:qs(Mc(a.iat)),expirationTime:qs(Mc(a.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Mc(n){return Number(n)*1e3}function rf(n){const[e,o,s]=n.split(".");if(e===void 0||o===void 0||s===void 0)return Sa("JWT malformed, contained fewer than 3 sections"),null;try{const a=Ky(o);return a?JSON.parse(a):(Sa("Failed to decode base64 JWT payload"),null)}catch(a){return Sa("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Ym(n){const e=rf(n);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(n,e,o=!1){if(o)return e;try{return await e}catch(s){throw s instanceof ui&&lC(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function lC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const o=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),o}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const o=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},o)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,o){this.createdAt=e,this.lastLoginAt=o,this._initializeTime()}_initializeTime(){this.lastSignInTime=qs(this.lastLoginAt),this.creationTime=qs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(n){var E;const e=n.auth,o=await n.getIdToken(),s=await ko(n,Da(e,{idToken:o}));ie(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const c=(E=a.providerUserInfo)!=null&&E.length?lv(a.providerUserInfo):[],d=fC(n.providerData,c),m=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),g=m?y:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Hc(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function cC(n){const e=tn(n);await ba(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fC(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function lv(n){return n.map(({providerId:e,...o})=>({providerId:e,uid:o.rawId||"",displayName:o.displayName||null,email:o.email||null,phoneNumber:o.phoneNumber||null,photoURL:o.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(n,e){const o=await rv(n,{},async()=>{const s=Ys({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:c}=n.config,d=await av(n,a,"/v1/token",`key=${c}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return n.emulatorConfig&&qa(n.emulatorConfig.host)&&(y.credentials="include"),sv.fetch()(d,y)});return{accessToken:o.access_token,expiresIn:o.expires_in,refreshToken:o.refresh_token}}async function hC(n,e){return Mn(n,"POST","/v2/accounts:revokeToken",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const o="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ym(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,o)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const o=Ym(e);this.updateTokensAndExpiration(e,null,o)}async getToken(e,o=!1){return!o&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,o){const{accessToken:s,refreshToken:a,expiresIn:c}=await dC(e,o);this.updateTokensAndExpiration(s,a,Number(c))}updateTokensAndExpiration(e,o,s){this.refreshToken=o||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,o){const{refreshToken:s,accessToken:a,expirationTime:c}=o,d=new No;return s&&(ie(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),a&&(ie(typeof a=="string","internal-error",{appName:e}),d.accessToken=a),c&&(ie(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return En("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(n,e){ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ft{constructor({uid:e,auth:o,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new uC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=o,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Hc(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const o=await ko(this,this.stsTokenManager.getToken(this.auth,e));return ie(o,this.auth,"internal-error"),this.accessToken!==o&&(this.accessToken=o,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),o}getIdTokenResult(e){return aC(this,e)}reload(){return cC(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(o=>({...o})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const o=new Ft({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return o.metadata._copy(this.metadata),o}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,o=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),o&&await ba(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zt(this.auth.app))return Promise.reject(Cn(this.auth));const e=await this.getIdToken();return await ko(this,rC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,o){const s=o.displayName??void 0,a=o.email??void 0,c=o.phoneNumber??void 0,d=o.photoURL??void 0,m=o.tenantId??void 0,y=o._redirectEventId??void 0,g=o.createdAt??void 0,v=o.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:C,providerData:D,stsTokenManager:k}=o;ie(E&&k,e,"internal-error");const x=No.fromJSON(this.name,k);ie(typeof E=="string",e,"internal-error"),ti(s,e.name),ti(a,e.name),ie(typeof T=="boolean",e,"internal-error"),ie(typeof C=="boolean",e,"internal-error"),ti(c,e.name),ti(d,e.name),ti(m,e.name),ti(y,e.name),ti(g,e.name),ti(v,e.name);const G=new Ft({uid:E,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:C,photoURL:d,phoneNumber:c,tenantId:m,stsTokenManager:x,createdAt:g,lastLoginAt:v});return D&&Array.isArray(D)&&(G.providerData=D.map(z=>({...z}))),y&&(G._redirectEventId=y),G}static async _fromIdTokenResponse(e,o,s=!1){const a=new No;a.updateFromServerResponse(o);const c=new Ft({uid:o.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await ba(c),c}static async _fromGetAccountInfoResponse(e,o,s){const a=o.users[0];ie(a.localId!==void 0,"internal-error");const c=a.providerUserInfo!==void 0?lv(a.providerUserInfo):[],d=!(a.email&&a.passwordHash)&&!(c!=null&&c.length),m=new No;m.updateFromIdToken(s);const y=new Ft({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:d}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Hc(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=new Map;function Sn(n){Rn(n instanceof Function,"Expected a class definition");let e=Km.get(n);return e?(Rn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Km.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,o){this.storage[e]=o}async _get(e){const o=this.storage[e];return o===void 0?null:o}async _remove(e){delete this.storage[e]}_addListener(e,o){}_removeListener(e,o){}}uv.type="NONE";const $m=uv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(n,e,o){return`firebase:${n}:${e}:${o}`}class wo{constructor(e,o,s){this.persistence=e,this.auth=o,this.userKey=s;const{config:a,name:c}=this.auth;this.fullUserKey=Ca(this.userKey,a.apiKey,c),this.fullPersistenceKey=Ca("persistence",a.apiKey,c),this.boundEventHandler=o._onStorageEvent.bind(o),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const o=await Da(this.auth,{idToken:e}).catch(()=>{});return o?Ft._fromGetAccountInfoResponse(this.auth,o,e):null}return Ft._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const o=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,o)return this.setCurrentUser(o)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,o,s="authUser"){if(!o.length)return new wo(Sn($m),e,s);const a=(await Promise.all(o.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=a[0]||Sn($m);const d=Ca(s,e.config.apiKey,e.name);let m=null;for(const g of o)try{const v=await g._get(d);if(v){let E;if(typeof v=="string"){const T=await Da(e,{idToken:v}).catch(()=>{});if(!T)break;E=await Ft._fromGetAccountInfoResponse(e,T,v)}else E=Ft._fromJSON(e,v);g!==c&&(m=E),c=g;break}}catch{}const y=a.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new wo(c,e,s):(c=y[0],m&&await c._set(d,m.toJSON()),await Promise.all(o.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new wo(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mv(e))return"Blackberry";if(gv(e))return"Webos";if(fv(e))return"Safari";if((e.includes("chrome/")||dv(e))&&!e.includes("edge/"))return"Chrome";if(pv(e))return"Android";{const o=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(o);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function cv(n=lt()){return/firefox\//i.test(n)}function fv(n=lt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dv(n=lt()){return/crios\//i.test(n)}function hv(n=lt()){return/iemobile/i.test(n)}function pv(n=lt()){return/android/i.test(n)}function mv(n=lt()){return/blackberry/i.test(n)}function gv(n=lt()){return/webos/i.test(n)}function af(n=lt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function pC(n=lt()){var e;return af(n)&&!!((e=window.navigator)!=null&&e.standalone)}function mC(){return IE()&&document.documentMode===10}function yv(n=lt()){return af(n)||pv(n)||gv(n)||mv(n)||/windows phone/i.test(n)||hv(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(n,e=[]){let o;switch(n){case"Browser":o=Xm(lt());break;case"Worker":o=`${Xm(lt())}-${n}`;break;default:o=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${o}/JsCore/${Ks}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,o){const s=c=>new Promise((d,m)=>{try{const y=e(c);d(y)}catch(y){m(y)}});s.onAbort=o,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const o=[];try{for(const s of this.queue)await s(e),s.onAbort&&o.push(s.onAbort)}catch(s){o.reverse();for(const a of o)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(n,e={}){return Mn(n,"GET","/v2/passwordPolicy",ci(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=6;class _C{constructor(e){var s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=o.minPasswordLength??vC,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=o.meetsMinPasswordLength??!0),o.isValid&&(o.isValid=o.meetsMaxPasswordLength??!0),o.isValid&&(o.isValid=o.containsLowercaseLetter??!0),o.isValid&&(o.isValid=o.containsUppercaseLetter??!0),o.isValid&&(o.isValid=o.containsNumericCharacter??!0),o.isValid&&(o.isValid=o.containsNonAlphanumericCharacter??!0),o}validatePasswordLengthOptions(e,o){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(o.meetsMinPasswordLength=e.length>=s),a&&(o.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,o){this.updatePasswordCharacterOptionsStatuses(o,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(o,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,o,s,a,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=o)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,o,s,a){this.app=e,this.heartbeatServiceProvider=o,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qm(this),this.idTokenSubscription=new Qm(this),this.beforeStateQueue=new gC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,o){return o&&(this._popupRedirectResolver=Sn(o)),this._initializationPromise=this.queue(async()=>{var s,a,c;if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(o),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const o=await Da(this,{idToken:e}),s=await Ft._fromGetAccountInfoResponse(this,o,e);await this.directlySetCurrentUser(s)}catch(o){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",o),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(zt(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const o=await this.assertedPersistence.getCurrentUser();let s=o,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,m=s==null?void 0:s._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===m)&&(y!=null&&y.user)&&(s=y.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=o,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let o=null;try{o=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return o}async reloadAndSetCurrentUserOrClear(e){try{await ba(e)}catch(o){if((o==null?void 0:o.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zt(this.app))return Promise.reject(Cn(this));const o=e?tn(e):null;return o&&ie(o.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(o&&o._clone(this))}async _updateCurrentUser(e,o=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),o||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zt(this.app)?Promise.reject(Cn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zt(this.app)?Promise.reject(Cn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const o=this._getPasswordPolicyInternal();return o.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):o.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yC(this),o=new _C(e);this.tenantId===null?this._projectPasswordPolicy=o:this._tenantPasswordPolicies[this.tenantId]=o}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Js("auth","Firebase",e())}onAuthStateChanged(e,o,s){return this.registerStateListener(this.authStateSubscription,e,o,s)}beforeAuthStateChanged(e,o){return this.beforeStateQueue.pushCallback(e,o)}onIdTokenChanged(e,o,s){return this.registerStateListener(this.idTokenSubscription,e,o,s)}authStateReady(){return new Promise((e,o)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},o)}})}async revokeAccessToken(e){if(this.currentUser){const o=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:o};this.tenantId!=null&&(s.tenantId=this.tenantId),await hC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,o){const s=await this.getOrInitRedirectPersistenceManager(o);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const o=e&&Sn(e)||this._popupRedirectResolver;ie(o,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[Sn(o._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var o,s;return this._isInitialized&&await this.queue(async()=>{}),((o=this._currentUser)==null?void 0:o._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var o;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((o=this.currentUser)==null?void 0:o.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,o,s,a){if(this._deleted)return()=>{};const c=typeof o=="function"?o:o.next.bind(o);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof o=="function"){const y=e.addObserver(o,s,a);return()=>{d=!0,y()}}else{const y=e.addObserver(o);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const o=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());o&&(e["X-Firebase-Client"]=o);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var o;if(zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((o=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getToken());return e!=null&&e.error&&XS(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ki(n){return tn(n)}class Qm{constructor(e){this.auth=e,this.observer=null,this.addObserver=xE(o=>this.observer=o)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EC(n){Ba=n}function _v(n){return Ba.loadJS(n)}function SC(){return Ba.recaptchaEnterpriseScript}function CC(){return Ba.gapiScript}function AC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class RC{constructor(){this.enterprise=new IC}ready(e){e()}execute(e,o){return Promise.resolve("token")}render(e,o){return""}}class IC{ready(e){e()}execute(e,o){return Promise.resolve("token")}render(e,o){return""}}const MC="recaptcha-enterprise",Tv="NO_RECAPTCHA";class NC{constructor(e){this.type=MC,this.auth=ki(e)}async verify(e="verify",o=!1){async function s(c){if(!o){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{sC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new oC(y);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(y=>{m(y)})})}function a(c,d,m){const y=window.grecaptcha;Jm(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(g=>{d(g)}).catch(()=>{d(Tv)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(m=>{if(!o&&Jm(window.grecaptcha))a(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=SC();y.length!==0&&(y+=m),_v(y).then(()=>{a(m,c,d)}).catch(g=>{d(g)})}}).catch(m=>{d(m)})})}}async function Zm(n,e,o,s=!1,a=!1){const c=new NC(n);let d;if(a)d=Tv;else try{d=await c.verify(o)}catch{d=await c.verify(o,!0)}const m={...e};if(o==="mfaSmsEnrollment"||o==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Oc(n,e,o,s,a){var c;if((c=n._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Zm(n,e,o,o==="getOobCode");return s(n,d)}else return s(n,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${o} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Zm(n,e,o,o==="getOobCode");return s(n,m)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(n,e){const o=jy(n,"auth");if(o.isInitialized()){const a=o.getImmediate(),c=o.getOptions();if(xo(c,e??{}))return a;Kt(a,"already-initialized")}return o.initialize({options:e})}function DC(n,e){const o=(e==null?void 0:e.persistence)||[],s=(Array.isArray(o)?o:[o]).map(Sn);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function bC(n,e,o){const s=ki(n);ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,c=Ev(e),{host:d,port:m}=UC(e),y=m===null?"":`:${m}`,g={url:`${c}//${d}${y}/`},v=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ie(xo(g,s.config.emulator)&&xo(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,qa(d)?(vE(`${c}//${d}${y}`),EE("Auth",!0)):xC()}function Ev(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function UC(n){const e=Ev(n),o=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!o)return{host:"",port:null};const s=o[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const c=a[1];return{host:c,port:Wm(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Wm(d)}}}function Wm(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function xC(){function n(){const e=document.createElement("p"),o=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",o.position="fixed",o.width="100%",o.backgroundColor="#ffffff",o.border=".1em solid #000000",o.color="#b50000",o.bottom="0px",o.left="0px",o.margin="0px",o.zIndex="10000",o.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,o){this.providerId=e,this.signInMethod=o}toJSON(){return En("not implemented")}_getIdTokenResponse(e){return En("not implemented")}_linkToIdToken(e,o){return En("not implemented")}_getReauthenticationResolver(e){return En("not implemented")}}async function LC(n,e){return Mn(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(n,e){return Xs(n,"POST","/v1/accounts:signInWithPassword",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(n,e){return Xs(n,"POST","/v1/accounts:signInWithEmailLink",ci(n,e))}async function HC(n,e){return Xs(n,"POST","/v1/accounts:signInWithEmailLink",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends lf{constructor(e,o,s,a=null){super("password",s),this._email=e,this._password=o,this._tenantId=a}static _fromEmailAndPassword(e,o){return new Fs(e,o,"password")}static _fromEmailAndCode(e,o,s=null){return new Fs(e,o,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const o=typeof e=="string"?JSON.parse(e):e;if(o!=null&&o.email&&(o!=null&&o.password)){if(o.signInMethod==="password")return this._fromEmailAndPassword(o.email,o.password);if(o.signInMethod==="emailLink")return this._fromEmailAndCode(o.email,o.password,o.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const o={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oc(e,o,"signInWithPassword",kC);case"emailLink":return PC(e,{email:this._email,oobCode:this._password});default:Kt(e,"internal-error")}}async _linkToIdToken(e,o){switch(this.signInMethod){case"password":const s={idToken:o,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oc(e,s,"signUpPassword",LC);case"emailLink":return HC(e,{idToken:o,email:this._email,oobCode:this._password});default:Kt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(n,e){return Xs(n,"POST","/v1/accounts:signInWithIdp",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="http://localhost";class xi extends lf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const o=new xi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(o.idToken=e.idToken),e.accessToken&&(o.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(o.nonce=e.nonce),e.pendingToken&&(o.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(o.accessToken=e.oauthToken,o.secret=e.oauthTokenSecret):Kt("argument-error"),o}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const o=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...c}=o;if(!s||!a)return null;const d=new xi(s,a);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const o=this.buildRequest();return Do(e,o)}_linkToIdToken(e,o){const s=this.buildRequest();return s.idToken=o,Do(e,s)}_getReauthenticationResolver(e){const o=this.buildRequest();return o.autoCreate=!1,Do(e,o)}buildRequest(){const e={requestUri:OC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const o={};this.idToken&&(o.id_token=this.idToken),this.accessToken&&(o.access_token=this.accessToken),this.secret&&(o.oauth_token_secret=this.secret),o.providerId=this.providerId,this.nonce&&!this.pendingToken&&(o.nonce=this.nonce),e.postBody=Ys(o)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GC(n){const e=Hs(Os(n)).link,o=e?Hs(Os(e)).deep_link_id:null,s=Hs(Os(n)).deep_link_id;return(s?Hs(Os(s)).link:null)||s||o||e||n}class uf{constructor(e){const o=Hs(Os(e)),s=o.apiKey??null,a=o.oobCode??null,c=VC(o.mode??null);ie(s&&a&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=a,this.continueUrl=o.continueUrl??null,this.languageCode=o.lang??null,this.tenantId=o.tenantId??null}static parseLink(e){const o=GC(e);try{return new uf(o)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,o){return Fs._fromEmailAndPassword(e,o)}static credentialWithLink(e,o){const s=uf.parseLink(o);return ie(s,"argument-error"),Fs._fromEmailAndCode(e,s.code,s.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Sv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Qs{constructor(){super("facebook.com")}static credential(e){return xi._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Qs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,o){return xi._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:o})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:o,oauthAccessToken:s}=e;if(!o&&!s)return null;try{return ii.credential(o,s)}catch{return null}}}ii.GOOGLE_SIGN_IN_METHOD="google.com";ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Qs{constructor(){super("github.com")}static credential(e){return xi._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Qs{constructor(){super("twitter.com")}static credential(e,o){return xi._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:o})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:o,oauthTokenSecret:s}=e;if(!o||!s)return null;try{return si.credential(o,s)}catch{return null}}}si.TWITTER_SIGN_IN_METHOD="twitter.com";si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(n,e){return Xs(n,"POST","/v1/accounts:signUp",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,o,s,a=!1){const c=await Ft._fromIdTokenResponse(e,s,a),d=jm(s);return new Li({user:c,providerId:d,_tokenResponse:s,operationType:o})}static async _forOperation(e,o,s){await e._updateTokensIfNecessary(s,!0);const a=jm(s);return new Li({user:e,providerId:a,_tokenResponse:s,operationType:o})}}function jm(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends ui{constructor(e,o,s,a){super(o.code,o.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Ua.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:o.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,o,s,a){return new Ua(e,o,s,a)}}function Cv(n,e,o,s){return(e==="reauthenticate"?o._getReauthenticationResolver(n):o._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ua._fromErrorAndOperation(n,c,e,s):c})}async function BC(n,e,o=!1){const s=await ko(n,e._linkToIdToken(n.auth,await n.getIdToken()),o);return Li._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(n,e,o=!1){const{auth:s}=n;if(zt(s.app))return Promise.reject(Cn(s));const a="reauthenticate";try{const c=await ko(n,Cv(s,a,e,n),o);ie(c.idToken,s,"internal-error");const d=rf(c.idToken);ie(d,s,"internal-error");const{sub:m}=d;return ie(n.uid===m,s,"user-mismatch"),Li._forOperation(n,a,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Kt(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Av(n,e,o=!1){if(zt(n.app))return Promise.reject(Cn(n));const s="signIn",a=await Cv(n,s,e),c=await Li._fromIdTokenResponse(n,s,a);return o||await n._updateCurrentUser(c.user),c}async function FC(n,e){return Av(ki(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rv(n){const e=ki(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function R2(n,e,o){if(zt(n.app))return Promise.reject(Cn(n));const s=ki(n),d=await Oc(s,{returnSecureToken:!0,email:e,password:o,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qC).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&Rv(n),y}),m=await Li._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(m.user),m}function I2(n,e,o){return zt(n.app)?Promise.reject(Cn(n)):FC(tn(n),Po.credential(e,o)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Rv(n),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(n,e){return Mn(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(n,{displayName:e,photoURL:o}){if(e===void 0&&o===void 0)return;const s=tn(n),c={idToken:await s.getIdToken(),displayName:e,photoUrl:o,returnSecureToken:!0},d=await ko(s,JC(s.auth,c));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const m=s.providerData.find(({providerId:y})=>y==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function YC(n,e,o,s){return tn(n).onIdTokenChanged(e,o,s)}function KC(n,e,o){return tn(n).beforeAuthStateChanged(e,o)}function N2(n,e,o,s){return tn(n).onAuthStateChanged(e,o,s)}function w2(n){return tn(n).signOut()}const xa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,o){this.storageRetriever=e,this.type=o}_isAvailable(){try{return this.storage?(this.storage.setItem(xa,"1"),this.storage.removeItem(xa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,o){return this.storage.setItem(e,JSON.stringify(o)),Promise.resolve()}_get(e){const o=this.storage.getItem(e);return Promise.resolve(o?JSON.parse(o):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=1e3,XC=10;class Mv extends Iv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,o)=>this.onStorageEvent(e,o),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const o of Object.keys(this.listeners)){const s=this.storage.getItem(o),a=this.localCache[o];s!==a&&e(o,a,s)}}onStorageEvent(e,o=!1){if(!e.key){this.forAllChangedKeys((d,m,y)=>{this.notifyListeners(d,y)});return}const s=e.key;o?this.detachListener():this.stopPolling();const a=()=>{const d=this.storage.getItem(s);!o&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);mC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,XC):a()}notifyListeners(e,o){this.localCache[e]=o;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(o&&JSON.parse(o))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,o,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:o,newValue:s}),!0)})},$C)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,o){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(o)}_removeListener(e,o){this.listeners[e]&&(this.listeners[e].delete(o),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,o){await super._set(e,o),this.localCache[e]=JSON.stringify(o)}async _get(e){const o=await super._get(e);return this.localCache[e]=JSON.stringify(o),o}async _remove(e){await super._remove(e),delete this.localCache[e]}}Mv.type="LOCAL";const QC=Mv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends Iv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,o){}_removeListener(e,o){}}Nv.type="SESSION";const wv=Nv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(o){return{fulfilled:!1,reason:o}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const o=this.receivers.find(a=>a.isListeningto(e));if(o)return o;const s=new za(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const o=e,{eventId:s,eventType:a,data:c}=o.data,d=this.handlersMap[a];if(!(d!=null&&d.size))return;o.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const m=Array.from(d).map(async g=>g(o.origin,c)),y=await ZC(m);o.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:y})}_subscribe(e,o){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(o)}_unsubscribe(e,o){this.handlersMap[e]&&o&&this.handlersMap[e].delete(o),(!o||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}za.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(n="",e=10){let o="";for(let s=0;s<e;s++)o+=Math.floor(Math.random()*10);return n+o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,o,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,d;return new Promise((m,y)=>{const g=cf("",20);a.port1.start();const v=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:a,onMessage(E){const T=E;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(T.data.response);break;default:clearTimeout(v),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),a.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:o},[a.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return window}function jC(n){en().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(){return typeof en().WorkerGlobalScope<"u"&&typeof en().importScripts=="function"}async function eA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function nA(){return Dv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="firebaseLocalStorageDb",iA=1,La="firebaseLocalStorage",Uv="fbase_key";class Zs{constructor(e){this.request=e}toPromise(){return new Promise((e,o)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{o(this.request.error)})})}}function Fa(n,e){return n.transaction([La],e?"readwrite":"readonly").objectStore(La)}function oA(){const n=indexedDB.deleteDatabase(bv);return new Zs(n).toPromise()}function Vc(){const n=indexedDB.open(bv,iA);return new Promise((e,o)=>{n.addEventListener("error",()=>{o(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(La,{keyPath:Uv})}catch(a){o(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(La)?e(s):(s.close(),await oA(),e(await Vc()))})})}async function eg(n,e,o){const s=Fa(n,!0).put({[Uv]:e,value:o});return new Zs(s).toPromise()}async function sA(n,e){const o=Fa(n,!1).get(e),s=await new Zs(o).toPromise();return s===void 0?null:s.value}function tg(n,e){const o=Fa(n,!0).delete(e);return new Zs(o).toPromise()}const rA=800,aA=3;class xv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vc(),this.db)}async _withRetries(e){let o=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(o++>aA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=za._getInstance(nA()),this.receiver._subscribe("keyChanged",async(e,o)=>({keyProcessed:(await this._poll()).includes(o.key)})),this.receiver._subscribe("ping",async(e,o)=>["keyChanged"])}async initializeSender(){var o,s;if(this.activeServiceWorker=await eA(),!this.activeServiceWorker)return;this.sender=new WC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(o=e[0])!=null&&o.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vc();return await eg(e,xa,"1"),await tg(e,xa),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,o){return this._withPendingWrite(async()=>(await this._withRetries(s=>eg(s,e,o)),this.localCache[e]=o,this.notifyServiceWorker(e)))}async _get(e){const o=await this._withRetries(s=>sA(s,e));return this.localCache[e]=o,o}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(o=>tg(o,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const c=Fa(a,!1).getAll();return new Zs(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const o=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:c}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),o.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),o.push(a));return o}notifyListeners(e,o){this.localCache[e]=o;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(o)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,o){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(o)}_removeListener(e,o){this.listeners[e]&&(this.listeners[e].delete(o),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xv.type="LOCAL";const lA=xv;new $s(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(n,e){return e?Sn(e):(ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends lf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,o){return Do(e,this._buildIdpRequest(o))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const o={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(o.idToken=e),o}}function cA(n){return Av(n.auth,new ff(n),n.bypassAuthState)}function fA(n){const{auth:e,user:o}=n;return ie(o,e,"internal-error"),zC(o,new ff(n),n.bypassAuthState)}async function dA(n){const{auth:e,user:o}=n;return ie(o,e,"internal-error"),BC(o,new ff(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,o,s,a,c=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(o)?o:[o]}execute(){return new Promise(async(e,o)=>{this.pendingPromise={resolve:e,reject:o};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:o,sessionId:s,postBody:a,tenantId:c,error:d,type:m}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:o,sessionId:s,tenantId:c||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cA;case"linkViaPopup":case"linkViaRedirect":return dA;case"reauthViaPopup":case"reauthViaRedirect":return fA;default:Kt(this.auth,"internal-error")}}resolve(e){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=new $s(2e3,1e4);class Co extends Lv{constructor(e,o,s,a,c){super(e,o,a,c),this.provider=s,this.authWindow=null,this.pollId=null,Co.currentPopupAction&&Co.currentPopupAction.cancel(),Co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Rn(this.filter.length===1,"Popup operations only handle one event");const e=cf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(o=>{this.reject(o)}),this.resolver._isIframeWebStorageSupported(this.auth,o=>{o||this.reject(jt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Co.currentPopupAction=null}pollUserCancellation(){const e=()=>{var o,s;if((s=(o=this.authWindow)==null?void 0:o.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hA.get())};e()}}Co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="pendingRedirect",Aa=new Map;class mA extends Lv{constructor(e,o,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],o,void 0,s),this.eventId=null}async execute(){let e=Aa.get(this.auth._key());if(!e){try{const s=await gA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(o){e=()=>Promise.reject(o)}Aa.set(this.auth._key(),e)}return this.bypassAuthState||Aa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const o=await this.auth._redirectUserForId(e.eventId);if(o)return this.user=o,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gA(n,e){const o=_A(e),s=vA(n);if(!await s._isAvailable())return!1;const a=await s._get(o)==="true";return await s._remove(o),a}function yA(n,e){Aa.set(n._key(),e)}function vA(n){return Sn(n._redirectPersistence)}function _A(n){return Ca(pA,n.config.apiKey,n.name)}async function TA(n,e,o=!1){if(zt(n.app))return Promise.reject(Cn(n));const s=ki(n),a=uA(s,e),d=await new mA(s,a,o).execute();return d&&!o&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=600*1e3;class SA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let o=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(o=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CA(e)||(this.hasHandledPotentialRedirect=!0,o||(this.queuedRedirectEvent=e,o=!0)),o}sendToConsumer(e,o){var s;if(e.error&&!kv(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";o.onError(jt(this.auth,a))}else o.onAuthEvent(e)}isEventForConsumer(e,o){const s=o.eventId===null||!!e.eventId&&e.eventId===o.eventId;return o.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EA&&this.cachedEventUids.clear(),this.cachedEventUids.has(ng(e))}saveEventToCache(e){this.cachedEventUids.add(ng(e)),this.lastProcessedEventTime=Date.now()}}function ng(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function kv({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kv(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(n,e={}){return Mn(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IA=/^https?/;async function MA(n){if(n.config.emulator)return;const{authorizedDomains:e}=await AA(n);for(const o of e)try{if(NA(o))return}catch{}Kt(n,"unauthorized-domain")}function NA(n){const e=Pc(),{protocol:o,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&s===""?o==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):o==="chrome-extension:"&&d.hostname===s}if(!IA.test(o))return!1;if(RA.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=new $s(3e4,6e4);function ig(){const n=en().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let o=0;o<n.CP.length;o++)n.CP[o]=null}}function DA(n){return new Promise((e,o)=>{var a,c,d;function s(){ig(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ig(),o(jt(n,"network-request-failed"))},timeout:wA.get()})}if((c=(a=en().gapi)==null?void 0:a.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=en().gapi)!=null&&d.load)s();else{const m=AC("iframefcb");return en()[m]=()=>{gapi.load?s():o(jt(n,"network-request-failed"))},_v(`${CC()}?onload=${m}`).catch(y=>o(y))}}).catch(e=>{throw Ra=null,e})}let Ra=null;function bA(n){return Ra=Ra||DA(n),Ra}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=new $s(5e3,15e3),xA="__/auth/iframe",LA="emulator/auth/iframe",kA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HA(n){const e=n.config;ie(e.authDomain,n,"auth-domain-config-required");const o=e.emulator?sf(e,LA):`https://${n.config.authDomain}/${xA}`,s={apiKey:e.apiKey,appName:n.name,v:Ks},a=PA.get(n.config.apiHost);a&&(s.eid=a);const c=n._getFrameworks();return c.length&&(s.fw=c.join(",")),`${o}?${Ys(s).slice(1)}`}async function OA(n){const e=await bA(n),o=en().gapi;return ie(o,n,"internal-error"),e.open({where:document.body,url:HA(n),messageHandlersFilter:o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kA,dontclear:!0},s=>new Promise(async(a,c)=>{await s.restyle({setHideOnLeave:!1});const d=jt(n,"network-request-failed"),m=en().setTimeout(()=>{c(d)},UA.get());function y(){en().clearTimeout(m),a(s)}s.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GA=500,qA=600,BA="_blank",zA="http://localhost";class og{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FA(n,e,o,s=GA,a=qA){const c=Math.max((window.screen.availHeight-a)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...VA,width:s.toString(),height:a.toString(),top:c,left:d},g=lt().toLowerCase();o&&(m=dv(g)?BA:o),cv(g)&&(e=e||zA,y.scrollbars="yes");const v=Object.entries(y).reduce((T,[C,D])=>`${T}${C}=${D},`,"");if(pC(g)&&m!=="_self")return JA(e||"",m),new og(null);const E=window.open(e||"",m,v);ie(E,n,"popup-blocked");try{E.focus()}catch{}return new og(E)}function JA(n,e){const o=document.createElement("a");o.href=n,o.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),o.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="__/auth/handler",KA="emulator/auth/handler",$A=encodeURIComponent("fac");async function sg(n,e,o,s,a,c){ie(n.config.authDomain,n,"auth-domain-config-required"),ie(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:o,redirectUrl:s,v:Ks,eventId:a};if(e instanceof Sv){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",UE(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))d[v]=E}if(e instanceof Qs){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(d.scopes=v.join(","))}n.tenantId&&(d.tid=n.tenantId);const m=d;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const y=await n._getAppCheckToken(),g=y?`#${$A}=${encodeURIComponent(y)}`:"";return`${XA(n)}?${Ys(m).slice(1)}${g}`}function XA({config:n}){return n.emulator?sf(n,KA):`https://${n.authDomain}/${YA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc="webStorageSupport";class QA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wv,this._completeRedirectFn=TA,this._overrideRedirectResult=yA}async _openPopup(e,o,s,a){var d;Rn((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await sg(e,o,s,Pc(),a);return FA(e,c,cf())}async _openRedirect(e,o,s,a){await this._originValidation(e);const c=await sg(e,o,s,Pc(),a);return jC(c),new Promise(()=>{})}_initialize(e){const o=e._key();if(this.eventManagers[o]){const{manager:a,promise:c}=this.eventManagers[o];return a?Promise.resolve(a):(Rn(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[o]={promise:s},s.catch(()=>{delete this.eventManagers[o]}),s}async initAndGetManager(e){const o=await OA(e),s=new SA(e);return o.register("authEvent",a=>(ie(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=o,s}_isIframeWebStorageSupported(e,o){this.iframes[e._key()].send(Nc,{type:Nc},a=>{var d;const c=(d=a==null?void 0:a[0])==null?void 0:d[Nc];c!==void 0&&o(!!c),Kt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const o=e._key();return this.originValidationPromises[o]||(this.originValidationPromises[o]=MA(e)),this.originValidationPromises[o]}get _shouldInitProactively(){return yv()||fv()||af()}}const ZA=QA;var rg="@firebase/auth",ag="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const o=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,o),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const o=this.internalListeners.get(e);o&&(this.internalListeners.delete(e),o(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e1(n){Bs(new Lo("auth",(e,{options:o})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=s.options;ie(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vv(n)},g=new TC(s,a,c,y);return DC(g,o),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,o,s)=>{e.getProvider("auth-internal").initialize()})),Bs(new Lo("auth-internal",e=>{const o=ki(e.getProvider("auth").getImmediate());return(s=>new WA(s))(o)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mo(rg,ag,jA(n)),Mo(rg,ag,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=300,n1=Xy("authIdTokenMaxAge")||t1;let lg=null;const i1=n=>async e=>{const o=e&&await e.getIdTokenResult(),s=o&&(new Date().getTime()-Date.parse(o.issuedAtTime))/1e3;if(s&&s>n1)return;const a=o==null?void 0:o.token;lg!==a&&(lg=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function D2(n=kS()){const e=jy(n,"auth");if(e.isInitialized())return e.getImmediate();const o=wC(n,{popupRedirectResolver:ZA,persistence:[lA,QC,wv]}),s=Xy("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=i1(c.toString());KC(o,d,()=>d(o.currentUser)),YC(o,m=>d(m))}}const a=gE("auth");return a&&bC(o,`http://${a}`),o}function o1(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}EC({loadJS(n){return new Promise((e,o)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const c=jt("internal-error");c.customData=a,o(c)},s.type="text/javascript",s.charset="UTF-8",o1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e1("Browser");/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r1=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,s)=>s?s.toUpperCase():o.toLowerCase()),ug=n=>{const e=r1(n);return e.charAt(0).toUpperCase()+e.slice(1)},Pv=(...n)=>n.filter((e,o,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===o).join(" ").trim(),a1=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Io.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:c,iconNode:d,...m},y)=>Io.createElement("svg",{ref:y,...l1,width:e,height:e,stroke:n,strokeWidth:s?Number(o)*24/Number(e):o,className:Pv("lucide",a),...!c&&!a1(m)&&{"aria-hidden":"true"},...m},[...d.map(([g,v])=>Io.createElement(g,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=(n,e)=>{const o=Io.forwardRef(({className:s,...a},c)=>Io.createElement(u1,{ref:c,iconNode:e,className:Pv(`lucide-${s1(ug(n))}`,`lucide-${n}`,s),...a}));return o.displayName=ug(n),o};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],b2=j("activity",c1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],U2=j("arrow-left",f1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],x2=j("arrow-right",d1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],L2=j("arrow-up-right",h1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],k2=j("bell",p1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],P2=j("box",m1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],H2=j("calendar",g1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],O2=j("camera",y1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],V2=j("chart-column",v1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],G2=j("check",_1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],q2=j("chevron-left",T1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],B2=j("chevron-right",E1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],z2=j("circle-x",S1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],F2=j("credit-card",C1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],J2=j("download",A1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Y2=j("external-link",R1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],K2=j("file-text",I1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],$2=j("funnel",M1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],X2=j("globe",N1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Q2=j("instagram",w1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Z2=j("layout-dashboard",D1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],W2=j("layout-grid",b1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],j2=j("linkedin",U1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],eU=j("list",x1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],tU=j("lock",L1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nU=j("log-out",k1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],iU=j("mail",P1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],oU=j("megaphone",H1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],sU=j("menu",O1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],rU=j("message-square",V1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M5 12h14",key:"1ays0h"}]],aU=j("minus",G1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],lU=j("package",q1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],uU=j("pen",B1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cU=j("plus",z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],fU=j("refresh-ccw",F1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dU=j("search",J1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hU=j("settings",Y1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pU=j("shield-check",K1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],mU=j("shield",$1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],gU=j("shopping-bag",X1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],yU=j("shopping-cart",Q1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],vU=j("smartphone",Z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_U=j("sparkles",W1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],TU=j("star",j1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],EU=j("trash-2",eR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],SU=j("trash",tR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],CU=j("trending-up",nR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],AU=j("triangle-alert",iR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],RU=j("truck",oR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],IU=j("twitter",sR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],MU=j("upload",rR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],NU=j("user",aR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wU=j("users",lR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DU=j("x",uR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],bU=j("zap",cR);var fR={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dR,hR;function pR(){return{geminiUrl:dR,vertexUrl:hR}}function mR(n,e,o,s){var a,c;if(!(n!=null&&n.baseUrl)){const d=pR();return e?(a=d.vertexUrl)!==null&&a!==void 0?a:o:(c=d.geminiUrl)!==null&&c!==void 0?c:s}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nn{}function Y(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(s,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const c=e[a];return c!=null?String(c):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function f(n,e,o){for(let c=0;c<e.length-1;c++){const d=e[c];if(d.endsWith("[]")){const m=d.slice(0,-2);if(!(m in n))if(Array.isArray(o))n[m]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(n[m])){const y=n[m];if(Array.isArray(o))for(let g=0;g<y.length;g++){const v=y[g];f(v,e.slice(c+1),o[g])}else for(const g of y)f(g,e.slice(c+1),o)}return}else if(d.endsWith("[0]")){const m=d.slice(0,-3);m in n||(n[m]=[{}]);const y=n[m];f(y[0],e.slice(c+1),o);return}(!n[d]||typeof n[d]!="object")&&(n[d]={}),n=n[d]}const s=e[e.length-1],a=n[s];if(a!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===a)return;if(typeof a=="object"&&typeof o=="object"&&a!==null&&o!==null)Object.assign(a,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[s]=o}function u(n,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let s=0;s<e.length;s++){if(typeof n!="object"||n===null)return o;const a=e[s];if(a.endsWith("[]")){const c=a.slice(0,-2);if(c in n){const d=n[c];return Array.isArray(d)?d.map(m=>u(m,e.slice(s+1),o)):o}else return o}else n=n[a]}return n}catch(s){if(s instanceof TypeError)return o;throw s}}function gR(n,e){for(const[o,s]of Object.entries(e)){const a=o.split("."),c=s.split("."),d=new Set;let m=-1;for(let y=0;y<a.length;y++)if(a[y]==="*"){m=y;break}if(m!==-1&&c.length>m)for(let y=m;y<c.length;y++){const g=c[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&d.add(g)}Gc(n,a,c,0,d)}}function Gc(n,e,o,s,a){if(s>=e.length||typeof n!="object"||n===null)return;const c=e[s];if(c.endsWith("[]")){const d=c.slice(0,-2),m=n;if(d in m&&Array.isArray(m[d]))for(const y of m[d])Gc(y,e,o,s+1,a)}else if(c==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const d=n,m=Object.keys(d).filter(g=>!g.startsWith("_")&&!a.has(g)),y={};for(const g of m)y[g]=d[g];for(const[g,v]of Object.entries(y)){const E=[];for(const T of o.slice(s))T==="*"?E.push(g):E.push(T);f(d,E,v)}for(const g of m)delete d[g]}}else{const d=n;c in d&&Gc(d[c],e,o,s+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function df(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yR(n){const e={},o=u(n,["operationName"]);o!=null&&f(e,["operationName"],o);const s=u(n,["resourceName"]);return s!=null&&f(e,["_url","resourceName"],s),e}function vR(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["metadata"]);s!=null&&f(e,["metadata"],s);const a=u(n,["done"]);a!=null&&f(e,["done"],a);const c=u(n,["error"]);c!=null&&f(e,["error"],c);const d=u(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],TR(d)),e}function _R(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["metadata"]);s!=null&&f(e,["metadata"],s);const a=u(n,["done"]);a!=null&&f(e,["done"],a);const c=u(n,["error"]);c!=null&&f(e,["error"],c);const d=u(n,["response"]);return d!=null&&f(e,["response"],ER(d)),e}function TR(n){const e={},o=u(n,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>SR(d))),f(e,["generatedVideos"],c)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const a=u(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function ER(n){const e={},o=u(n,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>CR(d))),f(e,["generatedVideos"],c)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const a=u(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function SR(n){const e={},o=u(n,["video"]);return o!=null&&f(e,["video"],wR(o)),e}function CR(n){const e={},o=u(n,["_self"]);return o!=null&&f(e,["video"],DR(o)),e}function AR(n){const e={},o=u(n,["operationName"]);return o!=null&&f(e,["_url","operationName"],o),e}function RR(n){const e={},o=u(n,["operationName"]);return o!=null&&f(e,["_url","operationName"],o),e}function IR(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["metadata"]);s!=null&&f(e,["metadata"],s);const a=u(n,["done"]);a!=null&&f(e,["done"],a);const c=u(n,["error"]);c!=null&&f(e,["error"],c);const d=u(n,["response"]);return d!=null&&f(e,["response"],MR(d)),e}function MR(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["parent"]);s!=null&&f(e,["parent"],s);const a=u(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function Hv(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["metadata"]);s!=null&&f(e,["metadata"],s);const a=u(n,["done"]);a!=null&&f(e,["done"],a);const c=u(n,["error"]);c!=null&&f(e,["error"],c);const d=u(n,["response"]);return d!=null&&f(e,["response"],NR(d)),e}function NR(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["parent"]);s!=null&&f(e,["parent"],s);const a=u(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function wR(n){const e={},o=u(n,["uri"]);o!=null&&f(e,["uri"],o);const s=u(n,["encodedVideo"]);s!=null&&f(e,["videoBytes"],df(s));const a=u(n,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function DR(n){const e={},o=u(n,["gcsUri"]);o!=null&&f(e,["uri"],o);const s=u(n,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],df(s));const a=u(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var cg;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(cg||(cg={}));var fg;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(fg||(fg={}));var dg;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(dg||(dg={}));var ri;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(ri||(ri={}));var hg;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(hg||(hg={}));var pg;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(pg||(pg={}));var mg;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(mg||(mg={}));var gg;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(gg||(gg={}));var yg;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(yg||(yg={}));var vg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(vg||(vg={}));var _g;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(_g||(_g={}));var Tg;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(Tg||(Tg={}));var Eg;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Eg||(Eg={}));var Sg;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Sg||(Sg={}));var Cg;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Cg||(Cg={}));var Ag;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(Ag||(Ag={}));var Rg;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Rg||(Rg={}));var Ig;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ig||(Ig={}));var Mg;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Mg||(Mg={}));var Ng;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Ng||(Ng={}));var wg;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(wg||(wg={}));var ka;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(ka||(ka={}));var Dg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Dg||(Dg={}));var bg;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(bg||(bg={}));var Ug;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ug||(Ug={}));var qc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(qc||(qc={}));var xg;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(xg||(xg={}));var Lg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Lg||(Lg={}));var kg;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(kg||(kg={}));var Pg;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Pg||(Pg={}));var Hg;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Hg||(Hg={}));var Og;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Og||(Og={}));var Vg;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(Vg||(Vg={}));var Gg;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Gg||(Gg={}));var qg;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(qg||(qg={}));var Bg;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Bg||(Bg={}));var zg;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(zg||(zg={}));var Fg;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Fg||(Fg={}));var Jg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Jg||(Jg={}));var Yg;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Yg||(Yg={}));var Kg;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Kg||(Kg={}));var $g;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})($g||($g={}));var Xg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Xg||(Xg={}));var Qg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Qg||(Qg={}));var Zg;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(Zg||(Zg={}));var Wg;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Wg||(Wg={}));var jg;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(jg||(jg={}));var ey;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(ey||(ey={}));var ty;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(ty||(ty={}));var ny;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ny||(ny={}));var iy;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(iy||(iy={}));var oy;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(oy||(oy={}));var sy;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(sy||(sy={}));var ry;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ry||(ry={}));var ay;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(ay||(ay={}));var Ao;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Ao||(Ao={}));class Bc{constructor(e){const o={};for(const s of e.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class ks{get text(){var e,o,s,a,c,d,m,y;if(((a=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const E=[];for(const T of(y=(m=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[C,D]of Object.entries(T))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(D!==null||D!==void 0)&&E.push(C);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;v=!0,g+=T.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var e,o,s,a,c,d,m,y;if(((a=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const E of(y=(m=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[T,C]of Object.entries(E))T!=="inlineData"&&(C!==null||C!==void 0)&&v.push(T);E.inlineData&&typeof E.inlineData.data=="string"&&(g+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,o,s,a,c,d,m,y;if(((a=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(m=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,o,s,a,c,d,m,y,g;if(((a=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(m=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,o,s,a,c,d,m,y,g;if(((a=(s=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(m=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class ly{}class uy{}class bR{}class UR{}class xR{}class LR{}class cy{}class fy{}class dy{}class kR{}class Pa{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new Pa;let a;const c=e;return o?a=_R(c):a=vR(c),Object.assign(s,a),s}}class hy{}class py{}class my{}class gy{}class PR{}class HR{}class OR{}class hf{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new hf,c=IR(e);return Object.assign(s,c),s}}class VR{}class GR{}class qR{}class yy{}class BR{get text(){var e,o,s;let a="",c=!1;const d=[];for(const m of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,g]of Object.entries(m))y!=="text"&&y!=="thought"&&g!==null&&d.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;c=!0,a+=m.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?a:void 0}get data(){var e,o,s;let a="";const c=[];for(const d of(s=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[m,y]of Object.entries(d))m!=="inlineData"&&y!==null&&c.push(m);d.inlineData&&typeof d.inlineData.data=="string"&&(a+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class zR{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class pf{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const s=new pf,c=Hv(e);return Object.assign(s,c),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Te(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Ov(n,e){const o=Te(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function Vv(n){return Array.isArray(n)?n.map(e=>Ha(e)):[Ha(n)]}function Ha(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Gv(n){const e=Ha(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function qv(n){const e=Ha(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function vy(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Bv(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>vy(e)):[vy(n)]}function zc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function _y(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Ty(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ot(n){if(n==null)throw new Error("ContentUnion is required");return zc(n)?n:{role:"user",parts:Bv(n)}}function mf(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const s=ot(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(n.isVertexAI()){const o=ot(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>ot(o)):[ot(e)]}function Ot(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(_y(n)||Ty(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ot(n)]}const e=[],o=[],s=zc(n[0]);for(const a of n){const c=zc(a);if(c!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(a);else{if(_y(a)||Ty(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(a)}}return s||e.push({role:"user",parts:Bv(o)}),e}function FR(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(s=>s!=="null");if(o.length===1)e.type=Object.values(ri).includes(o[0].toUpperCase())?o[0].toUpperCase():ri.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of o)e.anyOf.push({type:Object.values(ri).includes(s.toUpperCase())?s.toUpperCase():ri.TYPE_UNSPECIFIED})}}function bo(n){const e={},o=["items"],s=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=n.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,n=c[1]):c[1].type==="null"&&(e.nullable=!0,n=c[0])),n.type instanceof Array&&FR(n.type,e);for(const[d,m]of Object.entries(n))if(m!=null)if(d=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;e.type=Object.values(ri).includes(m.toUpperCase())?m.toUpperCase():ri.TYPE_UNSPECIFIED}else if(o.includes(d))e[d]=bo(m);else if(s.includes(d)){const y=[];for(const g of m){if(g.type=="null"){e.nullable=!0;continue}y.push(bo(g))}e[d]=y}else if(a.includes(d)){const y={};for(const[g,v]of Object.entries(m))y[g]=bo(v);e[d]=y}else{if(d==="additionalProperties")continue;e[d]=m}return e}function gf(n){return bo(n)}function yf(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function vf(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Ho(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=bo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=bo(e.response));return n}function Oo(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function JR(n,e,o,s=1){const a=!e.startsWith(`${o}/`)&&e.split("/").length===s;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:a?`${o}/${e}`:e}function wn(n,e){if(typeof e!="string")throw new Error("name must be a string");return JR(n,e,"cachedContents")}function zv(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function fi(n){return df(n)}function YR(n){return n!=null&&typeof n=="object"&&"name"in n}function KR(n){return n!=null&&typeof n=="object"&&"video"in n}function $R(n){return n!=null&&typeof n=="object"&&"uri"in n}function Fv(n){var e;let o;if(YR(n)&&(o=n.name),!($R(n)&&(o=n.uri,o===void 0))&&!(KR(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const a=o.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${o}`);o=a[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Jv(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function Yv(n){for(const e of["models","tunedModels","publisherModels"])if(XR(n,e))return n[e];return[]}function XR(n,e){return n!==null&&typeof n=="object"&&e in n}function QR(n,e={}){const o=n,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function ZR(n,e={}){const o=[],s=new Set;for(const a of n){const c=a.name;if(s.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);s.add(c);const d=QR(a,e);d.functionDeclarations&&o.push(...d.functionDeclarations)}return{functionDeclarations:o}}function Kv(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,a=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(a>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function WR(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function $v(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const a=o.inlinedResponses;if(!Array.isArray(a)||a.length===0)return n;let c=!1;for(const d of a){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Vo(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Xv(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jR(n){const e={},o=u(n,["responsesFile"]);o!=null&&f(e,["fileName"],o);const s=u(n,["inlinedResponses","inlinedResponses"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>xI(d))),f(e,["inlinedResponses"],c)}const a=u(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["inlinedEmbedContentResponses"],c)}return e}function eI(n){const e={},o=u(n,["predictionsFormat"]);o!=null&&f(e,["format"],o);const s=u(n,["gcsDestination","outputUriPrefix"]);s!=null&&f(e,["gcsUri"],s);const a=u(n,["bigqueryDestination","outputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function tI(n){const e={},o=u(n,["format"]);o!=null&&f(e,["predictionsFormat"],o);const s=u(n,["gcsUri"]);s!=null&&f(e,["gcsDestination","outputUriPrefix"],s);const a=u(n,["bigqueryUri"]);if(a!=null&&f(e,["bigqueryDestination","outputUri"],a),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ia(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["metadata","displayName"]);s!=null&&f(e,["displayName"],s);const a=u(n,["metadata","state"]);a!=null&&f(e,["state"],Xv(a));const c=u(n,["metadata","createTime"]);c!=null&&f(e,["createTime"],c);const d=u(n,["metadata","endTime"]);d!=null&&f(e,["endTime"],d);const m=u(n,["metadata","updateTime"]);m!=null&&f(e,["updateTime"],m);const y=u(n,["metadata","model"]);y!=null&&f(e,["model"],y);const g=u(n,["metadata","output"]);return g!=null&&f(e,["dest"],jR($v(g))),e}function Fc(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["displayName"]);s!=null&&f(e,["displayName"],s);const a=u(n,["state"]);a!=null&&f(e,["state"],Xv(a));const c=u(n,["error"]);c!=null&&f(e,["error"],c);const d=u(n,["createTime"]);d!=null&&f(e,["createTime"],d);const m=u(n,["startTime"]);m!=null&&f(e,["startTime"],m);const y=u(n,["endTime"]);y!=null&&f(e,["endTime"],y);const g=u(n,["updateTime"]);g!=null&&f(e,["updateTime"],g);const v=u(n,["model"]);v!=null&&f(e,["model"],v);const E=u(n,["inputConfig"]);E!=null&&f(e,["src"],nI(E));const T=u(n,["outputConfig"]);T!=null&&f(e,["dest"],eI($v(T)));const C=u(n,["completionStats"]);return C!=null&&f(e,["completionStats"],C),e}function nI(n){const e={},o=u(n,["instancesFormat"]);o!=null&&f(e,["format"],o);const s=u(n,["gcsSource","uris"]);s!=null&&f(e,["gcsUri"],s);const a=u(n,["bigquerySource","inputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function iI(n,e){const o={};if(u(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(e,["fileName"]);s!=null&&f(o,["fileName"],s);const a=u(e,["inlinedRequests"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>UI(n,d))),f(o,["requests","requests"],c)}return o}function oI(n){const e={},o=u(n,["format"]);o!=null&&f(e,["instancesFormat"],o);const s=u(n,["gcsUri"]);s!=null&&f(e,["gcsSource","uris"],s);const a=u(n,["bigqueryUri"]);if(a!=null&&f(e,["bigquerySource","inputUri"],a),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function sI(n){const e={},o=u(n,["data"]);if(o!=null&&f(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function rI(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],Vo(n,s)),o}function aI(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],Vo(n,s)),o}function lI(n){const e={},o=u(n,["content"]);o!=null&&f(e,["content"],o);const s=u(n,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],uI(s));const a=u(n,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const c=u(n,["finishReason"]);c!=null&&f(e,["finishReason"],c);const d=u(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const m=u(n,["groundingMetadata"]);m!=null&&f(e,["groundingMetadata"],m);const y=u(n,["index"]);y!=null&&f(e,["index"],y);const g=u(n,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=u(n,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(C=>C)),f(e,["safetyRatings"],T)}const E=u(n,["urlContextMetadata"]);return E!=null&&f(e,["urlContextMetadata"],E),e}function uI(n){const e={},o=u(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>a)),f(e,["citations"],s)}return e}function Qv(n){const e={},o=u(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>GI(c))),f(e,["parts"],a)}const s=u(n,["role"]);return s!=null&&f(e,["role"],s),e}function cI(n,e){const o={},s=u(n,["displayName"]);if(e!==void 0&&s!=null&&f(e,["batch","displayName"],s),u(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function fI(n,e){const o={},s=u(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const a=u(n,["dest"]);return e!==void 0&&a!=null&&f(e,["outputConfig"],tI(WR(a))),o}function Ey(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["src"]);a!=null&&f(o,["batch","inputConfig"],iI(n,Kv(n,a)));const c=u(e,["config"]);return c!=null&&cI(c,o),o}function dI(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["model"],Te(n,s));const a=u(e,["src"]);a!=null&&f(o,["inputConfig"],oI(Kv(n,a)));const c=u(e,["config"]);return c!=null&&fI(c,o),o}function hI(n,e){const o={},s=u(n,["displayName"]);return e!==void 0&&s!=null&&f(e,["batch","displayName"],s),o}function pI(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["src"]);a!=null&&f(o,["batch","inputConfig"],EI(n,a));const c=u(e,["config"]);return c!=null&&hI(c,o),o}function mI(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],Vo(n,s)),o}function gI(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],Vo(n,s)),o}function yI(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["name"]);s!=null&&f(e,["name"],s);const a=u(n,["done"]);a!=null&&f(e,["done"],a);const c=u(n,["error"]);return c!=null&&f(e,["error"],c),e}function vI(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["name"]);s!=null&&f(e,["name"],s);const a=u(n,["done"]);a!=null&&f(e,["done"],a);const c=u(n,["error"]);return c!=null&&f(e,["error"],c),e}function _I(n,e){const o={},s=u(e,["contents"]);if(s!=null){let c=mf(n,s);Array.isArray(c)&&(c=c.map(d=>d)),f(o,["requests[]","request","content"],c)}const a=u(e,["config"]);return a!=null&&(f(o,["_self"],TI(a,o)),gR(o,{"requests[].*":"requests[].request.*"})),o}function TI(n,e){const o={},s=u(n,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const a=u(n,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const c=u(n,["outputDimensionality"]);if(e!==void 0&&c!=null&&f(e,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function EI(n,e){const o={},s=u(e,["fileName"]);s!=null&&f(o,["file_name"],s);const a=u(e,["inlinedRequests"]);return a!=null&&f(o,["requests"],_I(n,a)),o}function SI(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function CI(n){const e={},o=u(n,["id"]);o!=null&&f(e,["id"],o);const s=u(n,["args"]);s!=null&&f(e,["args"],s);const a=u(n,["name"]);if(a!=null&&f(e,["name"],a),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function AI(n){const e={},o=u(n,["allowedFunctionNames"]);o!=null&&f(e,["allowedFunctionNames"],o);const s=u(n,["mode"]);if(s!=null&&f(e,["mode"],s),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function RI(n,e,o){const s={},a=u(e,["systemInstruction"]);o!==void 0&&a!=null&&f(o,["systemInstruction"],Qv(ot(a)));const c=u(e,["temperature"]);c!=null&&f(s,["temperature"],c);const d=u(e,["topP"]);d!=null&&f(s,["topP"],d);const m=u(e,["topK"]);m!=null&&f(s,["topK"],m);const y=u(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const g=u(e,["maxOutputTokens"]);g!=null&&f(s,["maxOutputTokens"],g);const v=u(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const E=u(e,["responseLogprobs"]);E!=null&&f(s,["responseLogprobs"],E);const T=u(e,["logprobs"]);T!=null&&f(s,["logprobs"],T);const C=u(e,["presencePenalty"]);C!=null&&f(s,["presencePenalty"],C);const D=u(e,["frequencyPenalty"]);D!=null&&f(s,["frequencyPenalty"],D);const k=u(e,["seed"]);k!=null&&f(s,["seed"],k);const x=u(e,["responseMimeType"]);x!=null&&f(s,["responseMimeType"],x);const G=u(e,["responseSchema"]);G!=null&&f(s,["responseSchema"],gf(G));const z=u(e,["responseJsonSchema"]);if(z!=null&&f(s,["responseJsonSchema"],z),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const q=u(e,["safetySettings"]);if(o!==void 0&&q!=null){let Se=q;Array.isArray(Se)&&(Se=Se.map(ze=>qI(ze))),f(o,["safetySettings"],Se)}const K=u(e,["tools"]);if(o!==void 0&&K!=null){let Se=Oo(K);Array.isArray(Se)&&(Se=Se.map(ze=>zI(Ho(ze)))),f(o,["tools"],Se)}const ee=u(e,["toolConfig"]);if(o!==void 0&&ee!=null&&f(o,["toolConfig"],BI(ee)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(e,["cachedContent"]);o!==void 0&&te!=null&&f(o,["cachedContent"],wn(n,te));const F=u(e,["responseModalities"]);F!=null&&f(s,["responseModalities"],F);const ge=u(e,["mediaResolution"]);ge!=null&&f(s,["mediaResolution"],ge);const Z=u(e,["speechConfig"]);if(Z!=null&&f(s,["speechConfig"],yf(Z)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const he=u(e,["thinkingConfig"]);he!=null&&f(s,["thinkingConfig"],he);const Ae=u(e,["imageConfig"]);Ae!=null&&f(s,["imageConfig"],bI(Ae));const He=u(e,["enableEnhancedCivicAnswers"]);return He!=null&&f(s,["enableEnhancedCivicAnswers"],He),s}function II(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>lI(g))),f(e,["candidates"],y)}const a=u(n,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const c=u(n,["promptFeedback"]);c!=null&&f(e,["promptFeedback"],c);const d=u(n,["responseId"]);d!=null&&f(e,["responseId"],d);const m=u(n,["usageMetadata"]);return m!=null&&f(e,["usageMetadata"],m),e}function MI(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],Vo(n,s)),o}function NI(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],Vo(n,s)),o}function wI(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function DI(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function bI(n){const e={},o=u(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=u(n,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),u(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function UI(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["request","model"],Te(n,s));const a=u(e,["contents"]);if(a!=null){let m=Ot(a);Array.isArray(m)&&(m=m.map(y=>Qv(y))),f(o,["request","contents"],m)}const c=u(e,["metadata"]);c!=null&&f(o,["metadata"],c);const d=u(e,["config"]);return d!=null&&f(o,["request","generationConfig"],RI(n,d,u(o,["request"],{}))),o}function xI(n){const e={},o=u(n,["response"]);o!=null&&f(e,["response"],II(o));const s=u(n,["error"]);return s!=null&&f(e,["error"],s),e}function LI(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=u(n,["pageToken"]);if(e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),u(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function kI(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=u(n,["pageToken"]);e!==void 0&&a!=null&&f(e,["_query","pageToken"],a);const c=u(n,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),o}function PI(n){const e={},o=u(n,["config"]);return o!=null&&LI(o,e),e}function HI(n){const e={},o=u(n,["config"]);return o!=null&&kI(o,e),e}function OI(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=u(n,["operations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Ia(d))),f(e,["batchJobs"],c)}return e}function VI(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=u(n,["batchPredictionJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Fc(d))),f(e,["batchJobs"],c)}return e}function GI(n){const e={},o=u(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=u(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const c=u(n,["fileData"]);c!=null&&f(e,["fileData"],SI(c));const d=u(n,["functionCall"]);d!=null&&f(e,["functionCall"],CI(d));const m=u(n,["functionResponse"]);m!=null&&f(e,["functionResponse"],m);const y=u(n,["inlineData"]);y!=null&&f(e,["inlineData"],sI(y));const g=u(n,["text"]);g!=null&&f(e,["text"],g);const v=u(n,["thought"]);v!=null&&f(e,["thought"],v);const E=u(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const T=u(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function qI(n){const e={},o=u(n,["category"]);if(o!=null&&f(e,["category"],o),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(n,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function BI(n){const e={},o=u(n,["retrievalConfig"]);o!=null&&f(e,["retrievalConfig"],o);const s=u(n,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],AI(s)),e}function zI(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&f(e,["computerUse"],o);const s=u(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=u(n,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=u(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],wI(d));const m=u(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],DI(m));const y=u(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const g=u(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var In;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(In||(In={}));class Pi{constructor(e,o,s,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,s,a)}init(e,o,s){var a,c;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!s||Object.keys(s).length===0?d={config:{}}:typeof s=="object"?d=Object.assign({},s):d=s,d.config&&(d.config.pageToken=o.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(a=d.config)===null||a===void 0?void 0:a.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FI extends Nn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Pi(In.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=Ey(this.apiClient,e),s=o._url,a=Y("{model}:batchGenerateContent",s),m=o.batch.inputConfig.requests,y=m.requests,g=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const T=E.systemInstruction;delete E.systemInstruction;const C=E.request;C.systemInstruction=T,E.request=C}g.push(E)}return m.requests=g,delete o.config,delete o._url,delete o._query,{path:a,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const s=o?Object.assign({},o):{},a=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${a}`),s.dest===void 0){const c=this.getGcsUri(e),d=this.getBigqueryUri(e);if(c)c.endsWith(".jsonl")?s.dest=`${c.slice(0,-6)}/dest`:s.dest=`${c}_dest_${a}`;else if(d)s.dest=`${d}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=dI(this.apiClient,e);return m=Y("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Fc(v))}else{const g=Ey(this.apiClient,e);return m=Y("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Ia(v))}}async createEmbeddingsInternal(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=pI(this.apiClient,e);return c=Y("{model}:asyncBatchEmbedContent",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>Ia(y))}}async get(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=NI(this.apiClient,e);return m=Y("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Fc(v))}else{const g=MI(this.apiClient,e);return m=Y("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Ia(v))}}async cancel(e){var o,s,a,c;let d="",m={};if(this.apiClient.isVertexAI()){const y=aI(this.apiClient,e);d=Y("batchPredictionJobs/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=rI(this.apiClient,e);d=Y("batches/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=HI(e);return m=Y("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=VI(v),T=new yy;return Object.assign(T,E),T})}else{const g=PI(e);return m=Y("batches",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=OI(v),T=new yy;return Object.assign(T,E),T})}}async delete(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=gI(this.apiClient,e);return m=Y("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>vI(v))}else{const g=mI(this.apiClient,e);return m=Y("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>yI(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JI(n){const e={},o=u(n,["data"]);if(o!=null&&f(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Sy(n){const e={},o=u(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>pM(c))),f(e,["parts"],a)}const s=u(n,["role"]);return s!=null&&f(e,["role"],s),e}function YI(n,e){const o={},s=u(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=u(n,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const c=u(n,["displayName"]);e!==void 0&&c!=null&&f(e,["displayName"],c);const d=u(n,["contents"]);if(e!==void 0&&d!=null){let v=Ot(d);Array.isArray(v)&&(v=v.map(E=>Sy(E))),f(e,["contents"],v)}const m=u(n,["systemInstruction"]);e!==void 0&&m!=null&&f(e,["systemInstruction"],Sy(ot(m)));const y=u(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>gM(E))),f(e,["tools"],v)}const g=u(n,["toolConfig"]);if(e!==void 0&&g!=null&&f(e,["toolConfig"],mM(g)),u(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function KI(n,e){const o={},s=u(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=u(n,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const c=u(n,["displayName"]);e!==void 0&&c!=null&&f(e,["displayName"],c);const d=u(n,["contents"]);if(e!==void 0&&d!=null){let E=Ot(d);Array.isArray(E)&&(E=E.map(T=>T)),f(e,["contents"],E)}const m=u(n,["systemInstruction"]);e!==void 0&&m!=null&&f(e,["systemInstruction"],ot(m));const y=u(n,["tools"]);if(e!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(T=>yM(T))),f(e,["tools"],E)}const g=u(n,["toolConfig"]);e!==void 0&&g!=null&&f(e,["toolConfig"],g);const v=u(n,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),o}function $I(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["model"],Ov(n,s));const a=u(e,["config"]);return a!=null&&YI(a,o),o}function XI(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["model"],Ov(n,s));const a=u(e,["config"]);return a!=null&&KI(a,o),o}function QI(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],wn(n,s)),o}function ZI(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],wn(n,s)),o}function WI(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function jI(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function eM(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function tM(n){const e={},o=u(n,["id"]);o!=null&&f(e,["id"],o);const s=u(n,["args"]);s!=null&&f(e,["args"],s);const a=u(n,["name"]);if(a!=null&&f(e,["name"],a),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nM(n){const e={},o=u(n,["allowedFunctionNames"]);o!=null&&f(e,["allowedFunctionNames"],o);const s=u(n,["mode"]);if(s!=null&&f(e,["mode"],s),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function iM(n){const e={},o=u(n,["description"]);o!=null&&f(e,["description"],o);const s=u(n,["name"]);s!=null&&f(e,["name"],s);const a=u(n,["parameters"]);a!=null&&f(e,["parameters"],a);const c=u(n,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const d=u(n,["response"]);d!=null&&f(e,["response"],d);const m=u(n,["responseJsonSchema"]);if(m!=null&&f(e,["responseJsonSchema"],m),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function oM(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],wn(n,s)),o}function sM(n,e){const o={},s=u(e,["name"]);return s!=null&&f(o,["_url","name"],wn(n,s)),o}function rM(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function aM(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function lM(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=u(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),o}function uM(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=u(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),o}function cM(n){const e={},o=u(n,["config"]);return o!=null&&lM(o,e),e}function fM(n){const e={},o=u(n,["config"]);return o!=null&&uM(o,e),e}function dM(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=u(n,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["cachedContents"],c)}return e}function hM(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=u(n,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["cachedContents"],c)}return e}function pM(n){const e={},o=u(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=u(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const c=u(n,["fileData"]);c!=null&&f(e,["fileData"],eM(c));const d=u(n,["functionCall"]);d!=null&&f(e,["functionCall"],tM(d));const m=u(n,["functionResponse"]);m!=null&&f(e,["functionResponse"],m);const y=u(n,["inlineData"]);y!=null&&f(e,["inlineData"],JI(y));const g=u(n,["text"]);g!=null&&f(e,["text"],g);const v=u(n,["thought"]);v!=null&&f(e,["thought"],v);const E=u(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const T=u(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function mM(n){const e={},o=u(n,["retrievalConfig"]);o!=null&&f(e,["retrievalConfig"],o);const s=u(n,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],nM(s)),e}function gM(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&f(e,["computerUse"],o);const s=u(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=u(n,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=u(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],rM(d));const m=u(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],aM(m));const y=u(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const g=u(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function yM(n){const e={},o=u(n,["retrieval"]);o!=null&&f(e,["retrieval"],o);const s=u(n,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=u(n,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const c=u(n,["enterpriseWebSearch"]);c!=null&&f(e,["enterpriseWebSearch"],c);const d=u(n,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(T=>iM(T))),f(e,["functionDeclarations"],E)}const m=u(n,["googleMaps"]);m!=null&&f(e,["googleMaps"],m);const y=u(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const g=u(n,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const v=u(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function vM(n,e){const o={},s=u(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=u(n,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),o}function _M(n,e){const o={},s=u(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=u(n,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),o}function TM(n,e){const o={},s=u(e,["name"]);s!=null&&f(o,["_url","name"],wn(n,s));const a=u(e,["config"]);return a!=null&&vM(a,o),o}function EM(n,e){const o={},s=u(e,["name"]);s!=null&&f(o,["_url","name"],wn(n,s));const a=u(e,["config"]);return a!=null&&_M(a,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SM extends Nn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Pi(In.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=XI(this.apiClient,e);return m=Y("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=$I(this.apiClient,e);return m=Y("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=sM(this.apiClient,e);return m=Y("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=oM(this.apiClient,e);return m=Y("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=ZI(this.apiClient,e);return m=Y("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=jI(v),T=new my;return Object.assign(T,E),T})}else{const g=QI(this.apiClient,e);return m=Y("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=WI(v),T=new my;return Object.assign(T,E),T})}}async update(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=EM(this.apiClient,e);return m=Y("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=TM(this.apiClient,e);return m=Y("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=fM(e);return m=Y("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=hM(v),T=new gy;return Object.assign(T,E),T})}else{const g=cM(e);return m=Y("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=dM(v),T=new gy;return Object.assign(T,E),T})}}}function Oa(n,e){var o={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(o[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(o[s[a]]=n[s[a]]);return o}function Cy(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],s=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(n){return this instanceof se?(this.v=n,this):new se(n)}function Jt(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(n,e||[]),a,c=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(C){return function(D){return Promise.resolve(D).then(C,E)}}function m(C,D){s[C]&&(a[C]=function(k){return new Promise(function(x,G){c.push([C,k,x,G])>1||y(C,k)})},D&&(a[C]=D(a[C])))}function y(C,D){try{g(s[C](D))}catch(k){T(c[0][3],k)}}function g(C){C.value instanceof se?Promise.resolve(C.value.v).then(v,E):T(c[0][2],C)}function v(C){y("next",C)}function E(C){y("throw",C)}function T(C,D){C(D),c.shift(),c.length&&y(c[0][0],c[0][1])}}function Yt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof Cy=="function"?Cy(n):n[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(c){o[c]=n[c]&&function(d){return new Promise(function(m,y){d=n[c](d),a(m,y,d.done,d.value)})}}function a(c,d,m,y){Promise.resolve(y).then(function(g){c({value:g,done:m})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CM(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:Zv(o)}function Zv(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function AM(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Ay(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let s=0;for(;s<o;)if(n[s].role==="user")e.push(n[s]),s++;else{const a=[];let c=!0;for(;s<o&&n[s].role==="model";)a.push(n[s]),c&&!Zv(n[s])&&(c=!1),s++;c?e.push(...a):e.pop()}return e}class RM{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new IM(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class IM{constructor(e,o,s,a={},c=[]){this.apiClient=e,this.modelsModule=o,this.model=s,this.config=a,this.history=c,this.sendPromise=Promise.resolve(),AM(c)}async sendMessage(e){var o;await this.sendPromise;const s=ot(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,d,m;const y=await a,g=(d=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let T=[];v!=null&&(T=(m=v.slice(E))!==null&&m!==void 0?m:[]);const C=g?[g]:[];this.recordHistory(s,C,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var o;await this.sendPromise;const s=ot(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const c=await a;return this.processStreamResponse(c,s)}getHistory(e=!1){const o=e?Ay(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){return Jt(this,arguments,function*(){var a,c,d,m,y,g;const v=[];try{for(var E=!0,T=Yt(e),C;C=yield se(T.next()),a=C.done,!a;E=!0){m=C.value,E=!1;const D=m;if(CM(D)){const k=(g=(y=D.candidates)===null||y===void 0?void 0:y[0])===null||g===void 0?void 0:g.content;k!==void 0&&v.push(k)}yield yield se(D)}}catch(D){c={error:D}}finally{try{!E&&!a&&(d=T.return)&&(yield se(d.call(T)))}finally{if(c)throw c.error}}this.recordHistory(o,v)})}recordHistory(e,o,s){let a=[];o.length>0&&o.every(c=>c.role!==void 0)?a=o:a.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Ay(s)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ja extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ja.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MM(n){const e={},o=u(n,["file"]);return o!=null&&f(e,["file"],o),e}function NM(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function wM(n){const e={},o=u(n,["name"]);return o!=null&&f(e,["_url","file"],Fv(o)),e}function DM(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function bM(n){const e={},o=u(n,["name"]);return o!=null&&f(e,["_url","file"],Fv(o)),e}function UM(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=u(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),o}function xM(n){const e={},o=u(n,["config"]);return o!=null&&UM(o,e),e}function LM(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=u(n,["files"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["files"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kM extends Nn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Pi(In.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=xM(e);return c=Y("files",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=LM(y),v=new VR;return Object.assign(v,g),v})}}async createInternal(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=MM(e);return c=Y("upload/v1beta/files",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=NM(y),v=new GR;return Object.assign(v,g),v})}}async get(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=bM(e);return c=Y("files/{file}",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=wM(e);return c=Y("files/{file}",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=DM(y),v=new qR;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ma(n){const e={},o=u(n,["data"]);if(o!=null&&f(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function PM(n){const e={},o=u(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>WM(c))),f(e,["parts"],a)}const s=u(n,["role"]);return s!=null&&f(e,["role"],s),e}function HM(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function OM(n){const e={},o=u(n,["id"]);o!=null&&f(e,["id"],o);const s=u(n,["args"]);s!=null&&f(e,["args"],s);const a=u(n,["name"]);if(a!=null&&f(e,["name"],a),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function VM(n){const e={},o=u(n,["description"]);o!=null&&f(e,["description"],o);const s=u(n,["name"]);s!=null&&f(e,["name"],s);const a=u(n,["parameters"]);a!=null&&f(e,["parameters"],a);const c=u(n,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const d=u(n,["response"]);d!=null&&f(e,["response"],d);const m=u(n,["responseJsonSchema"]);if(m!=null&&f(e,["responseJsonSchema"],m),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function GM(n){const e={},o=u(n,["modelSelectionConfig"]);o!=null&&f(e,["modelConfig"],o);const s=u(n,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const a=u(n,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const c=u(n,["candidateCount"]);c!=null&&f(e,["candidateCount"],c);const d=u(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const m=u(n,["frequencyPenalty"]);m!=null&&f(e,["frequencyPenalty"],m);const y=u(n,["logprobs"]);y!=null&&f(e,["logprobs"],y);const g=u(n,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const v=u(n,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const E=u(n,["presencePenalty"]);E!=null&&f(e,["presencePenalty"],E);const T=u(n,["responseLogprobs"]);T!=null&&f(e,["responseLogprobs"],T);const C=u(n,["responseMimeType"]);C!=null&&f(e,["responseMimeType"],C);const D=u(n,["responseModalities"]);D!=null&&f(e,["responseModalities"],D);const k=u(n,["responseSchema"]);k!=null&&f(e,["responseSchema"],k);const x=u(n,["routingConfig"]);x!=null&&f(e,["routingConfig"],x);const G=u(n,["seed"]);G!=null&&f(e,["seed"],G);const z=u(n,["speechConfig"]);z!=null&&f(e,["speechConfig"],z);const q=u(n,["stopSequences"]);q!=null&&f(e,["stopSequences"],q);const K=u(n,["temperature"]);K!=null&&f(e,["temperature"],K);const ee=u(n,["thinkingConfig"]);ee!=null&&f(e,["thinkingConfig"],ee);const te=u(n,["topK"]);te!=null&&f(e,["topK"],te);const F=u(n,["topP"]);if(F!=null&&f(e,["topP"],F),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function qM(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function BM(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function zM(n,e){const o={},s=u(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const a=u(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const c=u(n,["temperature"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","temperature"],c);const d=u(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const m=u(n,["topK"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","topK"],m);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=u(n,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=u(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const E=u(n,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],vf(E));const T=u(n,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const C=u(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],C);const D=u(n,["systemInstruction"]);e!==void 0&&D!=null&&f(e,["setup","systemInstruction"],PM(ot(D)));const k=u(n,["tools"]);if(e!==void 0&&k!=null){let te=Oo(k);Array.isArray(te)&&(te=te.map(F=>eN(Ho(F)))),f(e,["setup","tools"],te)}const x=u(n,["sessionResumption"]);e!==void 0&&x!=null&&f(e,["setup","sessionResumption"],jM(x));const G=u(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&f(e,["setup","inputAudioTranscription"],G);const z=u(n,["outputAudioTranscription"]);e!==void 0&&z!=null&&f(e,["setup","outputAudioTranscription"],z);const q=u(n,["realtimeInputConfig"]);e!==void 0&&q!=null&&f(e,["setup","realtimeInputConfig"],q);const K=u(n,["contextWindowCompression"]);e!==void 0&&K!=null&&f(e,["setup","contextWindowCompression"],K);const ee=u(n,["proactivity"]);if(e!==void 0&&ee!=null&&f(e,["setup","proactivity"],ee),u(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function FM(n,e){const o={},s=u(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],GM(s));const a=u(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const c=u(n,["temperature"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","temperature"],c);const d=u(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const m=u(n,["topK"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","topK"],m);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=u(n,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=u(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const E=u(n,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],vf(E));const T=u(n,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const C=u(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],C);const D=u(n,["systemInstruction"]);e!==void 0&&D!=null&&f(e,["setup","systemInstruction"],ot(D));const k=u(n,["tools"]);if(e!==void 0&&k!=null){let F=Oo(k);Array.isArray(F)&&(F=F.map(ge=>tN(Ho(ge)))),f(e,["setup","tools"],F)}const x=u(n,["sessionResumption"]);e!==void 0&&x!=null&&f(e,["setup","sessionResumption"],x);const G=u(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&f(e,["setup","inputAudioTranscription"],G);const z=u(n,["outputAudioTranscription"]);e!==void 0&&z!=null&&f(e,["setup","outputAudioTranscription"],z);const q=u(n,["realtimeInputConfig"]);e!==void 0&&q!=null&&f(e,["setup","realtimeInputConfig"],q);const K=u(n,["contextWindowCompression"]);e!==void 0&&K!=null&&f(e,["setup","contextWindowCompression"],K);const ee=u(n,["proactivity"]);e!==void 0&&ee!=null&&f(e,["setup","proactivity"],ee);const te=u(n,["explicitVadSignal"]);return e!==void 0&&te!=null&&f(e,["setup","explicitVadSignal"],te),o}function JM(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["setup","model"],Te(n,s));const a=u(e,["config"]);return a!=null&&f(o,["config"],zM(a,o)),o}function YM(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["setup","model"],Te(n,s));const a=u(e,["config"]);return a!=null&&f(o,["config"],FM(a,o)),o}function KM(n){const e={},o=u(n,["musicGenerationConfig"]);return o!=null&&f(e,["musicGenerationConfig"],o),e}function $M(n){const e={},o=u(n,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>a)),f(e,["weightedPrompts"],s)}return e}function XM(n){const e={},o=u(n,["media"]);if(o!=null){let g=Vv(o);Array.isArray(g)&&(g=g.map(v=>Ma(v))),f(e,["mediaChunks"],g)}const s=u(n,["audio"]);s!=null&&f(e,["audio"],Ma(qv(s)));const a=u(n,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const c=u(n,["video"]);c!=null&&f(e,["video"],Ma(Gv(c)));const d=u(n,["text"]);d!=null&&f(e,["text"],d);const m=u(n,["activityStart"]);m!=null&&f(e,["activityStart"],m);const y=u(n,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function QM(n){const e={},o=u(n,["media"]);if(o!=null){let g=Vv(o);Array.isArray(g)&&(g=g.map(v=>v)),f(e,["mediaChunks"],g)}const s=u(n,["audio"]);s!=null&&f(e,["audio"],qv(s));const a=u(n,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const c=u(n,["video"]);c!=null&&f(e,["video"],Gv(c));const d=u(n,["text"]);d!=null&&f(e,["text"],d);const m=u(n,["activityStart"]);m!=null&&f(e,["activityStart"],m);const y=u(n,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function ZM(n){const e={},o=u(n,["setupComplete"]);o!=null&&f(e,["setupComplete"],o);const s=u(n,["serverContent"]);s!=null&&f(e,["serverContent"],s);const a=u(n,["toolCall"]);a!=null&&f(e,["toolCall"],a);const c=u(n,["toolCallCancellation"]);c!=null&&f(e,["toolCallCancellation"],c);const d=u(n,["usageMetadata"]);d!=null&&f(e,["usageMetadata"],nN(d));const m=u(n,["goAway"]);m!=null&&f(e,["goAway"],m);const y=u(n,["sessionResumptionUpdate"]);y!=null&&f(e,["sessionResumptionUpdate"],y);const g=u(n,["voiceActivityDetectionSignal"]);g!=null&&f(e,["voiceActivityDetectionSignal"],g);const v=u(n,["voiceActivity"]);return v!=null&&f(e,["voiceActivity"],iN(v)),e}function WM(n){const e={},o=u(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=u(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const c=u(n,["fileData"]);c!=null&&f(e,["fileData"],HM(c));const d=u(n,["functionCall"]);d!=null&&f(e,["functionCall"],OM(d));const m=u(n,["functionResponse"]);m!=null&&f(e,["functionResponse"],m);const y=u(n,["inlineData"]);y!=null&&f(e,["inlineData"],Ma(y));const g=u(n,["text"]);g!=null&&f(e,["text"],g);const v=u(n,["thought"]);v!=null&&f(e,["thought"],v);const E=u(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const T=u(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function jM(n){const e={},o=u(n,["handle"]);if(o!=null&&f(e,["handle"],o),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function eN(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&f(e,["computerUse"],o);const s=u(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=u(n,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=u(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],qM(d));const m=u(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],BM(m));const y=u(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const g=u(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function tN(n){const e={},o=u(n,["retrieval"]);o!=null&&f(e,["retrieval"],o);const s=u(n,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=u(n,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const c=u(n,["enterpriseWebSearch"]);c!=null&&f(e,["enterpriseWebSearch"],c);const d=u(n,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(T=>VM(T))),f(e,["functionDeclarations"],E)}const m=u(n,["googleMaps"]);m!=null&&f(e,["googleMaps"],m);const y=u(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const g=u(n,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const v=u(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function nN(n){const e={},o=u(n,["promptTokenCount"]);o!=null&&f(e,["promptTokenCount"],o);const s=u(n,["cachedContentTokenCount"]);s!=null&&f(e,["cachedContentTokenCount"],s);const a=u(n,["candidatesTokenCount"]);a!=null&&f(e,["responseTokenCount"],a);const c=u(n,["toolUsePromptTokenCount"]);c!=null&&f(e,["toolUsePromptTokenCount"],c);const d=u(n,["thoughtsTokenCount"]);d!=null&&f(e,["thoughtsTokenCount"],d);const m=u(n,["totalTokenCount"]);m!=null&&f(e,["totalTokenCount"],m);const y=u(n,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(D=>D)),f(e,["promptTokensDetails"],C)}const g=u(n,["cacheTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(D=>D)),f(e,["cacheTokensDetails"],C)}const v=u(n,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(D=>D)),f(e,["responseTokensDetails"],C)}const E=u(n,["toolUsePromptTokensDetails"]);if(E!=null){let C=E;Array.isArray(C)&&(C=C.map(D=>D)),f(e,["toolUsePromptTokensDetails"],C)}const T=u(n,["trafficType"]);return T!=null&&f(e,["trafficType"],T),e}function iN(n){const e={},o=u(n,["type"]);return o!=null&&f(e,["voiceActivityType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oN(n){const e={},o=u(n,["data"]);if(o!=null&&f(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function sN(n){const e={},o=u(n,["content"]);o!=null&&f(e,["content"],o);const s=u(n,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],rN(s));const a=u(n,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const c=u(n,["finishReason"]);c!=null&&f(e,["finishReason"],c);const d=u(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const m=u(n,["groundingMetadata"]);m!=null&&f(e,["groundingMetadata"],m);const y=u(n,["index"]);y!=null&&f(e,["index"],y);const g=u(n,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=u(n,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(C=>C)),f(e,["safetyRatings"],T)}const E=u(n,["urlContextMetadata"]);return E!=null&&f(e,["urlContextMetadata"],E),e}function rN(n){const e={},o=u(n,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>a)),f(e,["citations"],s)}return e}function aN(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["contents"]);if(a!=null){let c=Ot(a);Array.isArray(c)&&(c=c.map(d=>d)),f(o,["contents"],c)}return o}function lN(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["tokensInfo"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>c)),f(e,["tokensInfo"],a)}return e}function uN(n){const e={},o=u(n,["values"]);o!=null&&f(e,["values"],o);const s=u(n,["statistics"]);return s!=null&&f(e,["statistics"],cN(s)),e}function cN(n){const e={},o=u(n,["truncated"]);o!=null&&f(e,["truncated"],o);const s=u(n,["token_count"]);return s!=null&&f(e,["tokenCount"],s),e}function Ya(n){const e={},o=u(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>_w(c))),f(e,["parts"],a)}const s=u(n,["role"]);return s!=null&&f(e,["role"],s),e}function fN(n){const e={},o=u(n,["controlType"]);o!=null&&f(e,["controlType"],o);const s=u(n,["enableControlImageComputation"]);return s!=null&&f(e,["computeControl"],s),e}function dN(n){const e={};if(u(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function hN(n,e){const o={},s=u(n,["systemInstruction"]);e!==void 0&&s!=null&&f(e,["systemInstruction"],ot(s));const a=u(n,["tools"]);if(e!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>t0(m))),f(e,["tools"],d)}const c=u(n,["generationConfig"]);return e!==void 0&&c!=null&&f(e,["generationConfig"],ow(c)),o}function pN(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["contents"]);if(a!=null){let d=Ot(a);Array.isArray(d)&&(d=d.map(m=>Ya(m))),f(o,["contents"],d)}const c=u(e,["config"]);return c!=null&&dN(c),o}function mN(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["contents"]);if(a!=null){let d=Ot(a);Array.isArray(d)&&(d=d.map(m=>m)),f(o,["contents"],d)}const c=u(e,["config"]);return c!=null&&hN(c,o),o}function gN(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["totalTokens"]);s!=null&&f(e,["totalTokens"],s);const a=u(n,["cachedContentTokenCount"]);return a!=null&&f(e,["cachedContentTokenCount"],a),e}function yN(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["totalTokens"]);return s!=null&&f(e,["totalTokens"],s),e}function vN(n,e){const o={},s=u(e,["model"]);return s!=null&&f(o,["_url","name"],Te(n,s)),o}function _N(n,e){const o={},s=u(e,["model"]);return s!=null&&f(o,["_url","name"],Te(n,s)),o}function TN(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function EN(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}function SN(n,e){const o={},s=u(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const a=u(n,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const c=u(n,["numberOfImages"]);e!==void 0&&c!=null&&f(e,["parameters","sampleCount"],c);const d=u(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const m=u(n,["guidanceScale"]);e!==void 0&&m!=null&&f(e,["parameters","guidanceScale"],m);const y=u(n,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const g=u(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const v=u(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const E=u(n,["includeSafetyAttributes"]);e!==void 0&&E!=null&&f(e,["parameters","includeSafetyAttributes"],E);const T=u(n,["includeRaiReason"]);e!==void 0&&T!=null&&f(e,["parameters","includeRaiReason"],T);const C=u(n,["language"]);e!==void 0&&C!=null&&f(e,["parameters","language"],C);const D=u(n,["outputMimeType"]);e!==void 0&&D!=null&&f(e,["parameters","outputOptions","mimeType"],D);const k=u(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&f(e,["parameters","outputOptions","compressionQuality"],k);const x=u(n,["addWatermark"]);e!==void 0&&x!=null&&f(e,["parameters","addWatermark"],x);const G=u(n,["labels"]);e!==void 0&&G!=null&&f(e,["labels"],G);const z=u(n,["editMode"]);e!==void 0&&z!=null&&f(e,["parameters","editMode"],z);const q=u(n,["baseSteps"]);return e!==void 0&&q!=null&&f(e,["parameters","editConfig","baseSteps"],q),o}function CN(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const c=u(e,["referenceImages"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>Rw(y))),f(o,["instances[0]","referenceImages"],m)}const d=u(e,["config"]);return d!=null&&SN(d,o),o}function AN(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>Ka(c))),f(e,["generatedImages"],a)}return e}function RN(n,e){const o={},s=u(n,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const a=u(n,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const c=u(n,["outputDimensionality"]);if(e!==void 0&&c!=null&&f(e,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function IN(n,e){const o={},s=u(n,["taskType"]);e!==void 0&&s!=null&&f(e,["instances[]","task_type"],s);const a=u(n,["title"]);e!==void 0&&a!=null&&f(e,["instances[]","title"],a);const c=u(n,["outputDimensionality"]);e!==void 0&&c!=null&&f(e,["parameters","outputDimensionality"],c);const d=u(n,["mimeType"]);e!==void 0&&d!=null&&f(e,["instances[]","mimeType"],d);const m=u(n,["autoTruncate"]);return e!==void 0&&m!=null&&f(e,["parameters","autoTruncate"],m),o}function MN(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["contents"]);if(a!=null){let m=mf(n,a);Array.isArray(m)&&(m=m.map(y=>y)),f(o,["requests[]","content"],m)}const c=u(e,["config"]);c!=null&&RN(c,o);const d=u(e,["model"]);return d!==void 0&&f(o,["requests[]","model"],Te(n,d)),o}function NN(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["contents"]);if(a!=null){let d=mf(n,a);Array.isArray(d)&&(d=d.map(m=>m)),f(o,["instances[]","content"],d)}const c=u(e,["config"]);return c!=null&&IN(c,o),o}function wN(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["embeddings"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["embeddings"],c)}const a=u(n,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function DN(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["predictions[]","embeddings"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>uN(d))),f(e,["embeddings"],c)}const a=u(n,["metadata"]);return a!=null&&f(e,["metadata"],a),e}function bN(n){const e={},o=u(n,["endpoint"]);o!=null&&f(e,["name"],o);const s=u(n,["deployedModelId"]);return s!=null&&f(e,["deployedModelId"],s),e}function UN(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function xN(n){const e={},o=u(n,["id"]);o!=null&&f(e,["id"],o);const s=u(n,["args"]);s!=null&&f(e,["args"],s);const a=u(n,["name"]);if(a!=null&&f(e,["name"],a),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function LN(n){const e={},o=u(n,["allowedFunctionNames"]);o!=null&&f(e,["allowedFunctionNames"],o);const s=u(n,["mode"]);if(s!=null&&f(e,["mode"],s),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function kN(n){const e={},o=u(n,["description"]);o!=null&&f(e,["description"],o);const s=u(n,["name"]);s!=null&&f(e,["name"],s);const a=u(n,["parameters"]);a!=null&&f(e,["parameters"],a);const c=u(n,["parametersJsonSchema"]);c!=null&&f(e,["parametersJsonSchema"],c);const d=u(n,["response"]);d!=null&&f(e,["response"],d);const m=u(n,["responseJsonSchema"]);if(m!=null&&f(e,["responseJsonSchema"],m),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function PN(n,e,o){const s={},a=u(e,["systemInstruction"]);o!==void 0&&a!=null&&f(o,["systemInstruction"],Ya(ot(a)));const c=u(e,["temperature"]);c!=null&&f(s,["temperature"],c);const d=u(e,["topP"]);d!=null&&f(s,["topP"],d);const m=u(e,["topK"]);m!=null&&f(s,["topK"],m);const y=u(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const g=u(e,["maxOutputTokens"]);g!=null&&f(s,["maxOutputTokens"],g);const v=u(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const E=u(e,["responseLogprobs"]);E!=null&&f(s,["responseLogprobs"],E);const T=u(e,["logprobs"]);T!=null&&f(s,["logprobs"],T);const C=u(e,["presencePenalty"]);C!=null&&f(s,["presencePenalty"],C);const D=u(e,["frequencyPenalty"]);D!=null&&f(s,["frequencyPenalty"],D);const k=u(e,["seed"]);k!=null&&f(s,["seed"],k);const x=u(e,["responseMimeType"]);x!=null&&f(s,["responseMimeType"],x);const G=u(e,["responseSchema"]);G!=null&&f(s,["responseSchema"],gf(G));const z=u(e,["responseJsonSchema"]);if(z!=null&&f(s,["responseJsonSchema"],z),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const q=u(e,["safetySettings"]);if(o!==void 0&&q!=null){let Se=q;Array.isArray(Se)&&(Se=Se.map(ze=>Iw(ze))),f(o,["safetySettings"],Se)}const K=u(e,["tools"]);if(o!==void 0&&K!=null){let Se=Oo(K);Array.isArray(Se)&&(Se=Se.map(ze=>xw(Ho(ze)))),f(o,["tools"],Se)}const ee=u(e,["toolConfig"]);if(o!==void 0&&ee!=null&&f(o,["toolConfig"],Uw(ee)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(e,["cachedContent"]);o!==void 0&&te!=null&&f(o,["cachedContent"],wn(n,te));const F=u(e,["responseModalities"]);F!=null&&f(s,["responseModalities"],F);const ge=u(e,["mediaResolution"]);ge!=null&&f(s,["mediaResolution"],ge);const Z=u(e,["speechConfig"]);if(Z!=null&&f(s,["speechConfig"],yf(Z)),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const he=u(e,["thinkingConfig"]);he!=null&&f(s,["thinkingConfig"],he);const Ae=u(e,["imageConfig"]);Ae!=null&&f(s,["imageConfig"],uw(Ae));const He=u(e,["enableEnhancedCivicAnswers"]);return He!=null&&f(s,["enableEnhancedCivicAnswers"],He),s}function HN(n,e,o){const s={},a=u(e,["systemInstruction"]);o!==void 0&&a!=null&&f(o,["systemInstruction"],ot(a));const c=u(e,["temperature"]);c!=null&&f(s,["temperature"],c);const d=u(e,["topP"]);d!=null&&f(s,["topP"],d);const m=u(e,["topK"]);m!=null&&f(s,["topK"],m);const y=u(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const g=u(e,["maxOutputTokens"]);g!=null&&f(s,["maxOutputTokens"],g);const v=u(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const E=u(e,["responseLogprobs"]);E!=null&&f(s,["responseLogprobs"],E);const T=u(e,["logprobs"]);T!=null&&f(s,["logprobs"],T);const C=u(e,["presencePenalty"]);C!=null&&f(s,["presencePenalty"],C);const D=u(e,["frequencyPenalty"]);D!=null&&f(s,["frequencyPenalty"],D);const k=u(e,["seed"]);k!=null&&f(s,["seed"],k);const x=u(e,["responseMimeType"]);x!=null&&f(s,["responseMimeType"],x);const G=u(e,["responseSchema"]);G!=null&&f(s,["responseSchema"],gf(G));const z=u(e,["responseJsonSchema"]);z!=null&&f(s,["responseJsonSchema"],z);const q=u(e,["routingConfig"]);q!=null&&f(s,["routingConfig"],q);const K=u(e,["modelSelectionConfig"]);K!=null&&f(s,["modelConfig"],K);const ee=u(e,["safetySettings"]);if(o!==void 0&&ee!=null){let L=ee;Array.isArray(L)&&(L=L.map(B=>B)),f(o,["safetySettings"],L)}const te=u(e,["tools"]);if(o!==void 0&&te!=null){let L=Oo(te);Array.isArray(L)&&(L=L.map(B=>t0(Ho(B)))),f(o,["tools"],L)}const F=u(e,["toolConfig"]);o!==void 0&&F!=null&&f(o,["toolConfig"],F);const ge=u(e,["labels"]);o!==void 0&&ge!=null&&f(o,["labels"],ge);const Z=u(e,["cachedContent"]);o!==void 0&&Z!=null&&f(o,["cachedContent"],wn(n,Z));const he=u(e,["responseModalities"]);he!=null&&f(s,["responseModalities"],he);const Ae=u(e,["mediaResolution"]);Ae!=null&&f(s,["mediaResolution"],Ae);const He=u(e,["speechConfig"]);He!=null&&f(s,["speechConfig"],yf(He));const Se=u(e,["audioTimestamp"]);Se!=null&&f(s,["audioTimestamp"],Se);const ze=u(e,["thinkingConfig"]);ze!=null&&f(s,["thinkingConfig"],ze);const ct=u(e,["imageConfig"]);if(ct!=null&&f(s,["imageConfig"],cw(ct)),u(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function Ry(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["contents"]);if(a!=null){let d=Ot(a);Array.isArray(d)&&(d=d.map(m=>Ya(m))),f(o,["contents"],d)}const c=u(e,["config"]);return c!=null&&f(o,["generationConfig"],PN(n,c,o)),o}function Iy(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["contents"]);if(a!=null){let d=Ot(a);Array.isArray(d)&&(d=d.map(m=>m)),f(o,["contents"],d)}const c=u(e,["config"]);return c!=null&&f(o,["generationConfig"],HN(n,c,o)),o}function My(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>sN(g))),f(e,["candidates"],y)}const a=u(n,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const c=u(n,["promptFeedback"]);c!=null&&f(e,["promptFeedback"],c);const d=u(n,["responseId"]);d!=null&&f(e,["responseId"],d);const m=u(n,["usageMetadata"]);return m!=null&&f(e,["usageMetadata"],m),e}function Ny(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(v=>v)),f(e,["candidates"],g)}const a=u(n,["createTime"]);a!=null&&f(e,["createTime"],a);const c=u(n,["modelVersion"]);c!=null&&f(e,["modelVersion"],c);const d=u(n,["promptFeedback"]);d!=null&&f(e,["promptFeedback"],d);const m=u(n,["responseId"]);m!=null&&f(e,["responseId"],m);const y=u(n,["usageMetadata"]);return y!=null&&f(e,["usageMetadata"],y),e}function ON(n,e){const o={};if(u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(n,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const a=u(n,["aspectRatio"]);e!==void 0&&a!=null&&f(e,["parameters","aspectRatio"],a);const c=u(n,["guidanceScale"]);if(e!==void 0&&c!=null&&f(e,["parameters","guidanceScale"],c),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&f(e,["parameters","safetySetting"],d);const m=u(n,["personGeneration"]);e!==void 0&&m!=null&&f(e,["parameters","personGeneration"],m);const y=u(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&f(e,["parameters","includeSafetyAttributes"],y);const g=u(n,["includeRaiReason"]);e!==void 0&&g!=null&&f(e,["parameters","includeRaiReason"],g);const v=u(n,["language"]);e!==void 0&&v!=null&&f(e,["parameters","language"],v);const E=u(n,["outputMimeType"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","mimeType"],E);const T=u(n,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&f(e,["parameters","outputOptions","compressionQuality"],T),u(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(n,["imageSize"]);if(e!==void 0&&C!=null&&f(e,["parameters","sampleImageSize"],C),u(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function VN(n,e){const o={},s=u(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const a=u(n,["negativePrompt"]);e!==void 0&&a!=null&&f(e,["parameters","negativePrompt"],a);const c=u(n,["numberOfImages"]);e!==void 0&&c!=null&&f(e,["parameters","sampleCount"],c);const d=u(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const m=u(n,["guidanceScale"]);e!==void 0&&m!=null&&f(e,["parameters","guidanceScale"],m);const y=u(n,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const g=u(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const v=u(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const E=u(n,["includeSafetyAttributes"]);e!==void 0&&E!=null&&f(e,["parameters","includeSafetyAttributes"],E);const T=u(n,["includeRaiReason"]);e!==void 0&&T!=null&&f(e,["parameters","includeRaiReason"],T);const C=u(n,["language"]);e!==void 0&&C!=null&&f(e,["parameters","language"],C);const D=u(n,["outputMimeType"]);e!==void 0&&D!=null&&f(e,["parameters","outputOptions","mimeType"],D);const k=u(n,["outputCompressionQuality"]);e!==void 0&&k!=null&&f(e,["parameters","outputOptions","compressionQuality"],k);const x=u(n,["addWatermark"]);e!==void 0&&x!=null&&f(e,["parameters","addWatermark"],x);const G=u(n,["labels"]);e!==void 0&&G!=null&&f(e,["labels"],G);const z=u(n,["imageSize"]);e!==void 0&&z!=null&&f(e,["parameters","sampleImageSize"],z);const q=u(n,["enhancePrompt"]);return e!==void 0&&q!=null&&f(e,["parameters","enhancePrompt"],q),o}function GN(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const c=u(e,["config"]);return c!=null&&ON(c,o),o}function qN(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const c=u(e,["config"]);return c!=null&&VN(c,o),o}function BN(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["predictions"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>ew(d))),f(e,["generatedImages"],c)}const a=u(n,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],jv(a)),e}function zN(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["predictions"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Ka(d))),f(e,["generatedImages"],c)}const a=u(n,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],e0(a)),e}function FN(n,e){const o={},s=u(n,["numberOfVideos"]);if(e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s),u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=u(n,["durationSeconds"]);if(e!==void 0&&a!=null&&f(e,["parameters","durationSeconds"],a),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(n,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const d=u(n,["resolution"]);e!==void 0&&d!=null&&f(e,["parameters","resolution"],d);const m=u(n,["personGeneration"]);if(e!==void 0&&m!=null&&f(e,["parameters","personGeneration"],m),u(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(n,["negativePrompt"]);e!==void 0&&y!=null&&f(e,["parameters","negativePrompt"],y);const g=u(n,["enhancePrompt"]);if(e!==void 0&&g!=null&&f(e,["parameters","enhancePrompt"],g),u(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(n,["lastFrame"]);e!==void 0&&v!=null&&f(e,["instances[0]","lastFrame"],$a(v));const E=u(n,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(C=>Yw(C))),f(e,["instances[0]","referenceImages"],T)}if(u(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function JN(n,e){const o={},s=u(n,["numberOfVideos"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const a=u(n,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const c=u(n,["fps"]);e!==void 0&&c!=null&&f(e,["parameters","fps"],c);const d=u(n,["durationSeconds"]);e!==void 0&&d!=null&&f(e,["parameters","durationSeconds"],d);const m=u(n,["seed"]);e!==void 0&&m!=null&&f(e,["parameters","seed"],m);const y=u(n,["aspectRatio"]);e!==void 0&&y!=null&&f(e,["parameters","aspectRatio"],y);const g=u(n,["resolution"]);e!==void 0&&g!=null&&f(e,["parameters","resolution"],g);const v=u(n,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const E=u(n,["pubsubTopic"]);e!==void 0&&E!=null&&f(e,["parameters","pubsubTopic"],E);const T=u(n,["negativePrompt"]);e!==void 0&&T!=null&&f(e,["parameters","negativePrompt"],T);const C=u(n,["enhancePrompt"]);e!==void 0&&C!=null&&f(e,["parameters","enhancePrompt"],C);const D=u(n,["generateAudio"]);e!==void 0&&D!=null&&f(e,["parameters","generateAudio"],D);const k=u(n,["lastFrame"]);e!==void 0&&k!=null&&f(e,["instances[0]","lastFrame"],$t(k));const x=u(n,["referenceImages"]);if(e!==void 0&&x!=null){let q=x;Array.isArray(q)&&(q=q.map(K=>Kw(K))),f(e,["instances[0]","referenceImages"],q)}const G=u(n,["mask"]);e!==void 0&&G!=null&&f(e,["instances[0]","mask"],Jw(G));const z=u(n,["compressionQuality"]);return e!==void 0&&z!=null&&f(e,["parameters","compressionQuality"],z),o}function YN(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["metadata"]);s!=null&&f(e,["metadata"],s);const a=u(n,["done"]);a!=null&&f(e,["done"],a);const c=u(n,["error"]);c!=null&&f(e,["error"],c);const d=u(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],QN(d)),e}function KN(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["metadata"]);s!=null&&f(e,["metadata"],s);const a=u(n,["done"]);a!=null&&f(e,["done"],a);const c=u(n,["error"]);c!=null&&f(e,["error"],c);const d=u(n,["response"]);return d!=null&&f(e,["response"],ZN(d)),e}function $N(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const c=u(e,["image"]);c!=null&&f(o,["instances[0]","image"],$a(c));const d=u(e,["video"]);d!=null&&f(o,["instances[0]","video"],n0(d));const m=u(e,["source"]);m!=null&&WN(m,o);const y=u(e,["config"]);return y!=null&&FN(y,o),o}function XN(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["prompt"]);a!=null&&f(o,["instances[0]","prompt"],a);const c=u(e,["image"]);c!=null&&f(o,["instances[0]","image"],$t(c));const d=u(e,["video"]);d!=null&&f(o,["instances[0]","video"],i0(d));const m=u(e,["source"]);m!=null&&jN(m,o);const y=u(e,["config"]);return y!=null&&JN(y,o),o}function QN(n){const e={},o=u(n,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>nw(d))),f(e,["generatedVideos"],c)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const a=u(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function ZN(n){const e={},o=u(n,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>iw(d))),f(e,["generatedVideos"],c)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const a=u(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function WN(n,e){const o={},s=u(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const a=u(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],$a(a));const c=u(n,["video"]);return e!==void 0&&c!=null&&f(e,["instances[0]","video"],n0(c)),o}function jN(n,e){const o={},s=u(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const a=u(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],$t(a));const c=u(n,["video"]);return e!==void 0&&c!=null&&f(e,["instances[0]","video"],i0(c)),o}function ew(n){const e={},o=u(n,["_self"]);o!=null&&f(e,["image"],fw(o));const s=u(n,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const a=u(n,["_self"]);return a!=null&&f(e,["safetyAttributes"],jv(a)),e}function Ka(n){const e={},o=u(n,["_self"]);o!=null&&f(e,["image"],Wv(o));const s=u(n,["raiFilteredReason"]);s!=null&&f(e,["raiFilteredReason"],s);const a=u(n,["_self"]);a!=null&&f(e,["safetyAttributes"],e0(a));const c=u(n,["prompt"]);return c!=null&&f(e,["enhancedPrompt"],c),e}function tw(n){const e={},o=u(n,["_self"]);o!=null&&f(e,["mask"],Wv(o));const s=u(n,["labels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>c)),f(e,["labels"],a)}return e}function nw(n){const e={},o=u(n,["video"]);return o!=null&&f(e,["video"],zw(o)),e}function iw(n){const e={},o=u(n,["_self"]);return o!=null&&f(e,["video"],Fw(o)),e}function ow(n){const e={},o=u(n,["modelSelectionConfig"]);o!=null&&f(e,["modelConfig"],o);const s=u(n,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const a=u(n,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const c=u(n,["candidateCount"]);c!=null&&f(e,["candidateCount"],c);const d=u(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const m=u(n,["frequencyPenalty"]);m!=null&&f(e,["frequencyPenalty"],m);const y=u(n,["logprobs"]);y!=null&&f(e,["logprobs"],y);const g=u(n,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const v=u(n,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const E=u(n,["presencePenalty"]);E!=null&&f(e,["presencePenalty"],E);const T=u(n,["responseLogprobs"]);T!=null&&f(e,["responseLogprobs"],T);const C=u(n,["responseMimeType"]);C!=null&&f(e,["responseMimeType"],C);const D=u(n,["responseModalities"]);D!=null&&f(e,["responseModalities"],D);const k=u(n,["responseSchema"]);k!=null&&f(e,["responseSchema"],k);const x=u(n,["routingConfig"]);x!=null&&f(e,["routingConfig"],x);const G=u(n,["seed"]);G!=null&&f(e,["seed"],G);const z=u(n,["speechConfig"]);z!=null&&f(e,["speechConfig"],z);const q=u(n,["stopSequences"]);q!=null&&f(e,["stopSequences"],q);const K=u(n,["temperature"]);K!=null&&f(e,["temperature"],K);const ee=u(n,["thinkingConfig"]);ee!=null&&f(e,["thinkingConfig"],ee);const te=u(n,["topK"]);te!=null&&f(e,["topK"],te);const F=u(n,["topP"]);if(F!=null&&f(e,["topP"],F),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function sw(n,e){const o={},s=u(e,["model"]);return s!=null&&f(o,["_url","name"],Te(n,s)),o}function rw(n,e){const o={},s=u(e,["model"]);return s!=null&&f(o,["_url","name"],Te(n,s)),o}function aw(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function lw(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function uw(n){const e={},o=u(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=u(n,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),u(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function cw(n){const e={},o=u(n,["aspectRatio"]);o!=null&&f(e,["aspectRatio"],o);const s=u(n,["imageSize"]);s!=null&&f(e,["imageSize"],s);const a=u(n,["personGeneration"]);a!=null&&f(e,["personGeneration"],a);const c=u(n,["outputMimeType"]);c!=null&&f(e,["imageOutputOptions","mimeType"],c);const d=u(n,["outputCompressionQuality"]);return d!=null&&f(e,["imageOutputOptions","compressionQuality"],d),e}function fw(n){const e={},o=u(n,["bytesBase64Encoded"]);o!=null&&f(e,["imageBytes"],fi(o));const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Wv(n){const e={},o=u(n,["gcsUri"]);o!=null&&f(e,["gcsUri"],o);const s=u(n,["bytesBase64Encoded"]);s!=null&&f(e,["imageBytes"],fi(s));const a=u(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function $a(n){const e={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(n,["imageBytes"]);o!=null&&f(e,["bytesBase64Encoded"],fi(o));const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function $t(n){const e={},o=u(n,["gcsUri"]);o!=null&&f(e,["gcsUri"],o);const s=u(n,["imageBytes"]);s!=null&&f(e,["bytesBase64Encoded"],fi(s));const a=u(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function dw(n,e,o){const s={},a=u(e,["pageSize"]);o!==void 0&&a!=null&&f(o,["_query","pageSize"],a);const c=u(e,["pageToken"]);o!==void 0&&c!=null&&f(o,["_query","pageToken"],c);const d=u(e,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const m=u(e,["queryBase"]);return o!==void 0&&m!=null&&f(o,["_url","models_url"],Jv(n,m)),s}function hw(n,e,o){const s={},a=u(e,["pageSize"]);o!==void 0&&a!=null&&f(o,["_query","pageSize"],a);const c=u(e,["pageToken"]);o!==void 0&&c!=null&&f(o,["_query","pageToken"],c);const d=u(e,["filter"]);o!==void 0&&d!=null&&f(o,["_query","filter"],d);const m=u(e,["queryBase"]);return o!==void 0&&m!=null&&f(o,["_url","models_url"],Jv(n,m)),s}function pw(n,e){const o={},s=u(e,["config"]);return s!=null&&dw(n,s,o),o}function mw(n,e){const o={},s=u(e,["config"]);return s!=null&&hw(n,s,o),o}function gw(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=u(n,["_self"]);if(a!=null){let c=Yv(a);Array.isArray(c)&&(c=c.map(d=>Jc(d))),f(e,["models"],c)}return e}function yw(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=u(n,["_self"]);if(a!=null){let c=Yv(a);Array.isArray(c)&&(c=c.map(d=>Yc(d))),f(e,["models"],c)}return e}function vw(n){const e={},o=u(n,["maskMode"]);o!=null&&f(e,["maskMode"],o);const s=u(n,["segmentationClasses"]);s!=null&&f(e,["maskClasses"],s);const a=u(n,["maskDilation"]);return a!=null&&f(e,["dilation"],a),e}function Jc(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["displayName"]);s!=null&&f(e,["displayName"],s);const a=u(n,["description"]);a!=null&&f(e,["description"],a);const c=u(n,["version"]);c!=null&&f(e,["version"],c);const d=u(n,["_self"]);d!=null&&f(e,["tunedModelInfo"],Lw(d));const m=u(n,["inputTokenLimit"]);m!=null&&f(e,["inputTokenLimit"],m);const y=u(n,["outputTokenLimit"]);y!=null&&f(e,["outputTokenLimit"],y);const g=u(n,["supportedGenerationMethods"]);g!=null&&f(e,["supportedActions"],g);const v=u(n,["temperature"]);v!=null&&f(e,["temperature"],v);const E=u(n,["maxTemperature"]);E!=null&&f(e,["maxTemperature"],E);const T=u(n,["topP"]);T!=null&&f(e,["topP"],T);const C=u(n,["topK"]);C!=null&&f(e,["topK"],C);const D=u(n,["thinking"]);return D!=null&&f(e,["thinking"],D),e}function Yc(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["displayName"]);s!=null&&f(e,["displayName"],s);const a=u(n,["description"]);a!=null&&f(e,["description"],a);const c=u(n,["versionId"]);c!=null&&f(e,["version"],c);const d=u(n,["deployedModels"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(T=>bN(T))),f(e,["endpoints"],E)}const m=u(n,["labels"]);m!=null&&f(e,["labels"],m);const y=u(n,["_self"]);y!=null&&f(e,["tunedModelInfo"],kw(y));const g=u(n,["defaultCheckpointId"]);g!=null&&f(e,["defaultCheckpointId"],g);const v=u(n,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(T=>T)),f(e,["checkpoints"],E)}return e}function _w(n){const e={},o=u(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=u(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const c=u(n,["fileData"]);c!=null&&f(e,["fileData"],UN(c));const d=u(n,["functionCall"]);d!=null&&f(e,["functionCall"],xN(d));const m=u(n,["functionResponse"]);m!=null&&f(e,["functionResponse"],m);const y=u(n,["inlineData"]);y!=null&&f(e,["inlineData"],oN(y));const g=u(n,["text"]);g!=null&&f(e,["text"],g);const v=u(n,["thought"]);v!=null&&f(e,["thought"],v);const E=u(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const T=u(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function Tw(n){const e={},o=u(n,["productImage"]);return o!=null&&f(e,["image"],$t(o)),e}function Ew(n,e){const o={},s=u(n,["numberOfImages"]);e!==void 0&&s!=null&&f(e,["parameters","sampleCount"],s);const a=u(n,["baseSteps"]);e!==void 0&&a!=null&&f(e,["parameters","baseSteps"],a);const c=u(n,["outputGcsUri"]);e!==void 0&&c!=null&&f(e,["parameters","storageUri"],c);const d=u(n,["seed"]);e!==void 0&&d!=null&&f(e,["parameters","seed"],d);const m=u(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const y=u(n,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const g=u(n,["addWatermark"]);e!==void 0&&g!=null&&f(e,["parameters","addWatermark"],g);const v=u(n,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const E=u(n,["outputCompressionQuality"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E);const T=u(n,["enhancePrompt"]);e!==void 0&&T!=null&&f(e,["parameters","enhancePrompt"],T);const C=u(n,["labels"]);return e!==void 0&&C!=null&&f(e,["labels"],C),o}function Sw(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["source"]);a!=null&&Aw(a,o);const c=u(e,["config"]);return c!=null&&Ew(c,o),o}function Cw(n){const e={},o=u(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Ka(a))),f(e,["generatedImages"],s)}return e}function Aw(n,e){const o={},s=u(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const a=u(n,["personImage"]);e!==void 0&&a!=null&&f(e,["instances[0]","personImage","image"],$t(a));const c=u(n,["productImages"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Tw(m))),f(e,["instances[0]","productImages"],d)}return o}function Rw(n){const e={},o=u(n,["referenceImage"]);o!=null&&f(e,["referenceImage"],$t(o));const s=u(n,["referenceId"]);s!=null&&f(e,["referenceId"],s);const a=u(n,["referenceType"]);a!=null&&f(e,["referenceType"],a);const c=u(n,["maskImageConfig"]);c!=null&&f(e,["maskImageConfig"],vw(c));const d=u(n,["controlImageConfig"]);d!=null&&f(e,["controlImageConfig"],fN(d));const m=u(n,["styleImageConfig"]);m!=null&&f(e,["styleImageConfig"],m);const y=u(n,["subjectImageConfig"]);return y!=null&&f(e,["subjectImageConfig"],y),e}function jv(n){const e={},o=u(n,["safetyAttributes","categories"]);o!=null&&f(e,["categories"],o);const s=u(n,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const a=u(n,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function e0(n){const e={},o=u(n,["safetyAttributes","categories"]);o!=null&&f(e,["categories"],o);const s=u(n,["safetyAttributes","scores"]);s!=null&&f(e,["scores"],s);const a=u(n,["contentType"]);return a!=null&&f(e,["contentType"],a),e}function Iw(n){const e={},o=u(n,["category"]);if(o!=null&&f(e,["category"],o),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(n,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function Mw(n){const e={},o=u(n,["image"]);return o!=null&&f(e,["image"],$t(o)),e}function Nw(n,e){const o={},s=u(n,["mode"]);e!==void 0&&s!=null&&f(e,["parameters","mode"],s);const a=u(n,["maxPredictions"]);e!==void 0&&a!=null&&f(e,["parameters","maxPredictions"],a);const c=u(n,["confidenceThreshold"]);e!==void 0&&c!=null&&f(e,["parameters","confidenceThreshold"],c);const d=u(n,["maskDilation"]);e!==void 0&&d!=null&&f(e,["parameters","maskDilation"],d);const m=u(n,["binaryColorThreshold"]);e!==void 0&&m!=null&&f(e,["parameters","binaryColorThreshold"],m);const y=u(n,["labels"]);return e!==void 0&&y!=null&&f(e,["labels"],y),o}function ww(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["source"]);a!=null&&bw(a,o);const c=u(e,["config"]);return c!=null&&Nw(c,o),o}function Dw(n){const e={},o=u(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>tw(a))),f(e,["generatedMasks"],s)}return e}function bw(n,e){const o={},s=u(n,["prompt"]);e!==void 0&&s!=null&&f(e,["instances[0]","prompt"],s);const a=u(n,["image"]);e!==void 0&&a!=null&&f(e,["instances[0]","image"],$t(a));const c=u(n,["scribbleImage"]);return e!==void 0&&c!=null&&f(e,["instances[0]","scribble"],Mw(c)),o}function Uw(n){const e={},o=u(n,["retrievalConfig"]);o!=null&&f(e,["retrievalConfig"],o);const s=u(n,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],LN(s)),e}function xw(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&f(e,["computerUse"],o);const s=u(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=u(n,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=u(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],aw(d));const m=u(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],lw(m));const y=u(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const g=u(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function t0(n){const e={},o=u(n,["retrieval"]);o!=null&&f(e,["retrieval"],o);const s=u(n,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=u(n,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const c=u(n,["enterpriseWebSearch"]);c!=null&&f(e,["enterpriseWebSearch"],c);const d=u(n,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(T=>kN(T))),f(e,["functionDeclarations"],E)}const m=u(n,["googleMaps"]);m!=null&&f(e,["googleMaps"],m);const y=u(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const g=u(n,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const v=u(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function Lw(n){const e={},o=u(n,["baseModel"]);o!=null&&f(e,["baseModel"],o);const s=u(n,["createTime"]);s!=null&&f(e,["createTime"],s);const a=u(n,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function kw(n){const e={},o=u(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(e,["baseModel"],o);const s=u(n,["createTime"]);s!=null&&f(e,["createTime"],s);const a=u(n,["updateTime"]);return a!=null&&f(e,["updateTime"],a),e}function Pw(n,e){const o={},s=u(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const a=u(n,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const c=u(n,["defaultCheckpointId"]);return e!==void 0&&c!=null&&f(e,["defaultCheckpointId"],c),o}function Hw(n,e){const o={},s=u(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const a=u(n,["description"]);e!==void 0&&a!=null&&f(e,["description"],a);const c=u(n,["defaultCheckpointId"]);return e!==void 0&&c!=null&&f(e,["defaultCheckpointId"],c),o}function Ow(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","name"],Te(n,s));const a=u(e,["config"]);return a!=null&&Pw(a,o),o}function Vw(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["config"]);return a!=null&&Hw(a,o),o}function Gw(n,e){const o={},s=u(n,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const a=u(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&f(e,["parameters","safetySetting"],a);const c=u(n,["personGeneration"]);e!==void 0&&c!=null&&f(e,["parameters","personGeneration"],c);const d=u(n,["includeRaiReason"]);e!==void 0&&d!=null&&f(e,["parameters","includeRaiReason"],d);const m=u(n,["outputMimeType"]);e!==void 0&&m!=null&&f(e,["parameters","outputOptions","mimeType"],m);const y=u(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&f(e,["parameters","outputOptions","compressionQuality"],y);const g=u(n,["enhanceInputImage"]);e!==void 0&&g!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],g);const v=u(n,["imagePreservationFactor"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=u(n,["labels"]);e!==void 0&&E!=null&&f(e,["labels"],E);const T=u(n,["numberOfImages"]);e!==void 0&&T!=null&&f(e,["parameters","sampleCount"],T);const C=u(n,["mode"]);return e!==void 0&&C!=null&&f(e,["parameters","mode"],C),o}function qw(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["_url","model"],Te(n,s));const a=u(e,["image"]);a!=null&&f(o,["instances[0]","image"],$t(a));const c=u(e,["upscaleFactor"]);c!=null&&f(o,["parameters","upscaleConfig","upscaleFactor"],c);const d=u(e,["config"]);return d!=null&&Gw(d,o),o}function Bw(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>Ka(c))),f(e,["generatedImages"],a)}return e}function zw(n){const e={},o=u(n,["uri"]);o!=null&&f(e,["uri"],o);const s=u(n,["encodedVideo"]);s!=null&&f(e,["videoBytes"],fi(s));const a=u(n,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function Fw(n){const e={},o=u(n,["gcsUri"]);o!=null&&f(e,["uri"],o);const s=u(n,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],fi(s));const a=u(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Jw(n){const e={},o=u(n,["image"]);o!=null&&f(e,["_self"],$t(o));const s=u(n,["maskMode"]);return s!=null&&f(e,["maskMode"],s),e}function Yw(n){const e={},o=u(n,["image"]);o!=null&&f(e,["image"],$a(o));const s=u(n,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function Kw(n){const e={},o=u(n,["image"]);o!=null&&f(e,["image"],$t(o));const s=u(n,["referenceType"]);return s!=null&&f(e,["referenceType"],s),e}function n0(n){const e={},o=u(n,["uri"]);o!=null&&f(e,["uri"],o);const s=u(n,["videoBytes"]);s!=null&&f(e,["encodedVideo"],fi(s));const a=u(n,["mimeType"]);return a!=null&&f(e,["encoding"],a),e}function i0(n){const e={},o=u(n,["uri"]);o!=null&&f(e,["gcsUri"],o);const s=u(n,["videoBytes"]);s!=null&&f(e,["bytesBase64Encoded"],fi(s));const a=u(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $w(n,e){const o={},s=u(n,["displayName"]);return e!==void 0&&s!=null&&f(e,["displayName"],s),o}function Xw(n){const e={},o=u(n,["config"]);return o!=null&&$w(o,e),e}function Qw(n,e){const o={},s=u(n,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),o}function Zw(n){const e={},o=u(n,["name"]);o!=null&&f(e,["_url","name"],o);const s=u(n,["config"]);return s!=null&&Qw(s,e),e}function Ww(n){const e={},o=u(n,["name"]);return o!=null&&f(e,["_url","name"],o),e}function jw(n,e){const o={},s=u(n,["customMetadata"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["customMetadata"],c)}const a=u(n,["chunkingConfig"]);return e!==void 0&&a!=null&&f(e,["chunkingConfig"],a),o}function eD(n){const e={},o=u(n,["name"]);o!=null&&f(e,["name"],o);const s=u(n,["metadata"]);s!=null&&f(e,["metadata"],s);const a=u(n,["done"]);a!=null&&f(e,["done"],a);const c=u(n,["error"]);c!=null&&f(e,["error"],c);const d=u(n,["response"]);return d!=null&&f(e,["response"],nD(d)),e}function tD(n){const e={},o=u(n,["fileSearchStoreName"]);o!=null&&f(e,["_url","file_search_store_name"],o);const s=u(n,["fileName"]);s!=null&&f(e,["fileName"],s);const a=u(n,["config"]);return a!=null&&jw(a,e),e}function nD(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["parent"]);s!=null&&f(e,["parent"],s);const a=u(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function iD(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=u(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),o}function oD(n){const e={},o=u(n,["config"]);return o!=null&&iD(o,e),e}function sD(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=u(n,["fileSearchStores"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["fileSearchStores"],c)}return e}function o0(n,e){const o={},s=u(n,["mimeType"]);e!==void 0&&s!=null&&f(e,["mimeType"],s);const a=u(n,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const c=u(n,["customMetadata"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>y)),f(e,["customMetadata"],m)}const d=u(n,["chunkingConfig"]);return e!==void 0&&d!=null&&f(e,["chunkingConfig"],d),o}function rD(n){const e={},o=u(n,["fileSearchStoreName"]);o!=null&&f(e,["_url","file_search_store_name"],o);const s=u(n,["config"]);return s!=null&&o0(s,e),e}function aD(n){const e={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lD="Content-Type",uD="X-Server-Timeout",cD="User-Agent",Kc="x-goog-api-client",fD="1.37.0",dD=`google-genai-sdk/${fD}`,hD="v1beta1",pD="v1beta";class mD{constructor(e){var o,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:hD,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:pD,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,s){const a=[this.getRequestUrlInternal(o)];return s&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,o,s);if(e.queryParams)for(const[d,m]of Object.entries(e.queryParams))a.searchParams.append(d,String(m));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,a.toString(),e.abortSignal),this.unaryApiCall(a,c,e.httpMethod)}patchHttpOptions(e,o){const s=JSON.parse(JSON.stringify(e));for(const[a,c]of Object.entries(o))typeof c=="object"?s[a]=Object.assign(Object.assign({},s[a]),c):c!==void 0&&(s[a]=c);return s}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,o,s);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,a.toString(),e.abortSignal),this.streamApiCall(a,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,s,a){if(o&&o.timeout||a){const c=new AbortController,d=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const m=setTimeout(()=>c.abort(),o.timeout);m&&typeof m.unref=="function"&&m.unref()}a&&a.addEventListener("abort",()=>{c.abort()}),e.signal=d}return o&&o.extraBody!==null&&gD(e,o.extraBody),e.headers=await this.getHeadersInternal(o,s),e}async unaryApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async a=>(await wy(a),new Bc(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,o,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:s})).then(async a=>(await wy(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return Jt(this,arguments,function*(){var s;const a=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),c=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let d="";const m="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:v}=yield se(a.read());if(g){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=c.decode(v,{stream:!0});try{const D=JSON.parse(E);if("error"in D){const k=JSON.parse(JSON.stringify(D.error)),x=k.status,G=k.code,z=`got status: ${x}. ${JSON.stringify(D)}`;if(G>=400&&G<600)throw new Ja({message:z,status:G})}}catch(D){if(D.name==="ApiError")throw D}d+=E;let T=-1,C=0;for(;;){T=-1,C=0;for(const x of y){const G=d.indexOf(x);G!==-1&&(T===-1||G<T)&&(T=G,C=x.length)}if(T===-1)break;const D=d.substring(0,T);d=d.substring(T+C);const k=D.trim();if(k.startsWith(m)){const x=k.substring(m.length).trim();try{const G=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield se(new Bc(G))}catch(G){throw new Error(`exception parsing stream chunk ${x}. ${G}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},o=dD+" "+this.clientOptions.userAgentExtra;return e[cD]=o,e[Kc]=o,e[lD]="application/json",e}async getHeadersInternal(e,o){const s=new Headers;if(e&&e.headers){for(const[a,c]of Object.entries(e.headers))s.append(a,c);e.timeout&&e.timeout>0&&s.append(uD,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(e){var o;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(e,o){var s;const a={};o!=null&&(a.mimeType=o.mimeType,a.name=o.name,a.displayName=o.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const c=this.clientOptions.uploader,d=await c.stat(e);a.sizeBytes=String(d.size);const m=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:d.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=m;const y={file:a},g=this.getFileName(e),v=Y("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,a.sizeBytes,a.mimeType,g,y,o==null?void 0:o.httpOptions);return c.upload(e,E,this)}async uploadFileToFileSearchStore(e,o,s){var a;const c=this.clientOptions.uploader,d=await c.stat(o),m=String(d.size),y=(a=s==null?void 0:s.mimeType)!==null&&a!==void 0?a:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(o),E={};s!=null&&o0(s,E);const T=await this.fetchUploadUrl(g,m,y,v,E,s==null?void 0:s.httpOptions);return c.uploadToFileSearchStore(o,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,s,a,c,d){var m;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},a?{"X-Goog-Upload-File-Name":a}:{})};const g=await this.request({path:e,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(m=g==null?void 0:g.headers)===null||m===void 0?void 0:m["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function wy(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let s;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await n.json():s={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(s);throw o>=400&&o<600?new Ja({message:a,status:o}):new Error(a)}}function gD(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const c=JSON.parse(n.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(c,d){const m=Object.assign({},c);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const g=d[y],v=m[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?m[y]=s(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),m[y]=g)}return m}const a=s(o,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yD="mcp_used/unknown";let vD=!1;function s0(n){for(const e of n)if(_D(e)||typeof e=="object"&&"inputSchema"in e)return!0;return vD}function r0(n){var e;const o=(e=n[Kc])!==null&&e!==void 0?e:"";n[Kc]=(o+` ${yD}`).trimStart()}function _D(n){return n!==null&&typeof n=="object"&&n instanceof _f}function TD(n){return Jt(this,arguments,function*(o,s=100){let a,c=0;for(;c<s;){const d=yield se(o.listTools({cursor:a}));for(const m of d.tools)yield yield se(m),c++;if(!d.nextCursor)break;a=d.nextCursor}})}class _f{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new _f(e,o)}async initialize(){var e,o,s,a;if(this.mcpTools.length>0)return;const c={},d=[];for(const v of this.mcpClients)try{for(var m=!0,y=(o=void 0,Yt(TD(v))),g;g=await y.next(),e=g.done,!e;m=!0){a=g.value,m=!1;const E=a;d.push(E);const T=E.name;if(c[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);c[T]=v}}catch(E){o={error:E}}finally{try{!m&&!e&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),ZR(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[s.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await a.callTool({name:s.name,arguments:s.args},void 0,c);o.push({functionResponse:{name:s.name,response:d.isError?{error:d}:d}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ED(n,e,o){const s=new zR;let a;o.data instanceof Blob?a=JSON.parse(await o.data.text()):a=JSON.parse(o.data),Object.assign(s,a),e(s)}class SD{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s}async connect(e){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=RD(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${m}`;let g=()=>{};const v=new Promise(q=>{g=q}),E=e.callbacks,T=function(){g({})},C=this.apiClient,D={onopen:T,onmessage:q=>{ED(C,E.onmessage,q)},onerror:(o=E==null?void 0:E.onerror)!==null&&o!==void 0?o:function(q){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(q){}},k=this.webSocketFactory.create(y,AD(d),D);k.connect(),await v;const z={setup:{model:Te(this.apiClient,e.model)}};return k.send(JSON.stringify(z)),new CD(k,this.apiClient)}}class CD{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=$M(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=KM(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Ao.PLAY)}pause(){this.sendPlaybackControl(Ao.PAUSE)}stop(){this.sendPlaybackControl(Ao.STOP)}resetContext(){this.sendPlaybackControl(Ao.RESET_CONTEXT)}close(){this.conn.close()}}function AD(n){const e={};return n.forEach((o,s)=>{e[s]=o}),e}function RD(n){const e=new Headers;for(const[o,s]of Object.entries(n))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ID="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function MD(n,e,o){const s=new BR;let a;o.data instanceof Blob?a=await o.data.text():o.data instanceof ArrayBuffer?a=new TextDecoder().decode(o.data):a=o.data;const c=JSON.parse(a);if(n.isVertexAI()){const d=ZM(c);Object.assign(s,d)}else Object.assign(s,c);e(s)}class ND{constructor(e,o,s){this.apiClient=e,this.auth=o,this.webSocketFactory=s,this.music=new SD(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,s,a,c,d,m;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&s0(e.config.tools)&&r0(E);const T=UD(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,v);else{const Z=this.apiClient.getApiKey();let he="BidiGenerateContent",Ae="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),he="BidiGenerateContentConstrained",Ae="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${he}?${Ae}=${Z}`}let C=()=>{};const D=new Promise(Z=>{C=Z}),k=e.callbacks,x=function(){var Z;(Z=k==null?void 0:k.onopen)===null||Z===void 0||Z.call(k),C({})},G=this.apiClient,z={onopen:x,onmessage:Z=>{MD(G,k.onmessage,Z)},onerror:(o=k==null?void 0:k.onerror)!==null&&o!==void 0?o:function(Z){},onclose:(s=k==null?void 0:k.onclose)!==null&&s!==void 0?s:function(Z){}},q=this.webSocketFactory.create(v,bD(T),z);q.connect(),await D;let K=Te(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const Z=this.apiClient.getProject(),he=this.apiClient.getLocation();K=`projects/${Z}/locations/${he}/`+K}let ee={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ka.AUDIO]}:e.config.responseModalities=[ka.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(m=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&m!==void 0?m:[],F=[];for(const Z of te)if(this.isCallableTool(Z)){const he=Z;F.push(await he.tool())}else F.push(Z);F.length>0&&(e.config.tools=F);const ge={model:K,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?ee=YM(this.apiClient,ge):ee=JM(this.apiClient,ge),delete ee.config,q.send(JSON.stringify(ee)),new DD(q,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const wD={turnComplete:!0};class DD{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=Ot(o.turns),e.isVertexAI()||(s=s.map(a=>Ya(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const c of s){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(ID)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},wD),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:QM(e)}:o={realtimeInput:XM(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function bD(n){const e={};return n.forEach((o,s)=>{e[s]=o}),e}function UD(n){const e=new Headers;for(const[o,s]of Object.entries(n))e.append(o,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dy=10;function by(n){var e,o,s;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const d of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(Uo(d)){a=!0;break}if(!a)return!0;const c=(s=n==null?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Uo(n){return"callTool"in n&&typeof n.callTool=="function"}function xD(n){var e,o,s;return(s=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(a=>Uo(a)))!==null&&s!==void 0?s:!1}function Uy(n){var e;const o=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((s,a)=>{if(Uo(s))return;const c=s;c.functionDeclarations&&c.functionDeclarations.length>0&&o.push(a)}),o}function xy(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LD extends Nn{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var s,a,c,d,m;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!xD(o)||by(o.config))return await this.generateContentInternal(y);const g=Uy(o);if(g.length>0){const k=g.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let v,E;const T=Ot(y.contents),C=(c=(a=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:Dy;let D=0;for(;D<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const k=v.candidates[0].content,x=[];for(const G of(m=(d=o.config)===null||d===void 0?void 0:d.tools)!==null&&m!==void 0?m:[])if(Uo(G)){const q=await G.callTool(v.functionCalls);x.push(...q)}D++,E={role:"user",parts:x},y.contents=Ot(y.contents),y.contents.push(k),y.contents.push(E),xy(y.config)&&(T.push(k),T.push(E))}return xy(y.config)&&(v.automaticFunctionCallingHistory=T),v},this.generateContentStream=async o=>{var s,a,c,d,m;if(this.maybeMoveToResponseJsonSchem(o),by(o.config)){const E=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(E)}const y=Uy(o);if(y.length>0){const E=y.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(c=(a=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(m=(d=o==null?void 0:o.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||m===void 0?void 0:m.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var a;let c;const d=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((a=y==null?void 0:y.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:d.push(y);let m;return c?m={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:s.sdkHttpResponse}:m={generatedImages:d,sdkHttpResponse:s.sdkHttpResponse},m}),this.list=async o=>{var s;const d={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((s=d.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Pi(In.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(d),d)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const a={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(a)},this.generateVideos=async o=>{var s,a,c,d,m,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((a=o.video)===null||a===void 0)&&a.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((d=(c=o.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.uri&&(!((y=(m=o.source)===null||m===void 0?void 0:m.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,s,a;const c=(o=e.config)===null||o===void 0?void 0:o.tools;if(!c)return e;const d=await Promise.all(c.map(async y=>Uo(y)?await y.tool():y)),m={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(m.config.tools=d,e.config&&e.config.tools&&s0(e.config.tools)){const y=(a=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),r0(g),m.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return m}async initAfcToolsMap(e){var o,s,a;const c=new Map;for(const d of(s=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(Uo(d)){const m=d,y=await m.tool();for(const g of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!g.name)throw new Error("Function declaration name is required.");if(c.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);c.set(g.name,m)}}return c}async processAfcStream(e){var o,s,a;const c=(a=(s=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:Dy;let d=!1,m=0;const y=await this.initAfcToolsMap(e);return(function(g,v,E){return Jt(this,arguments,function*(){for(var T,C,D,k,x,G;m<c;){d&&(m++,d=!1);const ee=yield se(g.processParamsMaybeAddMcpUsage(E)),te=yield se(g.generateContentStreamInternal(ee)),F=[],ge=[];try{for(var z=!0,q=(C=void 0,Yt(te)),K;K=yield se(q.next()),T=K.done,!T;z=!0){k=K.value,z=!1;const Z=k;if(yield yield se(Z),Z.candidates&&(!((x=Z.candidates[0])===null||x===void 0)&&x.content)){ge.push(Z.candidates[0].content);for(const he of(G=Z.candidates[0].content.parts)!==null&&G!==void 0?G:[])if(m<c&&he.functionCall){if(!he.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(he.functionCall.name)){const Ae=yield se(v.get(he.functionCall.name).callTool([he.functionCall]));F.push(...Ae)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${he.functionCall.name}`)}}}}catch(Z){C={error:Z}}finally{try{!z&&!T&&(D=q.return)&&(yield se(D.call(q)))}finally{if(C)throw C.error}}if(F.length>0){d=!0;const Z=new ks;Z.candidates=[{content:{role:"user",parts:F}}],yield yield se(Z);const he=[];he.push(...ge),he.push({role:"user",parts:F});const Ae=Ot(E.contents).concat(he);E.contents=Ae}else break}})})(this,y,e)}async generateContentInternal(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=Iy(this.apiClient,e);return m=Y("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=Ny(v),T=new ks;return Object.assign(T,E),T})}else{const g=Ry(this.apiClient,e);return m=Y("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=My(v),T=new ks;return Object.assign(T,E),T})}}async generateContentStreamInternal(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=Iy(this.apiClient,e);return m=Y("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),d.then(function(E){return Jt(this,arguments,function*(){var T,C,D,k;try{for(var x=!0,G=Yt(E),z;z=yield se(G.next()),T=z.done,!T;x=!0){k=z.value,x=!1;const q=k,K=Ny(yield se(q.json()));K.sdkHttpResponse={headers:q.headers};const ee=new ks;Object.assign(ee,K),yield yield se(ee)}}catch(q){C={error:q}}finally{try{!x&&!T&&(D=G.return)&&(yield se(D.call(G)))}finally{if(C)throw C.error}}})})}else{const g=Ry(this.apiClient,e);return m=Y("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(E){return Jt(this,arguments,function*(){var T,C,D,k;try{for(var x=!0,G=Yt(E),z;z=yield se(G.next()),T=z.done,!T;x=!0){k=z.value,x=!1;const q=k,K=My(yield se(q.json()));K.sdkHttpResponse={headers:q.headers};const ee=new ks;Object.assign(ee,K),yield yield se(ee)}}catch(q){C={error:q}}finally{try{!x&&!T&&(D=G.return)&&(yield se(D.call(G)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=NN(this.apiClient,e);return m=Y("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=DN(v),T=new ly;return Object.assign(T,E),T})}else{const g=MN(this.apiClient,e);return m=Y("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=wN(v),T=new ly;return Object.assign(T,E),T})}}async generateImagesInternal(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=qN(this.apiClient,e);return m=Y("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=zN(v),T=new uy;return Object.assign(T,E),T})}else{const g=GN(this.apiClient,e);return m=Y("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=BN(v),T=new uy;return Object.assign(T,E),T})}}async editImageInternal(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI()){const m=CN(this.apiClient,e);return c=Y("{model}:predict",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=AN(y),v=new bR;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI()){const m=qw(this.apiClient,e);return c=Y("{model}:predict",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=Bw(y),v=new UR;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI()){const m=Sw(this.apiClient,e);return c=Y("{model}:predict",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=Cw(y),v=new xR;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI()){const m=ww(this.apiClient,e);return c=Y("{model}:predict",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=Dw(y),v=new LR;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=rw(this.apiClient,e);return m=Y("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Yc(v))}else{const g=sw(this.apiClient,e);return m=Y("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Jc(v))}}async listInternal(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=mw(this.apiClient,e);return m=Y("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=yw(v),T=new cy;return Object.assign(T,E),T})}else{const g=pw(this.apiClient,e);return m=Y("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=gw(v),T=new cy;return Object.assign(T,E),T})}}async update(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=Vw(this.apiClient,e);return m=Y("{model}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>Yc(v))}else{const g=Ow(this.apiClient,e);return m=Y("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Jc(v))}}async delete(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=_N(this.apiClient,e);return m=Y("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=EN(v),T=new fy;return Object.assign(T,E),T})}else{const g=vN(this.apiClient,e);return m=Y("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=TN(v),T=new fy;return Object.assign(T,E),T})}}async countTokens(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=mN(this.apiClient,e);return m=Y("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=yN(v),T=new dy;return Object.assign(T,E),T})}else{const g=pN(this.apiClient,e);return m=Y("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=gN(v),T=new dy;return Object.assign(T,E),T})}}async computeTokens(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI()){const m=aN(this.apiClient,e);return c=Y("{model}:computeTokens",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=lN(y),v=new kR;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=XN(this.apiClient,e);return m=Y("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>{const E=KN(v),T=new Pa;return Object.assign(T,E),T})}else{const g=$N(this.apiClient,e);return m=Y("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>{const E=YN(v),T=new Pa;return Object.assign(T,E),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kD extends Nn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const o=e.operation,s=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=RR(e);return m=Y("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d}else{const g=AR(e);return m=Y("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI()){const m=yR(e);return c=Y("{resourceName}:fetchPredictOperation",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PD(n){const e={},o=u(n,["data"]);if(o!=null&&f(e,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function HD(n){const e={},o=u(n,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>YD(c))),f(e,["parts"],a)}const s=u(n,["role"]);return s!=null&&f(e,["role"],s),e}function OD(n,e,o){const s={},a=u(e,["expireTime"]);o!==void 0&&a!=null&&f(o,["expireTime"],a);const c=u(e,["newSessionExpireTime"]);o!==void 0&&c!=null&&f(o,["newSessionExpireTime"],c);const d=u(e,["uses"]);o!==void 0&&d!=null&&f(o,["uses"],d);const m=u(e,["liveConnectConstraints"]);o!==void 0&&m!=null&&f(o,["bidiGenerateContentSetup"],JD(n,m));const y=u(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),s}function VD(n,e){const o={},s=u(e,["config"]);return s!=null&&f(o,["config"],OD(n,s,o)),o}function GD(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(e,["fileUri"],o);const s=u(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function qD(n){const e={},o=u(n,["id"]);o!=null&&f(e,["id"],o);const s=u(n,["args"]);s!=null&&f(e,["args"],s);const a=u(n,["name"]);if(a!=null&&f(e,["name"],a),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function BD(n){const e={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(e,["enableWidget"],o),e}function zD(n){const e={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(e,["timeRangeFilter"],o),e}function FD(n,e){const o={},s=u(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const a=u(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const c=u(n,["temperature"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","temperature"],c);const d=u(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const m=u(n,["topK"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","topK"],m);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=u(n,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=u(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const E=u(n,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],vf(E));const T=u(n,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const C=u(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],C);const D=u(n,["systemInstruction"]);e!==void 0&&D!=null&&f(e,["setup","systemInstruction"],HD(ot(D)));const k=u(n,["tools"]);if(e!==void 0&&k!=null){let te=Oo(k);Array.isArray(te)&&(te=te.map(F=>$D(Ho(F)))),f(e,["setup","tools"],te)}const x=u(n,["sessionResumption"]);e!==void 0&&x!=null&&f(e,["setup","sessionResumption"],KD(x));const G=u(n,["inputAudioTranscription"]);e!==void 0&&G!=null&&f(e,["setup","inputAudioTranscription"],G);const z=u(n,["outputAudioTranscription"]);e!==void 0&&z!=null&&f(e,["setup","outputAudioTranscription"],z);const q=u(n,["realtimeInputConfig"]);e!==void 0&&q!=null&&f(e,["setup","realtimeInputConfig"],q);const K=u(n,["contextWindowCompression"]);e!==void 0&&K!=null&&f(e,["setup","contextWindowCompression"],K);const ee=u(n,["proactivity"]);if(e!==void 0&&ee!=null&&f(e,["setup","proactivity"],ee),u(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function JD(n,e){const o={},s=u(e,["model"]);s!=null&&f(o,["setup","model"],Te(n,s));const a=u(e,["config"]);return a!=null&&f(o,["config"],FD(a,o)),o}function YD(n){const e={},o=u(n,["mediaResolution"]);o!=null&&f(e,["mediaResolution"],o);const s=u(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=u(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const c=u(n,["fileData"]);c!=null&&f(e,["fileData"],GD(c));const d=u(n,["functionCall"]);d!=null&&f(e,["functionCall"],qD(d));const m=u(n,["functionResponse"]);m!=null&&f(e,["functionResponse"],m);const y=u(n,["inlineData"]);y!=null&&f(e,["inlineData"],PD(y));const g=u(n,["text"]);g!=null&&f(e,["text"],g);const v=u(n,["thought"]);v!=null&&f(e,["thought"],v);const E=u(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const T=u(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function KD(n){const e={},o=u(n,["handle"]);if(o!=null&&f(e,["handle"],o),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $D(n){const e={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&f(e,["computerUse"],o);const s=u(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=u(n,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=u(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],BD(d));const m=u(n,["googleSearch"]);m!=null&&f(e,["googleSearch"],zD(m));const y=u(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const g=u(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XD(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const s=n[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const a=Object.keys(s).map(c=>`${o}.${c}`);e.push(...a)}else e.push(o)}return e.join(",")}function QD(n,e){let o=null;const s=n.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const c=s.setup;typeof c=="object"&&c!==null?(n.bidiGenerateContentSetup=c,o=c):delete n.bidiGenerateContentSetup}else s!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(o){const c=XD(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?n.fieldMask=c:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];a.length>0&&(m=a.map(g=>d.includes(g)?`generationConfig.${g}`:g));const y=[];c&&y.push(c),m.length>0&&y.push(...m),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class ZD extends Nn{constructor(e){super(),this.apiClient=e}async create(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=VD(this.apiClient,e);c=Y("auth_tokens",m._url),d=m._query,delete m.config,delete m._url,delete m._query;const y=QD(m,e.config);return a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WD(n,e){const o={},s=u(n,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),o}function jD(n){const e={},o=u(n,["name"]);o!=null&&f(e,["_url","name"],o);const s=u(n,["config"]);return s!=null&&WD(s,e),e}function eb(n){const e={},o=u(n,["name"]);return o!=null&&f(e,["_url","name"],o),e}function tb(n,e){const o={},s=u(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=u(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),o}function nb(n){const e={},o=u(n,["parent"]);o!=null&&f(e,["_url","parent"],o);const s=u(n,["config"]);return s!=null&&tb(s,e),e}function ib(n){const e={},o=u(n,["sdkHttpResponse"]);o!=null&&f(e,["sdkHttpResponse"],o);const s=u(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=u(n,["documents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),f(e,["documents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ob extends Nn{constructor(e){super(),this.apiClient=e,this.list=async o=>new Pi(In.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=eb(e);return c=Y("{name}",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var o,s;let a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=jD(e);a=Y("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=nb(e);return c=Y("{parent}/documents",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=ib(y),v=new PR;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sb extends Nn{constructor(e,o=new ob(e)){super(),this.apiClient=e,this.documents=o,this.list=async(s={})=>new Pi(In.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Xw(e);return c=Y("fileSearchStores",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async get(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Ww(e);return c=Y("{name}",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var o,s;let a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Zw(e);a=Y("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=oD(e);return c=Y("fileSearchStores",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=sD(y),v=new HR;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=rD(e);return c=Y("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=aD(y),v=new OR;return Object.assign(v,g),v})}}async importFile(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=tD(e);return c=Y("{file_search_store_name}:importFile",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=eD(y),v=new hf;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let a0=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return a0=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),o=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^o()&15>>+s/4).toString(16))};const rb=()=>a0();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $c(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const Xc=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vt extends Error{}class ut extends Vt{constructor(e,o,s,a){super(`${ut.makeMessage(e,o,s)}`),this.status=e,this.headers=a,this.error=o}static makeMessage(e,o,s){const a=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):s;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,o,s,a){if(!e||!a)return new Xa({message:s,cause:Xc(o)});const c=o;return e===400?new u0(e,c,s,a):e===401?new c0(e,c,s,a):e===403?new f0(e,c,s,a):e===404?new d0(e,c,s,a):e===409?new h0(e,c,s,a):e===422?new p0(e,c,s,a):e===429?new m0(e,c,s,a):e>=500?new g0(e,c,s,a):new ut(e,c,s,a)}}class Qc extends ut{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Xa extends ut{constructor({message:e,cause:o}){super(void 0,void 0,e||"Connection error.",void 0),o&&(this.cause=o)}}class l0 extends Xa{constructor({message:e}={}){super({message:e??"Request timed out."})}}class u0 extends ut{}class c0 extends ut{}class f0 extends ut{}class d0 extends ut{}class h0 extends ut{}class p0 extends ut{}class m0 extends ut{}class g0 extends ut{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ab=/^[a-z][a-z0-9+.-]*:/i,lb=n=>ab.test(n);let Zc=n=>(Zc=Array.isArray,Zc(n));const ub=Zc;let cb=ub;const Ly=cb;function fb(n){if(!n)return!0;for(const e in n)return!1;return!0}function db(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const hb=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Vt(`${n} must be an integer`);if(e<0)throw new Vt(`${n} must be a positive integer`);return e},pb=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mb=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const So="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gb(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const yb=()=>{var n,e,o,s,a;const c=gb();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":Py(Deno.build.os),"X-Stainless-Arch":ky(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":Py((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":ky((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const d=vb();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function vb(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:o}of n){const s=o.exec(navigator.userAgent);if(s){const a=s[1]||0,c=s[2]||0,d=s[3]||0;return{browser:e,version:`${a}.${c}.${d}`}}}return null}const ky=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",Py=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let ya;const _b=()=>ya??(ya=yb());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tb(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function y0(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function Eb(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return y0({start(){},async pull(o){const{done:s,value:a}=await e.next();s?o.close():o.enqueue(a)},async cancel(){var o;await((o=e.return)===null||o===void 0?void 0:o.call(e))}})}function v0(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const o=await e.read();return o!=null&&o.done&&e.releaseLock(),o}catch(o){throw e.releaseLock(),o}},async return(){const o=e.cancel();return e.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Sb(n){var e,o;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((o=(e=n[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(e));return}const s=n.getReader(),a=s.cancel();s.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cb=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _0=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,o=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function wc(n,e,o){return _0(),new File(n,e??"unknown_file",o)}function Ab(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const Rb=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T0=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",Ib=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&T0(n),Mb=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function Nb(n,e,o){if(_0(),n=await n,Ib(n))return n instanceof File?n:wc([await n.arrayBuffer()],n.name);if(Mb(n)){const a=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),wc(await Wc(a),e,o)}const s=await Wc(n);if(e||(e=Ab(n)),!(o!=null&&o.type)){const a=s.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof a=="string"&&(o=Object.assign(Object.assign({},o),{type:a}))}return wc(s,e,o)}async function Wc(n){var e,o,s,a,c;let d=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)d.push(n);else if(T0(n))d.push(n instanceof Blob?n:await n.arrayBuffer());else if(Rb(n))try{for(var m=!0,y=Yt(n),g;g=await y.next(),e=g.done,!e;m=!0){a=g.value,m=!1;const v=a;d.push(...await Wc(v))}}catch(v){o={error:v}}finally{try{!m&&!e&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}else{const v=(c=n==null?void 0:n.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof n}${v?`; constructor: ${v}`:""}${wb(n)}`)}return d}function wb(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E0{constructor(e){this._client=e}}E0._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S0(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Hy=Object.freeze(Object.create(null)),Db=(n=S0)=>(function(o,...s){if(o.length===1)return o[0];let a=!1;const c=[],d=o.reduce((v,E,T)=>{var C,D,k;/[?#]/.test(E)&&(a=!0);const x=s[T];let G=(a?encodeURIComponent:n)(""+x);return T!==s.length&&(x==null||typeof x=="object"&&x.toString===((k=Object.getPrototypeOf((D=Object.getPrototypeOf((C=x.hasOwnProperty)!==null&&C!==void 0?C:Hy))!==null&&D!==void 0?D:Hy))===null||k===void 0?void 0:k.toString))&&(G=x+"",c.push({start:v.length+E.length,length:G.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),v+E+(T===s.length?"":G)},""),m=d.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=y.exec(m))!==null;)c.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(c.sort((v,E)=>v.start-E.start),c.length>0){let v=0;const E=c.reduce((T,C)=>{const D=" ".repeat(C.start-v),k="^".repeat(C.length);return v=C.start+C.length,T+D+k},"");throw new Vt(`Path parameters result in path with invalid segments:
${c.map(T=>T.error).join(`
`)}
${d}
${E}`)}return d}),va=Db(S0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C0 extends E0{create(e,o){var s;const{api_version:a=this._client.apiVersion}=e,c=Oa(e,["api_version"]);if("model"in c&&"agent_config"in c)throw new Vt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new Vt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(va`/${a}/interactions`,Object.assign(Object.assign({body:c},o),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,o={},s){const{api_version:a=this._client.apiVersion}=o??{};return this._client.delete(va`/${a}/interactions/${e}`,s)}cancel(e,o={},s){const{api_version:a=this._client.apiVersion}=o??{};return this._client.post(va`/${a}/interactions/${e}/cancel`,s)}get(e,o={},s){var a;const c=o??{},{api_version:d=this._client.apiVersion}=c,m=Oa(c,["api_version"]);return this._client.get(va`/${d}/interactions/${e}`,Object.assign(Object.assign({query:m},s),{stream:(a=o==null?void 0:o.stream)!==null&&a!==void 0?a:!1}))}}C0._key=Object.freeze(["interactions"]);class A0 extends C0{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bb(n){let e=0;for(const a of n)e+=a.length;const o=new Uint8Array(e);let s=0;for(const a of n)o.set(a,s),s+=a.length;return o}let _a;function Tf(n){let e;return(_a??(e=new globalThis.TextEncoder,_a=e.encode.bind(e)))(n)}let Ta;function Oy(n){let e;return(Ta??(e=new globalThis.TextDecoder,Ta=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const o=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Tf(e):e;this.buffer=bb([this.buffer,o]);const s=[];let a;for(;(a=Ub(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){s.push(Oy(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,d=Oy(this.buffer.subarray(0,c));s.push(d),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Qa.NEWLINE_CHARS=new Set([`
`,"\r"]);Qa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Ub(n,e){for(let a=e??0;a<n.length;a++){if(n[a]===10)return{preceding:a,index:a+1,carriage:!1};if(n[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function xb(n){for(let s=0;s<n.length-1;s++){if(n[s]===10&&n[s+1]===10||n[s]===13&&n[s+1]===13)return s+2;if(n[s]===13&&n[s+1]===10&&s+3<n.length&&n[s+2]===13&&n[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Va={off:0,error:200,warn:300,info:400,debug:500},Vy=(n,e,o)=>{if(n){if(db(Va,n))return n;at(o).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(Va))}`)}};function Vs(){}function Ea(n,e,o){return!e||Va[n]>Va[o]?Vs:e[n].bind(e)}const Lb={error:Vs,warn:Vs,info:Vs,debug:Vs};let Gy=new WeakMap;function at(n){var e;const o=n.logger,s=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!o)return Lb;const a=Gy.get(o);if(a&&a[0]===s)return a[1];const c={error:Ea("error",o,s),warn:Ea("warn",o,s),info:Ea("info",o,s),debug:Ea("debug",o,s)};return Gy.set(o,[s,c]),c}const Ui=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,o])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ro{constructor(e,o,s){this.iterator=e,this.controller=o,this.client=s}static fromSSEResponse(e,o,s){let a=!1;const c=s?at(s):console;function d(){return Jt(this,arguments,function*(){var y,g,v,E;if(a)throw new Vt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let T=!1;try{try{for(var C=!0,D=Yt(kb(e,o)),k;k=yield se(D.next()),y=k.done,!y;C=!0){E=k.value,C=!1;const x=E;if(!T)if(x.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield se(JSON.parse(x.data))}catch(G){throw c.error("Could not parse message into JSON:",x.data),c.error("From chunk:",x.raw),G}}}catch(x){g={error:x}}finally{try{!C&&!y&&(v=D.return)&&(yield se(v.call(D)))}finally{if(g)throw g.error}}T=!0}catch(x){if($c(x))return yield se(void 0);throw x}finally{T||o.abort()}})}return new Ro(d,o,s)}static fromReadableStream(e,o,s){let a=!1;function c(){return Jt(this,arguments,function*(){var y,g,v,E;const T=new Qa,C=v0(e);try{for(var D=!0,k=Yt(C),x;x=yield se(k.next()),y=x.done,!y;D=!0){E=x.value,D=!1;const G=E;for(const z of T.decode(G))yield yield se(z)}}catch(G){g={error:G}}finally{try{!D&&!y&&(v=k.return)&&(yield se(v.call(k)))}finally{if(g)throw g.error}}for(const G of T.flush())yield yield se(G)})}function d(){return Jt(this,arguments,function*(){var y,g,v,E;if(a)throw new Vt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let T=!1;try{try{for(var C=!0,D=Yt(c()),k;k=yield se(D.next()),y=k.done,!y;C=!0){E=k.value,C=!1;const x=E;T||x&&(yield yield se(JSON.parse(x)))}}catch(x){g={error:x}}finally{try{!C&&!y&&(v=D.return)&&(yield se(v.call(D)))}finally{if(g)throw g.error}}T=!0}catch(x){if($c(x))return yield se(void 0);throw x}finally{T||o.abort()}})}return new Ro(d,o,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],o=[],s=this.iterator(),a=c=>({next:()=>{if(c.length===0){const d=s.next();e.push(d),o.push(d)}return c.shift()}});return[new Ro(()=>a(e),this.controller,this.client),new Ro(()=>a(o),this.controller,this.client)]}toReadableStream(){const e=this;let o;return y0({async start(){o=e[Symbol.asyncIterator]()},async pull(s){try{const{value:a,done:c}=await o.next();if(c)return s.close();const d=Tf(JSON.stringify(a)+`
`);s.enqueue(d)}catch(a){s.error(a)}},async cancel(){var s;await((s=o.return)===null||s===void 0?void 0:s.call(o))}})}}function kb(n,e){return Jt(this,arguments,function*(){var s,a,c,d;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Vt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Vt("Attempted to iterate over a response with no body");const m=new Hb,y=new Qa,g=v0(n.body);try{for(var v=!0,E=Yt(Pb(g)),T;T=yield se(E.next()),s=T.done,!s;v=!0){d=T.value,v=!1;const C=d;for(const D of y.decode(C)){const k=m.decode(D);k&&(yield yield se(k))}}}catch(C){a={error:C}}finally{try{!v&&!s&&(c=E.return)&&(yield se(c.call(E)))}finally{if(a)throw a.error}}for(const C of y.flush()){const D=m.decode(C);D&&(yield yield se(D))}})}function Pb(n){return Jt(this,arguments,function*(){var o,s,a,c;let d=new Uint8Array;try{for(var m=!0,y=Yt(n),g;g=yield se(y.next()),o=g.done,!o;m=!0){c=g.value,m=!1;const v=c;if(v==null)continue;const E=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Tf(v):v;let T=new Uint8Array(d.length+E.length);T.set(d),T.set(E,d.length),d=T;let C;for(;(C=xb(d))!==-1;)yield yield se(d.slice(0,C)),d=d.slice(C)}}catch(v){s={error:v}}finally{try{!m&&!o&&(a=y.return)&&(yield se(a.call(y)))}finally{if(s)throw s.error}}d.length>0&&(yield yield se(d))})}class Hb{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(e),e.startsWith(":"))return null;let[o,s,a]=Ob(e,":");return a.startsWith(" ")&&(a=a.substring(1)),o==="event"?this.event=a:o==="data"&&this.data.push(a),null}}function Ob(n,e){const o=n.indexOf(e);return o!==-1?[n.substring(0,o),e,n.substring(o+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Vb(n,e){const{response:o,requestLogID:s,retryOfRequestLogID:a,startTime:c}=e,d=await(async()=>{var m;if(e.options.stream)return at(n).debug("response",o.status,o.url,o.headers,o.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(o,e.controller,n):Ro.fromSSEResponse(o,e.controller,n);if(o.status===204)return null;if(e.options.__binaryResponse)return o;const y=o.headers.get("content-type"),g=(m=y==null?void 0:y.split(";")[0])===null||m===void 0?void 0:m.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await o.json():await o.text()})();return at(n).debug(`[${s}] response parsed`,Ui({retryOfRequestLogID:a,url:o.url,status:o.status,body:d,durationMs:Date.now()-c})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ef extends Promise{constructor(e,o,s=Vb){super(a=>{a(null)}),this.responsePromise=o,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new Ef(this.client,this.responsePromise,async(o,s)=>e(await this.parseResponse(o,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,o){return this.parse().then(e,o)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R0=Symbol("brand.privateNullableHeaders");function*Gb(n){if(!n)return;if(R0 in n){const{values:s,nulls:a}=n;yield*s.entries();for(const c of a)yield[c,null];return}let e=!1,o;n instanceof Headers?o=n.entries():Ly(n)?o=n:(e=!0,o=Object.entries(n??{}));for(let s of o){const a=s[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const c=Ly(s[1])?s[1]:[s[1]];let d=!1;for(const m of c)m!==void 0&&(e&&!d&&(d=!0,yield[a,null]),yield[a,m])}}const Ps=n=>{const e=new Headers,o=new Set;for(const s of n){const a=new Set;for(const[c,d]of Gb(s)){const m=c.toLowerCase();a.has(m)||(e.delete(c),a.add(m)),d===null?(e.delete(c),o.add(m)):(e.append(c,d),o.delete(m))}}return{[R0]:!0,values:e,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dc=n=>{var e,o,s,a,c,d;if(typeof globalThis.process<"u")return(s=(o=(e=fR)===null||e===void 0?void 0:e[n])===null||o===void 0?void 0:o.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(d=(c=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||c===void 0?void 0:c.call(a,n))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var I0;class Za{constructor(e){var o,s,a,c,d,m,y,{baseURL:g=Dc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=Dc("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:E="v1beta"}=e,T=Oa(e,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:E},T),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(s=C.timeout)!==null&&s!==void 0?s:Za.DEFAULT_TIMEOUT,this.logger=(a=C.logger)!==null&&a!==void 0?a:console;const D="warn";this.logLevel=D,this.logLevel=(d=(c=Vy(C.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:Vy(Dc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:D,this.fetchOptions=C.fetchOptions,this.maxRetries=(m=C.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:Tb(),this.encoder=Cb,this._options=C,this.apiKey=v,this.apiVersion=E,this.clientAdapter=C.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:o}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const o=Ps([e.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Ps([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ps([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([o,s])=>typeof s<"u").map(([o,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(o)}=`;throw new Vt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${So}`}defaultIdempotencyKey(){return`stainless-node-retry-${rb()}`}makeStatusError(e,o,s,a){return ut.generate(e,o,s,a)}buildURL(e,o,s){const a=!this.baseURLOverridden()&&s||this.baseURL,c=lb(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),d=this.defaultQuery();return fb(d)||(o=Object.assign(Object.assign({},d),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(c.search=this.stringifyQuery(o)),c.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const o=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(e,{url:o,options:s}){}get(e,o){return this.methodRequest("get",e,o)}post(e,o){return this.methodRequest("post",e,o)}patch(e,o){return this.methodRequest("patch",e,o)}put(e,o){return this.methodRequest("put",e,o)}delete(e,o){return this.methodRequest("delete",e,o)}methodRequest(e,o,s){return this.request(Promise.resolve(s).then(a=>Object.assign({method:e,path:o},a)))}request(e,o=null){return new Ef(this,this.makeRequest(e,o,void 0))}async makeRequest(e,o,s){var a,c,d;const m=await e,y=(a=m.maxRetries)!==null&&a!==void 0?a:this.maxRetries;o==null&&(o=y),await this.prepareOptions(m);const{req:g,url:v,timeout:E}=await this.buildRequest(m,{retryCount:y-o});await this.prepareRequest(g,{url:v,options:m});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=s===void 0?"":`, retryOf: ${s}`,D=Date.now();if(at(this).debug(`[${T}] sending request`,Ui({retryOfRequestLogID:s,method:m.method,url:v,options:m,headers:g.headers})),!((c=m.signal)===null||c===void 0)&&c.aborted)throw new Qc;const k=new AbortController,x=await this.fetchWithTimeout(v,g,E,k).catch(Xc),G=Date.now();if(x instanceof globalThis.Error){const q=`retrying, ${o} attempts remaining`;if(!((d=m.signal)===null||d===void 0)&&d.aborted)throw new Qc;const K=$c(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(o)return at(this).info(`[${T}] connection ${K?"timed out":"failed"} - ${q}`),at(this).debug(`[${T}] connection ${K?"timed out":"failed"} (${q})`,Ui({retryOfRequestLogID:s,url:v,durationMs:G-D,message:x.message})),this.retryRequest(m,o,s??T);throw at(this).info(`[${T}] connection ${K?"timed out":"failed"} - error; no more retries left`),at(this).debug(`[${T}] connection ${K?"timed out":"failed"} (error; no more retries left)`,Ui({retryOfRequestLogID:s,url:v,durationMs:G-D,message:x.message})),K?new l0:new Xa({cause:x})}const z=`[${T}${C}] ${g.method} ${v} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${G-D}ms`;if(!x.ok){const q=await this.shouldRetry(x);if(o&&q){const Z=`retrying, ${o} attempts remaining`;return await Sb(x.body),at(this).info(`${z} - ${Z}`),at(this).debug(`[${T}] response error (${Z})`,Ui({retryOfRequestLogID:s,url:x.url,status:x.status,headers:x.headers,durationMs:G-D})),this.retryRequest(m,o,s??T,x.headers)}const K=q?"error; no more retries left":"error; not retryable";at(this).info(`${z} - ${K}`);const ee=await x.text().catch(Z=>Xc(Z).message),te=pb(ee),F=te?void 0:ee;throw at(this).debug(`[${T}] response error (${K})`,Ui({retryOfRequestLogID:s,url:x.url,status:x.status,headers:x.headers,message:F,durationMs:Date.now()-D})),this.makeStatusError(x.status,te,F,x.headers)}return at(this).info(z),at(this).debug(`[${T}] response start`,Ui({retryOfRequestLogID:s,url:x.url,status:x.status,headers:x.headers,durationMs:G-D})),{response:x,options:m,controller:k,requestLogID:T,retryOfRequestLogID:s,startTime:D}}async fetchWithTimeout(e,o,s,a){const c=o||{},{signal:d,method:m}=c,y=Oa(c,["signal","method"]);d&&d.addEventListener("abort",()=>a.abort());const g=setTimeout(()=>a.abort(),s),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:a.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);m&&(E.method=m.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(g)}}async shouldRetry(e){const o=e.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,o,s,a){var c;let d;const m=a==null?void 0:a.get("retry-after-ms");if(m){const g=parseFloat(m);Number.isNaN(g)||(d=g)}const y=a==null?void 0:a.get("retry-after");if(y&&!d){const g=parseFloat(y);Number.isNaN(g)?d=Date.parse(y)-Date.now():d=g*1e3}if(!(d&&0<=d&&d<60*1e3)){const g=(c=e.maxRetries)!==null&&c!==void 0?c:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(o,g)}return await mb(d),this.makeRequest(e,o-1,s)}calculateDefaultRetryTimeoutMillis(e,o){const c=o-e,d=Math.min(.5*Math.pow(2,c),8),m=1-Math.random()*.25;return d*m*1e3}async buildRequest(e,{retryCount:o=0}={}){var s,a,c;const d=Object.assign({},e),{method:m,path:y,query:g,defaultBaseURL:v}=d,E=this.buildURL(y,g,v);"timeout"in d&&hb("timeout",d.timeout),d.timeout=(s=d.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:T,body:C}=this.buildBody({options:d}),D=await this.buildHeaders({options:e,method:m,bodyHeaders:T,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:D},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(c=d.fetchOptions)!==null&&c!==void 0?c:{}),url:E,timeout:d.timeout}}async buildHeaders({options:e,method:o,bodyHeaders:s,retryCount:a}){let c={};this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=e.idempotencyKey);const d=await this.authHeaders(e);let m=Ps([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),_b()),this._options.defaultHeaders,s,e.headers,d]);return this.validateHeaders(m),m.values}buildBody({options:{body:e,headers:o}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=Ps([o]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Eb(e)}:this.encoder({body:e,headers:s})}}Za.DEFAULT_TIMEOUT=6e4;class Ze extends Za{constructor(){super(...arguments),this.interactions=new A0(this)}}I0=Ze;Ze.GeminiNextGenAPIClient=I0;Ze.GeminiNextGenAPIClientError=Vt;Ze.APIError=ut;Ze.APIConnectionError=Xa;Ze.APIConnectionTimeoutError=l0;Ze.APIUserAbortError=Qc;Ze.NotFoundError=d0;Ze.ConflictError=h0;Ze.RateLimitError=m0;Ze.BadRequestError=u0;Ze.AuthenticationError=c0;Ze.InternalServerError=g0;Ze.PermissionDeniedError=f0;Ze.UnprocessableEntityError=p0;Ze.toFile=Nb;Ze.Interactions=A0;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qb(n,e){const o={},s=u(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function Bb(n,e){const o={},s=u(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function zb(n,e){const o={},s=u(n,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function Fb(n,e){const o={},s=u(n,["sdkHttpResponse"]);return s!=null&&f(o,["sdkHttpResponse"],s),o}function Jb(n,e,o){const s={};if(u(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=u(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&f(e,["displayName"],a),u(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(n,["epochCount"]);e!==void 0&&c!=null&&f(e,["tuningTask","hyperparameters","epochCount"],c);const d=u(n,["learningRateMultiplier"]);if(d!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],d),u(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=u(n,["batchSize"]);e!==void 0&&m!=null&&f(e,["tuningTask","hyperparameters","batchSize"],m);const y=u(n,["learningRate"]);if(e!==void 0&&y!=null&&f(e,["tuningTask","hyperparameters","learningRate"],y),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function Yb(n,e,o){const s={};let a=u(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const C=u(n,["validationDataset"]);e!==void 0&&C!=null&&f(e,["supervisedTuningSpec"],qy(C))}else if(a==="PREFERENCE_TUNING"){const C=u(n,["validationDataset"]);e!==void 0&&C!=null&&f(e,["preferenceOptimizationSpec"],qy(C))}const c=u(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&f(e,["tunedModelDisplayName"],c);const d=u(n,["description"]);e!==void 0&&d!=null&&f(e,["description"],d);let m=u(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const C=u(n,["epochCount"]);e!==void 0&&C!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(m==="PREFERENCE_TUNING"){const C=u(n,["epochCount"]);e!==void 0&&C!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(n,["learningRateMultiplier"]);e!==void 0&&C!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(n,["learningRateMultiplier"]);e!==void 0&&C!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(n,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(n,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=u(n,["adapterSize"]);e!==void 0&&C!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=u(n,["adapterSize"]);e!==void 0&&C!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=u(n,["labels"]);e!==void 0&&E!=null&&f(e,["labels"],E);const T=u(n,["beta"]);return e!==void 0&&T!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),s}function Kb(n,e){const o={},s=u(n,["baseModel"]);s!=null&&f(o,["baseModel"],s);const a=u(n,["preTunedModel"]);a!=null&&f(o,["preTunedModel"],a);const c=u(n,["trainingDataset"]);c!=null&&o2(c);const d=u(n,["config"]);return d!=null&&Jb(d,o),o}function $b(n,e){const o={},s=u(n,["baseModel"]);s!=null&&f(o,["baseModel"],s);const a=u(n,["preTunedModel"]);a!=null&&f(o,["preTunedModel"],a);const c=u(n,["trainingDataset"]);c!=null&&s2(c,o,e);const d=u(n,["config"]);return d!=null&&Yb(d,o,e),o}function Xb(n,e){const o={},s=u(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function Qb(n,e){const o={},s=u(n,["name"]);return s!=null&&f(o,["_url","name"],s),o}function Zb(n,e,o){const s={},a=u(n,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const c=u(n,["pageToken"]);e!==void 0&&c!=null&&f(e,["_query","pageToken"],c);const d=u(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function Wb(n,e,o){const s={},a=u(n,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const c=u(n,["pageToken"]);e!==void 0&&c!=null&&f(e,["_query","pageToken"],c);const d=u(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function jb(n,e){const o={},s=u(n,["config"]);return s!=null&&Zb(s,o),o}function e2(n,e){const o={},s=u(n,["config"]);return s!=null&&Wb(s,o),o}function t2(n,e){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const a=u(n,["nextPageToken"]);a!=null&&f(o,["nextPageToken"],a);const c=u(n,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>M0(m))),f(o,["tuningJobs"],d)}return o}function n2(n,e){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const a=u(n,["nextPageToken"]);a!=null&&f(o,["nextPageToken"],a);const c=u(n,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>jc(m))),f(o,["tuningJobs"],d)}return o}function i2(n,e){const o={},s=u(n,["name"]);s!=null&&f(o,["model"],s);const a=u(n,["name"]);return a!=null&&f(o,["endpoint"],a),o}function o2(n,e){const o={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(n,["examples"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>c)),f(o,["examples","examples"],a)}return o}function s2(n,e,o){const s={};let a=u(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const d=u(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(a==="PREFERENCE_TUNING"){const d=u(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}let c=u(o,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const d=u(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(c==="PREFERENCE_TUNING"){const d=u(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}if(u(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function M0(n,e){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const a=u(n,["name"]);a!=null&&f(o,["name"],a);const c=u(n,["state"]);c!=null&&f(o,["state"],zv(c));const d=u(n,["createTime"]);d!=null&&f(o,["createTime"],d);const m=u(n,["tuningTask","startTime"]);m!=null&&f(o,["startTime"],m);const y=u(n,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const g=u(n,["updateTime"]);g!=null&&f(o,["updateTime"],g);const v=u(n,["description"]);v!=null&&f(o,["description"],v);const E=u(n,["baseModel"]);E!=null&&f(o,["baseModel"],E);const T=u(n,["_self"]);return T!=null&&f(o,["tunedModel"],i2(T)),o}function jc(n,e){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const a=u(n,["name"]);a!=null&&f(o,["name"],a);const c=u(n,["state"]);c!=null&&f(o,["state"],zv(c));const d=u(n,["createTime"]);d!=null&&f(o,["createTime"],d);const m=u(n,["startTime"]);m!=null&&f(o,["startTime"],m);const y=u(n,["endTime"]);y!=null&&f(o,["endTime"],y);const g=u(n,["updateTime"]);g!=null&&f(o,["updateTime"],g);const v=u(n,["error"]);v!=null&&f(o,["error"],v);const E=u(n,["description"]);E!=null&&f(o,["description"],E);const T=u(n,["baseModel"]);T!=null&&f(o,["baseModel"],T);const C=u(n,["tunedModel"]);C!=null&&f(o,["tunedModel"],C);const D=u(n,["preTunedModel"]);D!=null&&f(o,["preTunedModel"],D);const k=u(n,["supervisedTuningSpec"]);k!=null&&f(o,["supervisedTuningSpec"],k);const x=u(n,["preferenceOptimizationSpec"]);x!=null&&f(o,["preferenceOptimizationSpec"],x);const G=u(n,["tuningDataStats"]);G!=null&&f(o,["tuningDataStats"],G);const z=u(n,["encryptionSpec"]);z!=null&&f(o,["encryptionSpec"],z);const q=u(n,["partnerModelTuningSpec"]);q!=null&&f(o,["partnerModelTuningSpec"],q);const K=u(n,["customBaseModel"]);K!=null&&f(o,["customBaseModel"],K);const ee=u(n,["experiment"]);ee!=null&&f(o,["experiment"],ee);const te=u(n,["labels"]);te!=null&&f(o,["labels"],te);const F=u(n,["outputUri"]);F!=null&&f(o,["outputUri"],F);const ge=u(n,["pipelineJob"]);ge!=null&&f(o,["pipelineJob"],ge);const Z=u(n,["serviceAccount"]);Z!=null&&f(o,["serviceAccount"],Z);const he=u(n,["tunedModelDisplayName"]);he!=null&&f(o,["tunedModelDisplayName"],he);const Ae=u(n,["veoTuningSpec"]);return Ae!=null&&f(o,["veoTuningSpec"],Ae),o}function r2(n,e){const o={},s=u(n,["sdkHttpResponse"]);s!=null&&f(o,["sdkHttpResponse"],s);const a=u(n,["name"]);a!=null&&f(o,["name"],a);const c=u(n,["metadata"]);c!=null&&f(o,["metadata"],c);const d=u(n,["done"]);d!=null&&f(o,["done"],d);const m=u(n,["error"]);return m!=null&&f(o,["error"],m),o}function qy(n,e){const o={},s=u(n,["gcsUri"]);s!=null&&f(o,["validationDatasetUri"],s);const a=u(n,["vertexDatasetResource"]);return a!=null&&f(o,["validationDatasetUri"],a),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a2 extends Nn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Pi(In.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const a={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(a.checkpointId=o.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},o),{preTunedModel:a});return c.baseModel=void 0,await this.tuneInternal(c)}else{const a=Object.assign({},o);return await this.tuneInternal(a)}else{const a=Object.assign({},o),c=await this.tuneMldevInternal(a);let d="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?d=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(d=c.name.split("/operations/")[0]),{name:d,state:qc.JOB_STATE_QUEUED}}}}async getInternal(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=Qb(e);return m=Y("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>jc(v))}else{const g=Xb(e);return m=Y("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>M0(v))}}async listInternal(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=e2(e);return m=Y("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=n2(v),T=new hy;return Object.assign(T,E),T})}else{const g=jb(e);return m=Y("tunedModels",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=t2(v),T=new hy;return Object.assign(T,E),T})}}async cancel(e){var o,s,a,c;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=Bb(e);return m=Y("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=Fb(v),T=new py;return Object.assign(T,E),T})}else{const g=qb(e);return m=Y("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=zb(v),T=new py;return Object.assign(T,E),T})}}async tuneInternal(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI()){const m=$b(e,e);return c=Y("tuningJobs",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>jc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,s;let a,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Kb(e);return c=Y("tunedModels",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>r2(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l2{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const u2=1024*1024*8,c2=3,f2=1e3,d2=2,Ga="x-goog-upload-status";async function h2(n,e,o){var s;const a=await N0(n,e,o),c=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Ga])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function p2(n,e,o){var s;const a=await N0(n,e,o),c=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Ga])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=Hv(c),m=new pf;return Object.assign(m,d),m}async function N0(n,e,o){var s,a;let c=0,d=0,m=new Bc(new Response),y="upload";for(c=n.size;d<c;){const g=Math.min(u2,c-d),v=n.slice(d,d+g);d+g>=c&&(y+=", finalize");let E=0,T=f2;for(;E<c2&&(m=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(g)}}}),!(!((s=m==null?void 0:m.headers)===null||s===void 0)&&s[Ga]));)E++,await g2(T),T=T*d2;if(d+=g,((a=m==null?void 0:m.headers)===null||a===void 0?void 0:a[Ga])!=="active")break;if(c<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return m}async function m2(n){return{size:n.size,type:n.type}}function g2(n){return new Promise(e=>setTimeout(e,n))}class y2{async upload(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await h2(e,o,s)}async uploadToFileSearchStore(e,o,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await p2(e,o,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await m2(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v2{create(e,o,s){return new _2(e,o,s)}}class _2{constructor(e,o,s){this.url=e,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const By="x-goog-api-key";class T2{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(By)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(By,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const E2="gl-node/";class UU{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new Ze({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=o.interactions,this._interactions}constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const s=mR(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new T2(this.apiKey);this.apiClient=new mD({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:E2+"web",uploader:new y2,downloader:new l2}),this.models=new LD(this.apiClient),this.live=new ND(this.apiClient,a,new v2),this.batches=new FI(this.apiClient),this.chats=new RM(this.models,this.apiClient),this.caches=new SM(this.apiClient),this.files=new kM(this.apiClient),this.operations=new kD(this.apiClient),this.authTokens=new ZD(this.apiClient),this.tunings=new a2(this.apiClient),this.fileSearchStores=new sb(this.apiClient)}}export{rU as $,L2 as A,k2 as B,H2 as C,J2 as D,Y2 as E,$2 as F,UU as G,mU as H,Q2 as I,RU as J,z2 as K,nU as L,sU as M,MU as N,Z2 as O,cU as P,P2 as Q,fU as R,dU as S,IU as T,NU as U,wU as V,lU as W,DU as X,oU as Y,bU as Z,K2 as _,I2 as a,V2 as a0,U2 as a1,F2 as a2,X2 as a3,vU as a4,tU as a5,pU as a6,iU as a7,O2 as a8,q2 as a9,B2 as aa,TU as ab,A2 as ac,C2 as ad,gU as b,R2 as c,j2 as d,_U as e,x2 as f,D2 as g,W2 as h,LS as i,S2 as j,eU as k,ri as l,hU as m,CU as n,N2 as o,yU as p,b2 as q,Io as r,w2 as s,AU as t,M2 as u,uU as v,EU as w,aU as x,G2 as y,SU as z};
